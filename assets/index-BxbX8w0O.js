(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var rm={exports:{}},Vl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function qb(){if(Av)return Vl;Av=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:a,key:f,ref:o!==void 0?o:null,props:u}}return Vl.Fragment=e,Vl.jsx=n,Vl.jsxs=n,Vl}var bv;function Hb(){return bv||(bv=1,rm.exports=qb()),rm.exports}var C=Hb(),am={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv;function Fb(){if(wv)return Ae;wv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),w=Symbol.iterator;function P(x){return x===null||typeof x!="object"?null:(x=w&&x[w]||x["@@iterator"],typeof x=="function"?x:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,Q={};function te(x,W,oe){this.props=x,this.context=W,this.refs=Q,this.updater=oe||G}te.prototype.isReactComponent={},te.prototype.setState=function(x,W){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,W,"setState")},te.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function ne(){}ne.prototype=te.prototype;function ae(x,W,oe){this.props=x,this.context=W,this.refs=Q,this.updater=oe||G}var ie=ae.prototype=new ne;ie.constructor=ae,$(ie,te.prototype),ie.isPureReactComponent=!0;var de=Array.isArray;function ye(){}var I={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function b(x,W,oe){var ce=oe.ref;return{$$typeof:r,type:x,key:W,ref:ce!==void 0?ce:null,props:oe}}function M(x,W){return b(x.type,W,x.props)}function O(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function U(x){var W={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(oe){return W[oe]})}var N=/\/+/g;function rt(x,W){return typeof x=="object"&&x!==null&&x.key!=null?U(""+x.key):W.toString(36)}function Dt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(ye,ye):(x.status="pending",x.then(function(W){x.status==="pending"&&(x.status="fulfilled",x.value=W)},function(W){x.status==="pending"&&(x.status="rejected",x.reason=W)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function Y(x,W,oe,ce,Te){var Ce=typeof x;(Ce==="undefined"||Ce==="boolean")&&(x=null);var Ue=!1;if(x===null)Ue=!0;else switch(Ce){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(x.$$typeof){case r:case e:Ue=!0;break;case E:return Ue=x._init,Y(Ue(x._payload),W,oe,ce,Te)}}if(Ue)return Te=Te(x),Ue=ce===""?"."+rt(x,0):ce,de(Te)?(oe="",Ue!=null&&(oe=Ue.replace(N,"$&/")+"/"),Y(Te,W,oe,"",function(ya){return ya})):Te!=null&&(O(Te)&&(Te=M(Te,oe+(Te.key==null||x&&x.key===Te.key?"":(""+Te.key).replace(N,"$&/")+"/")+Ue)),W.push(Te)),1;Ue=0;var Ot=ce===""?".":ce+":";if(de(x))for(var at=0;at<x.length;at++)ce=x[at],Ce=Ot+rt(ce,at),Ue+=Y(ce,W,oe,Ce,Te);else if(at=P(x),typeof at=="function")for(x=at.call(x),at=0;!(ce=x.next()).done;)ce=ce.value,Ce=Ot+rt(ce,at++),Ue+=Y(ce,W,oe,Ce,Te);else if(Ce==="object"){if(typeof x.then=="function")return Y(Dt(x),W,oe,ce,Te);throw W=String(x),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function se(x,W,oe){if(x==null)return x;var ce=[],Te=0;return Y(x,ce,"","",function(Ce){return W.call(oe,Ce,Te++)}),ce}function ge(x){if(x._status===-1){var W=x._result;W=W(),W.then(function(oe){(x._status===0||x._status===-1)&&(x._status=1,x._result=oe)},function(oe){(x._status===0||x._status===-1)&&(x._status=2,x._result=oe)}),x._status===-1&&(x._status=0,x._result=W)}if(x._status===1)return x._result.default;throw x._result}var ze=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},Ge={map:se,forEach:function(x,W,oe){se(x,function(){W.apply(this,arguments)},oe)},count:function(x){var W=0;return se(x,function(){W++}),W},toArray:function(x){return se(x,function(W){return W})||[]},only:function(x){if(!O(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return Ae.Activity=T,Ae.Children=Ge,Ae.Component=te,Ae.Fragment=n,Ae.Profiler=o,Ae.PureComponent=ae,Ae.StrictMode=a,Ae.Suspense=p,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(x){return I.H.useMemoCache(x)}},Ae.cache=function(x){return function(){return x.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(x,W,oe){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var ce=$({},x.props),Te=x.key;if(W!=null)for(Ce in W.key!==void 0&&(Te=""+W.key),W)!R.call(W,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&W.ref===void 0||(ce[Ce]=W[Ce]);var Ce=arguments.length-2;if(Ce===1)ce.children=oe;else if(1<Ce){for(var Ue=Array(Ce),Ot=0;Ot<Ce;Ot++)Ue[Ot]=arguments[Ot+2];ce.children=Ue}return b(x.type,Te,ce)},Ae.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},Ae.createElement=function(x,W,oe){var ce,Te={},Ce=null;if(W!=null)for(ce in W.key!==void 0&&(Ce=""+W.key),W)R.call(W,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(Te[ce]=W[ce]);var Ue=arguments.length-2;if(Ue===1)Te.children=oe;else if(1<Ue){for(var Ot=Array(Ue),at=0;at<Ue;at++)Ot[at]=arguments[at+2];Te.children=Ot}if(x&&x.defaultProps)for(ce in Ue=x.defaultProps,Ue)Te[ce]===void 0&&(Te[ce]=Ue[ce]);return b(x,Ce,Te)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(x){return{$$typeof:m,render:x}},Ae.isValidElement=O,Ae.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:ge}},Ae.memo=function(x,W){return{$$typeof:y,type:x,compare:W===void 0?null:W}},Ae.startTransition=function(x){var W=I.T,oe={};I.T=oe;try{var ce=x(),Te=I.S;Te!==null&&Te(oe,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(ye,ze)}catch(Ce){ze(Ce)}finally{W!==null&&oe.types!==null&&(W.types=oe.types),I.T=W}},Ae.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ae.use=function(x){return I.H.use(x)},Ae.useActionState=function(x,W,oe){return I.H.useActionState(x,W,oe)},Ae.useCallback=function(x,W){return I.H.useCallback(x,W)},Ae.useContext=function(x){return I.H.useContext(x)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(x,W){return I.H.useDeferredValue(x,W)},Ae.useEffect=function(x,W){return I.H.useEffect(x,W)},Ae.useEffectEvent=function(x){return I.H.useEffectEvent(x)},Ae.useId=function(){return I.H.useId()},Ae.useImperativeHandle=function(x,W,oe){return I.H.useImperativeHandle(x,W,oe)},Ae.useInsertionEffect=function(x,W){return I.H.useInsertionEffect(x,W)},Ae.useLayoutEffect=function(x,W){return I.H.useLayoutEffect(x,W)},Ae.useMemo=function(x,W){return I.H.useMemo(x,W)},Ae.useOptimistic=function(x,W){return I.H.useOptimistic(x,W)},Ae.useReducer=function(x,W,oe){return I.H.useReducer(x,W,oe)},Ae.useRef=function(x){return I.H.useRef(x)},Ae.useState=function(x){return I.H.useState(x)},Ae.useSyncExternalStore=function(x,W,oe){return I.H.useSyncExternalStore(x,W,oe)},Ae.useTransition=function(){return I.H.useTransition()},Ae.version="19.2.0",Ae}var Rv;function ep(){return Rv||(Rv=1,am.exports=Fb()),am.exports}var B=ep(),sm={exports:{}},Ml={},om={exports:{}},lm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv;function Gb(){return Cv||(Cv=1,(function(r){function e(Y,se){var ge=Y.length;Y.push(se);e:for(;0<ge;){var ze=ge-1>>>1,Ge=Y[ze];if(0<o(Ge,se))Y[ze]=se,Y[ge]=Ge,ge=ze;else break e}}function n(Y){return Y.length===0?null:Y[0]}function a(Y){if(Y.length===0)return null;var se=Y[0],ge=Y.pop();if(ge!==se){Y[0]=ge;e:for(var ze=0,Ge=Y.length,x=Ge>>>1;ze<x;){var W=2*(ze+1)-1,oe=Y[W],ce=W+1,Te=Y[ce];if(0>o(oe,ge))ce<Ge&&0>o(Te,oe)?(Y[ze]=Te,Y[ce]=ge,ze=ce):(Y[ze]=oe,Y[W]=ge,ze=W);else if(ce<Ge&&0>o(Te,ge))Y[ze]=Te,Y[ce]=ge,ze=ce;else break e}}return se}function o(Y,se){var ge=Y.sortIndex-se.sortIndex;return ge!==0?ge:Y.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,T=null,w=3,P=!1,G=!1,$=!1,Q=!1,te=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function ie(Y){for(var se=n(y);se!==null;){if(se.callback===null)a(y);else if(se.startTime<=Y)a(y),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(y)}}function de(Y){if($=!1,ie(Y),!G)if(n(p)!==null)G=!0,ye||(ye=!0,U());else{var se=n(y);se!==null&&Dt(de,se.startTime-Y)}}var ye=!1,I=-1,R=5,b=-1;function M(){return Q?!0:!(r.unstable_now()-b<R)}function O(){if(Q=!1,ye){var Y=r.unstable_now();b=Y;var se=!0;try{e:{G=!1,$&&($=!1,ne(I),I=-1),P=!0;var ge=w;try{t:{for(ie(Y),T=n(p);T!==null&&!(T.expirationTime>Y&&M());){var ze=T.callback;if(typeof ze=="function"){T.callback=null,w=T.priorityLevel;var Ge=ze(T.expirationTime<=Y);if(Y=r.unstable_now(),typeof Ge=="function"){T.callback=Ge,ie(Y),se=!0;break t}T===n(p)&&a(p),ie(Y)}else a(p);T=n(p)}if(T!==null)se=!0;else{var x=n(y);x!==null&&Dt(de,x.startTime-Y),se=!1}}break e}finally{T=null,w=ge,P=!1}se=void 0}}finally{se?U():ye=!1}}}var U;if(typeof ae=="function")U=function(){ae(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,rt=N.port2;N.port1.onmessage=O,U=function(){rt.postMessage(null)}}else U=function(){te(O,0)};function Dt(Y,se){I=te(function(){Y(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(Y){switch(w){case 1:case 2:case 3:var se=3;break;default:se=w}var ge=w;w=se;try{return Y()}finally{w=ge}},r.unstable_requestPaint=function(){Q=!0},r.unstable_runWithPriority=function(Y,se){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ge=w;w=Y;try{return se()}finally{w=ge}},r.unstable_scheduleCallback=function(Y,se,ge){var ze=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?ze+ge:ze):ge=ze,Y){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=ge+Ge,Y={id:E++,callback:se,priorityLevel:Y,startTime:ge,expirationTime:Ge,sortIndex:-1},ge>ze?(Y.sortIndex=ge,e(y,Y),n(p)===null&&Y===n(y)&&($?(ne(I),I=-1):$=!0,Dt(de,ge-ze))):(Y.sortIndex=Ge,e(p,Y),G||P||(G=!0,ye||(ye=!0,U()))),Y},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(Y){var se=w;return function(){var ge=w;w=se;try{return Y.apply(this,arguments)}finally{w=ge}}}})(lm)),lm}var Iv;function Qb(){return Iv||(Iv=1,om.exports=Gb()),om.exports}var um={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv;function Kb(){if(Nv)return Xt;Nv=1;var r=ep();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Xt.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},Xt.flushSync=function(p){var y=f.T,E=a.p;try{if(f.T=null,a.p=2,p)return p()}finally{f.T=y,a.p=E,a.d.f()}},Xt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(p,y))},Xt.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},Xt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,P=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?a.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:P}):E==="script"&&a.d.X(p,{crossOrigin:T,integrity:w,fetchPriority:P,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Xt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);a.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(p)},Xt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin);a.d.L(p,E,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Xt.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);a.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(p)},Xt.requestFormReset=function(p){a.d.r(p)},Xt.unstable_batchedUpdates=function(p,y){return p(y)},Xt.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},Xt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Xt.version="19.2.0",Xt}var Dv;function Yb(){if(Dv)return um.exports;Dv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),um.exports=Kb(),um.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov;function Xb(){if(Ov)return Ml;Ov=1;var r=Qb(),e=ep(),n=Yb();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(a(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(a(188));return i!==t?null:t}for(var s=t,l=i;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=d;else{for(var _=!1,S=h.child;S;){if(S===s){_=!0,s=h,l=d;break}if(S===l){_=!0,l=h,s=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===s){_=!0,s=d,l=h;break}if(S===l){_=!0,l=d,s=h;break}S=S.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case te:return"Profiler";case Q:return"StrictMode";case de:return"Suspense";case ye:return"SuspenseList";case b:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case ae:return t.displayName||"Context";case ne:return(t._context.displayName||"Context")+".Consumer";case ie:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:rt(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return rt(t(i))}catch{}}return null}var Dt=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},ze=[],Ge=-1;function x(t){return{current:t}}function W(t){0>Ge||(t.current=ze[Ge],ze[Ge]=null,Ge--)}function oe(t,i){Ge++,ze[Ge]=t.current,t.current=i}var ce=x(null),Te=x(null),Ce=x(null),Ue=x(null);function Ot(t,i){switch(oe(Ce,i),oe(Te,t),oe(ce,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Q_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Q_(i),t=K_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(ce),oe(ce,t)}function at(){W(ce),W(Te),W(Ce)}function ya(t){t.memoizedState!==null&&oe(Ue,t);var i=ce.current,s=K_(i,t.type);i!==s&&(oe(Te,t),oe(ce,s))}function us(t){Te.current===t&&(W(ce),W(Te)),Ue.current===t&&(W(Ue),Il._currentValue=ge)}var cs,hs;function ai(t){if(cs===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);cs=i&&i[1]||"",hs=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+cs+t+hs}var Io=!1;function _a(t,i){if(!t||Io)return"";Io=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(F){var q=F}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(F){q=F}t.call(Z.prototype)}}else{try{throw Error()}catch(F){q=F}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var D=_.split(`
`),j=S.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===j.length)for(l=D.length-1,h=j.length-1;1<=l&&0<=h&&D[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==j[h]){var K=`
`+D[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=h);break}}}finally{Io=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?ai(s):""}function No(t,i){switch(t.tag){case 26:case 27:case 5:return ai(t.type);case 16:return ai("Lazy");case 13:return t.child!==i&&i!==null?ai("Suspense Fallback"):ai("Suspense");case 19:return ai("SuspenseList");case 0:case 15:return _a(t.type,!1);case 11:return _a(t.type.render,!1);case 1:return _a(t.type,!0);case 31:return ai("Activity");default:return""}}function Do(t){try{var i="",s=null;do i+=No(t,s),s=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _t=Object.prototype.hasOwnProperty,Vt=r.unstable_scheduleCallback,gr=r.unstable_cancelCallback,sf=r.unstable_shouldYield,vu=r.unstable_requestPaint,tn=r.unstable_now,va=r.unstable_getCurrentPriorityLevel,Oo=r.unstable_ImmediatePriority,Vo=r.unstable_UserBlockingPriority,yr=r.unstable_NormalPriority,of=r.unstable_LowPriority,Eu=r.unstable_IdlePriority,Tu=r.log,Su=r.unstable_setDisableYieldValue,jn=null,jt=null;function bn(t){if(typeof Tu=="function"&&Su(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(jn,t)}catch{}}var ft=Math.clz32?Math.clz32:bu,Au=Math.log,fs=Math.LN2;function bu(t){return t>>>=0,t===0?32:31-(Au(t)/fs|0)|0}var si=256,Ea=262144,vt=4194304;function oi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function li(t,i,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=oi(l):(_&=S,_!==0?h=oi(_):s||(s=S&~t,s!==0&&(h=oi(s))))):(S=l&~d,S!==0?h=oi(S):_!==0?h=oi(_):s||(s=l&~t,s!==0&&(h=oi(s)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,s=i&-i,d>=s||d===32&&(s&4194048)!==0)?i:h}function Bn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function lf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wu(){var t=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),t}function ui(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function Ta(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function uf(t,i,s,l,h,d){var _=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var S=t.entanglements,D=t.expirationTimes,j=t.hiddenUpdates;for(s=_&~s;0<s;){var K=31-ft(s),Z=1<<K;S[K]=0,D[K]=-1;var q=j[K];if(q!==null)for(j[K]=null,K=0;K<q.length;K++){var F=q[K];F!==null&&(F.lane&=-536870913)}s&=~Z}l!==0&&Sa(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Sa(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-ft(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function Mo(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var l=31-ft(s),h=1<<l;h&i|t[l]&i&&(t[l]|=i),s&=~h}}function xo(t,i){var s=i&-i;return s=(s&42)!==0?1:Aa(s),(s&(t.suspendedLanes|i))!==0?0:s}function Aa(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ui(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ru(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:gv(t.type))}function qn(t,i){var s=se.p;try{return se.p=t,i()}finally{se.p=s}}var Hn=Math.random().toString(36).slice(2),Et="__reactFiber$"+Hn,Pt="__reactProps$"+Hn,ci="__reactContainer$"+Hn,ds="__reactEvents$"+Hn,cf="__reactListeners$"+Hn,Cu="__reactHandles$"+Hn,Iu="__reactResources$"+Hn,hi="__reactMarker$"+Hn;function ms(t){delete t[Et],delete t[Pt],delete t[ds],delete t[cf],delete t[Cu]}function fi(t){var i=t[Et];if(i)return i;for(var s=t.parentNode;s;){if(i=s[ci]||s[Et]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=ev(t);t!==null;){if(s=t[Et])return s;t=ev(t)}return i}t=s,s=t.parentNode}return null}function wn(t){if(t=t[Et]||t[ci]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function mn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function di(t){var i=t[Iu];return i||(i=t[Iu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Tt(t){t[hi]=!0}var Po=new Set,Lo={};function mi(t,i){pi(t,i),pi(t+"Capture",i)}function pi(t,i){for(Lo[t]=i,t=0;t<i.length;t++)Po.add(i[t])}var Uo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ko={},zo={};function Nu(t){return _t.call(zo,t)?!0:_t.call(ko,t)?!1:Uo.test(t)?zo[t]=!0:(ko[t]=!0,!1)}function ps(t,i,s){if(Nu(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function pn(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function St(t,i,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+l)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _r(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function jo(t,i,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){s=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(_){s=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Qe(t){if(!t._valueTracker){var i=_r(t)?"checked":"value";t._valueTracker=jo(t,i,""+t[i])}}function ba(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return t&&(l=_r(t)?t.checked?"true":"false":t.value),t=l,t!==s?(i.setValue(t),!0):!1}function gi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var wa=/[\n"\\]/g;function an(t){return t.replace(wa,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function gs(t,i,s,l,h,d,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Lt(i)):t.value!==""+Lt(i)&&(t.value=""+Lt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Bo(t,_,Lt(i)):s!=null?Bo(t,_,Lt(s)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Lt(S):t.removeAttribute("name")}function Du(t,i,s,l,h,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Qe(t);return}s=s!=null?""+Lt(s):"",i=i!=null?""+Lt(i):s,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Qe(t)}function Bo(t,i,s){i==="number"&&gi(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function vr(t,i,s,l){if(t=t.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=i.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Lt(s),i=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Ou(t,i,s){if(i!=null&&(i=""+Lt(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+Lt(s):""}function Er(t,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(Dt(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=Lt(i),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),Qe(t)}function sn(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var Vu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qo(t,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,s):typeof s!="number"||s===0||Vu.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function Ho(t,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&s[h]!==l&&qo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&qo(t,d,i[d])}function ys(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _s(t){return Tr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Fn(){}var Fo=null;function Rn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sr=null,yi=null;function Ra(t){var i=wn(t);if(i&&(t=i.stateNode)){var s=t[Pt]||null;e:switch(t=i.stateNode,i.type){case"input":if(gs(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+an(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==t&&l.form===t.form){var h=l[Pt]||null;if(!h)throw Error(a(90));gs(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===t.form&&ba(l)}break e;case"textarea":Ou(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&vr(t,!!s.multiple,i,!1)}}}var vs=!1;function Ar(t,i,s){if(vs)return t(i,s);vs=!0;try{var l=t(i);return l}finally{if(vs=!1,(Sr!==null||yi!==null)&&(Rc(),Sr&&(i=Sr,t=yi,yi=Sr=null,Ra(i),t)))for(i=0;i<t.length;i++)Ra(t[i])}}function Gn(t,i){var s=t.stateNode;if(s===null)return null;var l=s[Pt]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ca=!1;if(Cn)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){Ca=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{Ca=!1}var _i=null,Go=null,Ia=null;function Qo(){if(Ia)return Ia;var t,i=Go,s=i.length,l,h="value"in _i?_i.value:_i.textContent,d=h.length;for(t=0;t<s&&i[t]===h[t];t++);var _=s-t;for(l=1;l<=_&&i[s-l]===h[d-l];l++);return Ia=h.slice(t,1<l?1-l:void 0)}function Na(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ki(){return!0}function Qn(){return!1}function Bt(t){function i(s,l,h,d,_){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(s=t[S],this[S]=s?s(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ki:Qn,this.isPropagationStopped=Qn,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),i}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=Bt(zi),br=T({},zi,{view:0,detail:0}),Ko=Bt(br),wr,Es,Ei,Ts=T({},br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ei&&(Ei&&t.type==="mousemove"?(wr=t.screenX-Ei.screenX,Es=t.screenY-Ei.screenY):Es=wr=0,Ei=t),wr)},movementY:function(t){return"movementY"in t?t.movementY:Es}}),Yo=Bt(Ts),Da=T({},Ts,{dataTransfer:0}),xu=Bt(Da),Pu=T({},br,{relatedTarget:0}),Oa=Bt(Pu),Xo=T({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),Lu=Bt(Xo),Ss=T({},zi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Uu=Bt(Ss),ku=T({},zi,{data:0}),Ti=Bt(ku),zu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ju={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Bu[t])?!!i[t]:!1}function Rr(){return qu}var nn=T({},br,{key:function(t){if(t.key){var i=zu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Na(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ju[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rr,charCode:function(t){return t.type==="keypress"?Na(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Na(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Hu=Bt(nn),Fu=T({},Ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ji=Bt(Fu),c=T({},br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rr}),g=Bt(c),v=T({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Bt(v),k=T({},Ts,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=Bt(k),re=T({},zi,{newState:0,oldState:0}),we=Bt(re),dt=[9,13,27,32],qe=Cn&&"CompositionEvent"in window,st=null;Cn&&"documentMode"in document&&(st=document.documentMode);var In=Cn&&"TextEvent"in window&&!st,Si=Cn&&(!qe||st&&8<st&&11>=st),Kn=" ",Yn=!1;function Va(t,i){switch(t){case"keyup":return dt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function As(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var bs=!1;function fA(t,i){switch(t){case"compositionend":return As(i);case"keypress":return i.which!==32?null:(Yn=!0,Kn);case"textInput":return t=i.data,t===Kn&&Yn?null:t;default:return null}}function dA(t,i){if(bs)return t==="compositionend"||!qe&&Va(t,i)?(t=Qo(),Ia=Go=_i=null,bs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Si&&i.locale!=="ko"?null:i.data;default:return null}}var mA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ig(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!mA[t.type]:i==="textarea"}function rg(t,i,s,l){Sr?yi?yi.push(l):yi=[l]:Sr=l,i=Mc(i,"onChange"),0<i.length&&(s=new vi("onChange","change",null,s,l),t.push({event:s,listeners:i}))}var $o=null,Jo=null;function pA(t){j_(t,0)}function Gu(t){var i=mn(t);if(ba(i))return t}function ag(t,i){if(t==="change")return i}var sg=!1;if(Cn){var hf;if(Cn){var ff="oninput"in document;if(!ff){var og=document.createElement("div");og.setAttribute("oninput","return;"),ff=typeof og.oninput=="function"}hf=ff}else hf=!1;sg=hf&&(!document.documentMode||9<document.documentMode)}function lg(){$o&&($o.detachEvent("onpropertychange",ug),Jo=$o=null)}function ug(t){if(t.propertyName==="value"&&Gu(Jo)){var i=[];rg(i,Jo,t,Rn(t)),Ar(pA,i)}}function gA(t,i,s){t==="focusin"?(lg(),$o=i,Jo=s,$o.attachEvent("onpropertychange",ug)):t==="focusout"&&lg()}function yA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gu(Jo)}function _A(t,i){if(t==="click")return Gu(i)}function vA(t,i){if(t==="input"||t==="change")return Gu(i)}function EA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var gn=typeof Object.is=="function"?Object.is:EA;function Zo(t,i){if(gn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!_t.call(i,h)||!gn(t[h],i[h]))return!1}return!0}function cg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hg(t,i){var s=cg(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=i&&l>=i)return{node:s,offset:i-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=cg(s)}}function fg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?fg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function dg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=gi(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=gi(t.document)}return i}function df(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var TA=Cn&&"documentMode"in document&&11>=document.documentMode,ws=null,mf=null,Wo=null,pf=!1;function mg(t,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;pf||ws==null||ws!==gi(l)||(l=ws,"selectionStart"in l&&df(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Wo&&Zo(Wo,l)||(Wo=l,l=Mc(mf,"onSelect"),0<l.length&&(i=new vi("onSelect","select",null,i,s),t.push({event:i,listeners:l}),i.target=ws)))}function Ma(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var Rs={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionrun:Ma("Transition","TransitionRun"),transitionstart:Ma("Transition","TransitionStart"),transitioncancel:Ma("Transition","TransitionCancel"),transitionend:Ma("Transition","TransitionEnd")},gf={},pg={};Cn&&(pg=document.createElement("div").style,"AnimationEvent"in window||(delete Rs.animationend.animation,delete Rs.animationiteration.animation,delete Rs.animationstart.animation),"TransitionEvent"in window||delete Rs.transitionend.transition);function xa(t){if(gf[t])return gf[t];if(!Rs[t])return t;var i=Rs[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in pg)return gf[t]=i[s];return t}var gg=xa("animationend"),yg=xa("animationiteration"),_g=xa("animationstart"),SA=xa("transitionrun"),AA=xa("transitionstart"),bA=xa("transitioncancel"),vg=xa("transitionend"),Eg=new Map,yf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yf.push("scrollEnd");function Xn(t,i){Eg.set(t,i),mi(i,[t])}var Qu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Nn=[],Cs=0,_f=0;function Ku(){for(var t=Cs,i=_f=Cs=0;i<t;){var s=Nn[i];Nn[i++]=null;var l=Nn[i];Nn[i++]=null;var h=Nn[i];Nn[i++]=null;var d=Nn[i];if(Nn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Tg(s,h,d)}}function Yu(t,i,s,l){Nn[Cs++]=t,Nn[Cs++]=i,Nn[Cs++]=s,Nn[Cs++]=l,_f|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function vf(t,i,s,l){return Yu(t,i,s,l),Xu(t)}function Pa(t,i){return Yu(t,null,null,i),Xu(t)}function Tg(t,i,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=t.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-ft(s),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=s|536870912),d):null}function Xu(t){if(50<Tl)throw Tl=0,Id=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Is={};function wA(t,i,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,i,s,l){return new wA(t,i,s,l)}function Ef(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Bi(t,i){var s=t.alternate;return s===null?(s=yn(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Sg(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function $u(t,i,s,l,h,d){var _=0;if(l=t,typeof t=="function")Ef(t)&&(_=1);else if(typeof t=="string")_=Db(t,s,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case b:return t=yn(31,s,i,h),t.elementType=b,t.lanes=d,t;case $:return La(s.children,h,d,i);case Q:_=8,h|=24;break;case te:return t=yn(12,s,i,h|2),t.elementType=te,t.lanes=d,t;case de:return t=yn(13,s,i,h),t.elementType=de,t.lanes=d,t;case ye:return t=yn(19,s,i,h),t.elementType=ye,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ae:_=10;break e;case ne:_=9;break e;case ie:_=11;break e;case I:_=14;break e;case R:_=16,l=null;break e}_=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return i=yn(_,s,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function La(t,i,s,l){return t=yn(7,t,l,i),t.lanes=s,t}function Tf(t,i,s){return t=yn(6,t,null,i),t.lanes=s,t}function Ag(t){var i=yn(18,null,null,0);return i.stateNode=t,i}function Sf(t,i,s){return i=yn(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var bg=new WeakMap;function Dn(t,i){if(typeof t=="object"&&t!==null){var s=bg.get(t);return s!==void 0?s:(i={value:t,source:i,stack:Do(i)},bg.set(t,i),i)}return{value:t,source:i,stack:Do(i)}}var Ns=[],Ds=0,Ju=null,el=0,On=[],Vn=0,Cr=null,Ai=1,bi="";function qi(t,i){Ns[Ds++]=el,Ns[Ds++]=Ju,Ju=t,el=i}function wg(t,i,s){On[Vn++]=Ai,On[Vn++]=bi,On[Vn++]=Cr,Cr=t;var l=Ai;t=bi;var h=32-ft(l)-1;l&=~(1<<h),s+=1;var d=32-ft(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ai=1<<32-ft(i)+h|s<<h|l,bi=d+t}else Ai=1<<d|s<<h|l,bi=t}function Af(t){t.return!==null&&(qi(t,1),wg(t,1,0))}function bf(t){for(;t===Ju;)Ju=Ns[--Ds],Ns[Ds]=null,el=Ns[--Ds],Ns[Ds]=null;for(;t===Cr;)Cr=On[--Vn],On[Vn]=null,bi=On[--Vn],On[Vn]=null,Ai=On[--Vn],On[Vn]=null}function Rg(t,i){On[Vn++]=Ai,On[Vn++]=bi,On[Vn++]=Cr,Ai=i.id,bi=i.overflow,Cr=t}var qt=null,tt=null,Le=!1,Ir=null,Mn=!1,wf=Error(a(519));function Nr(t){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw tl(Dn(i,t)),wf}function Cg(t){var i=t.stateNode,s=t.type,l=t.memoizedProps;switch(i[Et]=t,i[Pt]=l,s){case"dialog":De("cancel",i),De("close",i);break;case"iframe":case"object":case"embed":De("load",i);break;case"video":case"audio":for(s=0;s<Al.length;s++)De(Al[s],i);break;case"source":De("error",i);break;case"img":case"image":case"link":De("error",i),De("load",i);break;case"details":De("toggle",i);break;case"input":De("invalid",i),Du(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":De("invalid",i);break;case"textarea":De("invalid",i),Er(i,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||F_(i.textContent,s)?(l.popover!=null&&(De("beforetoggle",i),De("toggle",i)),l.onScroll!=null&&De("scroll",i),l.onScrollEnd!=null&&De("scrollend",i),l.onClick!=null&&(i.onclick=Fn),i=!0):i=!1,i||Nr(t,!0)}function Ig(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:qt=qt.return}}function Os(t){if(t!==qt)return!1;if(!Le)return Ig(t),Le=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Hd(t.type,t.memoizedProps)),s=!s),s&&tt&&Nr(t),Ig(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));tt=W_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));tt=W_(t)}else i===27?(i=tt,Hr(t.type)?(t=Yd,Yd=null,tt=t):tt=i):tt=qt?Pn(t.stateNode.nextSibling):null;return!0}function Ua(){tt=qt=null,Le=!1}function Rf(){var t=Ir;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),Ir=null),t}function tl(t){Ir===null?Ir=[t]:Ir.push(t)}var Cf=x(null),ka=null,Hi=null;function Dr(t,i,s){oe(Cf,i._currentValue),i._currentValue=s}function Fi(t){t._currentValue=Cf.current,W(Cf)}function If(t,i,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===s)break;t=t.return}}function Nf(t,i,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=h;for(var D=0;D<i.length;D++)if(S.context===i[D]){d.lanes|=s,S=d.alternate,S!==null&&(S.lanes|=s),If(d.return,s,t),l||(_=null);break e}d=S.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(a(341));_.lanes|=s,d=_.alternate,d!==null&&(d.lanes|=s),If(_,s,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Vs(t,i,s,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var S=h.type;gn(h.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(h===Ue.current){if(_=h.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Il):t=[Il])}h=h.return}t!==null&&Nf(i,t,s,l),i.flags|=262144}function Zu(t){for(t=t.firstContext;t!==null;){if(!gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function za(t){ka=t,Hi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return Ng(ka,t)}function Wu(t,i){return ka===null&&za(t),Ng(t,i)}function Ng(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Hi===null){if(t===null)throw Error(a(308));Hi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Hi=Hi.next=i;return s}var RA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},CA=r.unstable_scheduleCallback,IA=r.unstable_NormalPriority,At={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Df(){return{controller:new RA,data:new Map,refCount:0}}function nl(t){t.refCount--,t.refCount===0&&CA(IA,function(){t.controller.abort()})}var il=null,Of=0,Ms=0,xs=null;function NA(t,i){if(il===null){var s=il=[];Of=0,Ms=xd(),xs={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Of++,i.then(Dg,Dg),i}function Dg(){if(--Of===0&&il!==null){xs!==null&&(xs.status="fulfilled");var t=il;il=null,Ms=0,xs=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function DA(t,i){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Og=Y.S;Y.S=function(t,i){m_=tn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&NA(t,i),Og!==null&&Og(t,i)};var ja=x(null);function Vf(){var t=ja.current;return t!==null?t:We.pooledCache}function ec(t,i){i===null?oe(ja,ja.current):oe(ja,i.pool)}function Vg(){var t=Vf();return t===null?null:{parent:At._currentValue,pool:t}}var Ps=Error(a(460)),Mf=Error(a(474)),tc=Error(a(542)),nc={then:function(){}};function Mg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function xg(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(Fn,Fn),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Lg(t),t;default:if(typeof i.status=="string")i.then(Fn,Fn);else{if(t=We,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Lg(t),t}throw qa=i,Ps}}function Ba(t){try{var i=t._init;return i(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(qa=s,Ps):s}}var qa=null;function Pg(){if(qa===null)throw Error(a(459));var t=qa;return qa=null,t}function Lg(t){if(t===Ps||t===tc)throw Error(a(483))}var Ls=null,rl=0;function ic(t){var i=rl;return rl+=1,Ls===null&&(Ls=[]),xg(Ls,t,i)}function al(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function rc(t,i){throw i.$$typeof===w?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Ug(t){function i(L,V){if(t){var z=L.deletions;z===null?(L.deletions=[V],L.flags|=16):z.push(V)}}function s(L,V){if(!t)return null;for(;V!==null;)i(L,V),V=V.sibling;return null}function l(L){for(var V=new Map;L!==null;)L.key!==null?V.set(L.key,L):V.set(L.index,L),L=L.sibling;return V}function h(L,V){return L=Bi(L,V),L.index=0,L.sibling=null,L}function d(L,V,z){return L.index=z,t?(z=L.alternate,z!==null?(z=z.index,z<V?(L.flags|=67108866,V):z):(L.flags|=67108866,V)):(L.flags|=1048576,V)}function _(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function S(L,V,z,X){return V===null||V.tag!==6?(V=Tf(z,L.mode,X),V.return=L,V):(V=h(V,z),V.return=L,V)}function D(L,V,z,X){var me=z.type;return me===$?K(L,V,z.props.children,X,z.key):V!==null&&(V.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&Ba(me)===V.type)?(V=h(V,z.props),al(V,z),V.return=L,V):(V=$u(z.type,z.key,z.props,null,L.mode,X),al(V,z),V.return=L,V)}function j(L,V,z,X){return V===null||V.tag!==4||V.stateNode.containerInfo!==z.containerInfo||V.stateNode.implementation!==z.implementation?(V=Sf(z,L.mode,X),V.return=L,V):(V=h(V,z.children||[]),V.return=L,V)}function K(L,V,z,X,me){return V===null||V.tag!==7?(V=La(z,L.mode,X,me),V.return=L,V):(V=h(V,z),V.return=L,V)}function Z(L,V,z){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Tf(""+V,L.mode,z),V.return=L,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case P:return z=$u(V.type,V.key,V.props,null,L.mode,z),al(z,V),z.return=L,z;case G:return V=Sf(V,L.mode,z),V.return=L,V;case R:return V=Ba(V),Z(L,V,z)}if(Dt(V)||U(V))return V=La(V,L.mode,z,null),V.return=L,V;if(typeof V.then=="function")return Z(L,ic(V),z);if(V.$$typeof===ae)return Z(L,Wu(L,V),z);rc(L,V)}return null}function q(L,V,z,X){var me=V!==null?V.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return me!==null?null:S(L,V,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case P:return z.key===me?D(L,V,z,X):null;case G:return z.key===me?j(L,V,z,X):null;case R:return z=Ba(z),q(L,V,z,X)}if(Dt(z)||U(z))return me!==null?null:K(L,V,z,X,null);if(typeof z.then=="function")return q(L,V,ic(z),X);if(z.$$typeof===ae)return q(L,V,Wu(L,z),X);rc(L,z)}return null}function F(L,V,z,X,me){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return L=L.get(z)||null,S(V,L,""+X,me);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case P:return L=L.get(X.key===null?z:X.key)||null,D(V,L,X,me);case G:return L=L.get(X.key===null?z:X.key)||null,j(V,L,X,me);case R:return X=Ba(X),F(L,V,z,X,me)}if(Dt(X)||U(X))return L=L.get(z)||null,K(V,L,X,me,null);if(typeof X.then=="function")return F(L,V,z,ic(X),me);if(X.$$typeof===ae)return F(L,V,z,Wu(V,X),me);rc(V,X)}return null}function he(L,V,z,X){for(var me=null,je=null,fe=V,Ie=V=0,Ve=null;fe!==null&&Ie<z.length;Ie++){fe.index>Ie?(Ve=fe,fe=null):Ve=fe.sibling;var Be=q(L,fe,z[Ie],X);if(Be===null){fe===null&&(fe=Ve);break}t&&fe&&Be.alternate===null&&i(L,fe),V=d(Be,V,Ie),je===null?me=Be:je.sibling=Be,je=Be,fe=Ve}if(Ie===z.length)return s(L,fe),Le&&qi(L,Ie),me;if(fe===null){for(;Ie<z.length;Ie++)fe=Z(L,z[Ie],X),fe!==null&&(V=d(fe,V,Ie),je===null?me=fe:je.sibling=fe,je=fe);return Le&&qi(L,Ie),me}for(fe=l(fe);Ie<z.length;Ie++)Ve=F(fe,L,Ie,z[Ie],X),Ve!==null&&(t&&Ve.alternate!==null&&fe.delete(Ve.key===null?Ie:Ve.key),V=d(Ve,V,Ie),je===null?me=Ve:je.sibling=Ve,je=Ve);return t&&fe.forEach(function(Yr){return i(L,Yr)}),Le&&qi(L,Ie),me}function _e(L,V,z,X){if(z==null)throw Error(a(151));for(var me=null,je=null,fe=V,Ie=V=0,Ve=null,Be=z.next();fe!==null&&!Be.done;Ie++,Be=z.next()){fe.index>Ie?(Ve=fe,fe=null):Ve=fe.sibling;var Yr=q(L,fe,Be.value,X);if(Yr===null){fe===null&&(fe=Ve);break}t&&fe&&Yr.alternate===null&&i(L,fe),V=d(Yr,V,Ie),je===null?me=Yr:je.sibling=Yr,je=Yr,fe=Ve}if(Be.done)return s(L,fe),Le&&qi(L,Ie),me;if(fe===null){for(;!Be.done;Ie++,Be=z.next())Be=Z(L,Be.value,X),Be!==null&&(V=d(Be,V,Ie),je===null?me=Be:je.sibling=Be,je=Be);return Le&&qi(L,Ie),me}for(fe=l(fe);!Be.done;Ie++,Be=z.next())Be=F(fe,L,Ie,Be.value,X),Be!==null&&(t&&Be.alternate!==null&&fe.delete(Be.key===null?Ie:Be.key),V=d(Be,V,Ie),je===null?me=Be:je.sibling=Be,je=Be);return t&&fe.forEach(function(Bb){return i(L,Bb)}),Le&&qi(L,Ie),me}function Ze(L,V,z,X){if(typeof z=="object"&&z!==null&&z.type===$&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case P:e:{for(var me=z.key;V!==null;){if(V.key===me){if(me=z.type,me===$){if(V.tag===7){s(L,V.sibling),X=h(V,z.props.children),X.return=L,L=X;break e}}else if(V.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&Ba(me)===V.type){s(L,V.sibling),X=h(V,z.props),al(X,z),X.return=L,L=X;break e}s(L,V);break}else i(L,V);V=V.sibling}z.type===$?(X=La(z.props.children,L.mode,X,z.key),X.return=L,L=X):(X=$u(z.type,z.key,z.props,null,L.mode,X),al(X,z),X.return=L,L=X)}return _(L);case G:e:{for(me=z.key;V!==null;){if(V.key===me)if(V.tag===4&&V.stateNode.containerInfo===z.containerInfo&&V.stateNode.implementation===z.implementation){s(L,V.sibling),X=h(V,z.children||[]),X.return=L,L=X;break e}else{s(L,V);break}else i(L,V);V=V.sibling}X=Sf(z,L.mode,X),X.return=L,L=X}return _(L);case R:return z=Ba(z),Ze(L,V,z,X)}if(Dt(z))return he(L,V,z,X);if(U(z)){if(me=U(z),typeof me!="function")throw Error(a(150));return z=me.call(z),_e(L,V,z,X)}if(typeof z.then=="function")return Ze(L,V,ic(z),X);if(z.$$typeof===ae)return Ze(L,V,Wu(L,z),X);rc(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,V!==null&&V.tag===6?(s(L,V.sibling),X=h(V,z),X.return=L,L=X):(s(L,V),X=Tf(z,L.mode,X),X.return=L,L=X),_(L)):s(L,V)}return function(L,V,z,X){try{rl=0;var me=Ze(L,V,z,X);return Ls=null,me}catch(fe){if(fe===Ps||fe===tc)throw fe;var je=yn(29,fe,null,L.mode);return je.lanes=X,je.return=L,je}finally{}}}var Ha=Ug(!0),kg=Ug(!1),Or=!1;function xf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Vr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Mr(t,i,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Xu(t),Tg(t,null,s),i}return Yu(t,l,i,s),Xu(t)}function sl(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,Mo(t,s)}}function Lf(t,i){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,s=s.next}while(s!==null);d===null?h=d=i:d=d.next=i}else h=d=i;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var Uf=!1;function ol(){if(Uf){var t=xs;if(t!==null)throw t}}function ll(t,i,s,l){Uf=!1;var h=t.updateQueue;Or=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var D=S,j=D.next;D.next=null,_===null?d=j:_.next=j,_=D;var K=t.alternate;K!==null&&(K=K.updateQueue,S=K.lastBaseUpdate,S!==_&&(S===null?K.firstBaseUpdate=j:S.next=j,K.lastBaseUpdate=D))}if(d!==null){var Z=h.baseState;_=0,K=j=D=null,S=d;do{var q=S.lane&-536870913,F=q!==S.lane;if(F?(Oe&q)===q:(l&q)===q){q!==0&&q===Ms&&(Uf=!0),K!==null&&(K=K.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var he=t,_e=S;q=i;var Ze=s;switch(_e.tag){case 1:if(he=_e.payload,typeof he=="function"){Z=he.call(Ze,Z,q);break e}Z=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=_e.payload,q=typeof he=="function"?he.call(Ze,Z,q):he,q==null)break e;Z=T({},Z,q);break e;case 2:Or=!0}}q=S.callback,q!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[q]:F.push(q))}else F={lane:q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},K===null?(j=K=F,D=Z):K=K.next=F,_|=q;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;F=S,S=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);K===null&&(D=Z),h.baseState=D,h.firstBaseUpdate=j,h.lastBaseUpdate=K,d===null&&(h.shared.lanes=0),kr|=_,t.lanes=_,t.memoizedState=Z}}function zg(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function jg(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)zg(s[t],i)}var Us=x(null),ac=x(0);function Bg(t,i){t=Wi,oe(ac,t),oe(Us,i),Wi=t|i.baseLanes}function kf(){oe(ac,Wi),oe(Us,Us.current)}function zf(){Wi=ac.current,W(Us),W(ac)}var _n=x(null),xn=null;function xr(t){var i=t.alternate;oe(mt,mt.current&1),oe(_n,t),xn===null&&(i===null||Us.current!==null||i.memoizedState!==null)&&(xn=t)}function jf(t){oe(mt,mt.current),oe(_n,t),xn===null&&(xn=t)}function qg(t){t.tag===22?(oe(mt,mt.current),oe(_n,t),xn===null&&(xn=t)):Pr()}function Pr(){oe(mt,mt.current),oe(_n,_n.current)}function vn(t){W(_n),xn===t&&(xn=null),W(mt)}var mt=x(0);function sc(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Qd(s)||Kd(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Gi=0,Re=null,$e=null,bt=null,oc=!1,ks=!1,Fa=!1,lc=0,ul=0,zs=null,OA=0;function ct(){throw Error(a(321))}function Bf(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!gn(t[s],i[s]))return!1;return!0}function qf(t,i,s,l,h,d){return Gi=d,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=t===null||t.memoizedState===null?wy:id,Fa=!1,d=s(l,h),Fa=!1,ks&&(d=Fg(i,s,l,h)),Hg(t),d}function Hg(t){Y.H=fl;var i=$e!==null&&$e.next!==null;if(Gi=0,bt=$e=Re=null,oc=!1,ul=0,zs=null,i)throw Error(a(300));t===null||wt||(t=t.dependencies,t!==null&&Zu(t)&&(wt=!0))}function Fg(t,i,s,l){Re=t;var h=0;do{if(ks&&(zs=null),ul=0,ks=!1,25<=h)throw Error(a(301));if(h+=1,bt=$e=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=Ry,d=i(s,l)}while(ks);return d}function VA(){var t=Y.H,i=t.useState()[0];return i=typeof i.then=="function"?cl(i):i,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(Re.flags|=1024),i}function Hf(){var t=lc!==0;return lc=0,t}function Ff(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function Gf(t){if(oc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}oc=!1}Gi=0,bt=$e=Re=null,ks=!1,ul=lc=0,zs=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Re.memoizedState=bt=t:bt=bt.next=t,bt}function pt(){if($e===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var i=bt===null?Re.memoizedState:bt.next;if(i!==null)bt=i,$e=t;else{if(t===null)throw Re.alternate===null?Error(a(467)):Error(a(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},bt===null?Re.memoizedState=bt=t:bt=bt.next=t}return bt}function uc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(t){var i=ul;return ul+=1,zs===null&&(zs=[]),t=xg(zs,t,i),i=Re,(bt===null?i.memoizedState:bt.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?wy:id),t}function cc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return cl(t);if(t.$$typeof===ae)return Ht(t)}throw Error(a(438,String(t)))}function Qf(t){var i=null,s=Re.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=uc(),Re.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),l=0;l<t;l++)s[l]=M;return i.index++,s}function Qi(t,i){return typeof i=="function"?i(t):i}function hc(t){var i=pt();return Kf(i,$e,t)}function Kf(t,i,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var S=_=null,D=null,j=i,K=!1;do{var Z=j.lane&-536870913;if(Z!==j.lane?(Oe&Z)===Z:(Gi&Z)===Z){var q=j.revertLane;if(q===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Z===Ms&&(K=!0);else if((Gi&q)===q){j=j.next,q===Ms&&(K=!0);continue}else Z={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},D===null?(S=D=Z,_=d):D=D.next=Z,Re.lanes|=q,kr|=q;Z=j.action,Fa&&s(d,Z),d=j.hasEagerState?j.eagerState:s(d,Z)}else q={lane:Z,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},D===null?(S=D=q,_=d):D=D.next=q,Re.lanes|=Z,kr|=Z;j=j.next}while(j!==null&&j!==i);if(D===null?_=d:D.next=S,!gn(d,t.memoizedState)&&(wt=!0,K&&(s=xs,s!==null)))throw s;t.memoizedState=d,t.baseState=_,t.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Yf(t){var i=pt(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,d=i.memoizedState;if(h!==null){s.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);gn(d,i.memoizedState)||(wt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,l]}function Gg(t,i,s){var l=Re,h=pt(),d=Le;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=i();var _=!gn(($e||h).memoizedState,s);if(_&&(h.memoizedState=s,wt=!0),h=h.queue,Jf(Yg.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||bt!==null&&bt.memoizedState.tag&1){if(l.flags|=2048,js(9,{destroy:void 0},Kg.bind(null,l,h,s,i),null),We===null)throw Error(a(349));d||(Gi&127)!==0||Qg(l,i,s)}return s}function Qg(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=Re.updateQueue,i===null?(i=uc(),Re.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function Kg(t,i,s,l){i.value=s,i.getSnapshot=l,Xg(i)&&$g(t)}function Yg(t,i,s){return s(function(){Xg(i)&&$g(t)})}function Xg(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!gn(t,s)}catch{return!0}}function $g(t){var i=Pa(t,2);i!==null&&hn(i,t,2)}function Xf(t){var i=rn();if(typeof t=="function"){var s=t;if(t=s(),Fa){bn(!0);try{s()}finally{bn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:t},i}function Jg(t,i,s,l){return t.baseState=s,Kf(t,$e,typeof l=="function"?l:Qi)}function MA(t,i,s,l,h){if(mc(t))throw Error(a(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Y.T!==null?s(!0):d.isTransition=!1,l(d),s=i.pending,s===null?(d.next=i.pending=d,Zg(i,d)):(d.next=s.next,i.pending=s.next=d)}}function Zg(t,i){var s=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=Y.T,_={};Y.T=_;try{var S=s(h,l),D=Y.S;D!==null&&D(_,S),Wg(t,i,S)}catch(j){$f(t,i,j)}finally{d!==null&&_.types!==null&&(d.types=_.types),Y.T=d}}else try{d=s(h,l),Wg(t,i,d)}catch(j){$f(t,i,j)}}function Wg(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){ey(t,i,l)},function(l){return $f(t,i,l)}):ey(t,i,s)}function ey(t,i,s){i.status="fulfilled",i.value=s,ty(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,Zg(t,s)))}function $f(t,i,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,ty(i),i=i.next;while(i!==l)}t.action=null}function ty(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function ny(t,i){return i}function iy(t,i){if(Le){var s=We.formState;if(s!==null){e:{var l=Re;if(Le){if(tt){t:{for(var h=tt,d=Mn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Pn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){tt=Pn(h.nextSibling),l=h.data==="F!";break e}}Nr(l)}l=!1}l&&(i=s[0])}}return s=rn(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ny,lastRenderedState:i},s.queue=l,s=Sy.bind(null,Re,l),l.dispatch=s,l=Xf(!1),d=nd.bind(null,Re,!1,l.queue),l=rn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,s=MA.bind(null,Re,h,d,s),h.dispatch=s,l.memoizedState=t,[i,s,!1]}function ry(t){var i=pt();return ay(i,$e,t)}function ay(t,i,s){if(i=Kf(t,i,ny)[0],t=hc(Qi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=cl(i)}catch(_){throw _===Ps?tc:_}else l=i;i=pt();var h=i.queue,d=h.dispatch;return s!==i.memoizedState&&(Re.flags|=2048,js(9,{destroy:void 0},xA.bind(null,h,s),null)),[l,d,t]}function xA(t,i){t.action=i}function sy(t){var i=pt(),s=$e;if(s!==null)return ay(i,s,t);pt(),i=i.memoizedState,s=pt();var l=s.queue.dispatch;return s.memoizedState=t,[i,l,!1]}function js(t,i,s,l){return t={tag:t,create:s,deps:l,inst:i,next:null},i=Re.updateQueue,i===null&&(i=uc(),Re.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,i.lastEffect=t),t}function oy(){return pt().memoizedState}function fc(t,i,s,l){var h=rn();Re.flags|=t,h.memoizedState=js(1|i,{destroy:void 0},s,l===void 0?null:l)}function dc(t,i,s,l){var h=pt();l=l===void 0?null:l;var d=h.memoizedState.inst;$e!==null&&l!==null&&Bf(l,$e.memoizedState.deps)?h.memoizedState=js(i,d,s,l):(Re.flags|=t,h.memoizedState=js(1|i,d,s,l))}function ly(t,i){fc(8390656,8,t,i)}function Jf(t,i){dc(2048,8,t,i)}function PA(t){Re.flags|=4;var i=Re.updateQueue;if(i===null)i=uc(),Re.updateQueue=i,i.events=[t];else{var s=i.events;s===null?i.events=[t]:s.push(t)}}function uy(t){var i=pt().memoizedState;return PA({ref:i,nextImpl:t}),function(){if((He&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function cy(t,i){return dc(4,2,t,i)}function hy(t,i){return dc(4,4,t,i)}function fy(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function dy(t,i,s){s=s!=null?s.concat([t]):null,dc(4,4,fy.bind(null,i,t),s)}function Zf(){}function my(t,i){var s=pt();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&Bf(i,l[1])?l[0]:(s.memoizedState=[t,i],t)}function py(t,i){var s=pt();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&Bf(i,l[1]))return l[0];if(l=t(),Fa){bn(!0);try{t()}finally{bn(!1)}}return s.memoizedState=[l,i],l}function Wf(t,i,s){return s===void 0||(Gi&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=i:(t.memoizedState=s,t=g_(),Re.lanes|=t,kr|=t,s)}function gy(t,i,s,l){return gn(s,i)?s:Us.current!==null?(t=Wf(t,s,l),gn(t,i)||(wt=!0),t):(Gi&42)===0||(Gi&1073741824)!==0&&(Oe&261930)===0?(wt=!0,t.memoizedState=s):(t=g_(),Re.lanes|=t,kr|=t,i)}function yy(t,i,s,l,h){var d=se.p;se.p=d!==0&&8>d?d:8;var _=Y.T,S={};Y.T=S,nd(t,!1,i,s);try{var D=h(),j=Y.S;if(j!==null&&j(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var K=DA(D,l);hl(t,i,K,Sn(t))}else hl(t,i,l,Sn(t))}catch(Z){hl(t,i,{then:function(){},status:"rejected",reason:Z},Sn())}finally{se.p=d,_!==null&&S.types!==null&&(_.types=S.types),Y.T=_}}function LA(){}function ed(t,i,s,l){if(t.tag!==5)throw Error(a(476));var h=_y(t).queue;yy(t,h,i,ge,s===null?LA:function(){return vy(t),s(l)})}function _y(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:ge},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function vy(t){var i=_y(t);i.next===null&&(i=t.alternate.memoizedState),hl(t,i.next.queue,{},Sn())}function td(){return Ht(Il)}function Ey(){return pt().memoizedState}function Ty(){return pt().memoizedState}function UA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=Sn();t=Vr(s);var l=Mr(i,t,s);l!==null&&(hn(l,i,s),sl(l,i,s)),i={cache:Df()},t.payload=i;return}i=i.return}}function kA(t,i,s){var l=Sn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},mc(t)?Ay(i,s):(s=vf(t,i,s,l),s!==null&&(hn(s,t,l),by(s,i,l)))}function Sy(t,i,s){var l=Sn();hl(t,i,s,l)}function hl(t,i,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(mc(t))Ay(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,s);if(h.hasEagerState=!0,h.eagerState=S,gn(S,_))return Yu(t,i,h,0),We===null&&Ku(),!1}catch{}finally{}if(s=vf(t,i,h,l),s!==null)return hn(s,t,l),by(s,i,l),!0}return!1}function nd(t,i,s,l){if(l={lane:2,revertLane:xd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},mc(t)){if(i)throw Error(a(479))}else i=vf(t,s,l,2),i!==null&&hn(i,t,2)}function mc(t){var i=t.alternate;return t===Re||i!==null&&i===Re}function Ay(t,i){ks=oc=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function by(t,i,s){if((s&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,Mo(t,s)}}var fl={readContext:Ht,use:cc,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};fl.useEffectEvent=ct;var wy={readContext:Ht,use:cc,useCallback:function(t,i){return rn().memoizedState=[t,i===void 0?null:i],t},useContext:Ht,useEffect:ly,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,fc(4194308,4,fy.bind(null,i,t),s)},useLayoutEffect:function(t,i){return fc(4194308,4,t,i)},useInsertionEffect:function(t,i){fc(4,2,t,i)},useMemo:function(t,i){var s=rn();i=i===void 0?null:i;var l=t();if(Fa){bn(!0);try{t()}finally{bn(!1)}}return s.memoizedState=[l,i],l},useReducer:function(t,i,s){var l=rn();if(s!==void 0){var h=s(i);if(Fa){bn(!0);try{s(i)}finally{bn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=kA.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var i=rn();return t={current:t},i.memoizedState=t},useState:function(t){t=Xf(t);var i=t.queue,s=Sy.bind(null,Re,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:Zf,useDeferredValue:function(t,i){var s=rn();return Wf(s,t,i)},useTransition:function(){var t=Xf(!1);return t=yy.bind(null,Re,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var l=Re,h=rn();if(Le){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),We===null)throw Error(a(349));(Oe&127)!==0||Qg(l,i,s)}h.memoizedState=s;var d={value:s,getSnapshot:i};return h.queue=d,ly(Yg.bind(null,l,d,t),[t]),l.flags|=2048,js(9,{destroy:void 0},Kg.bind(null,l,d,s,i),null),s},useId:function(){var t=rn(),i=We.identifierPrefix;if(Le){var s=bi,l=Ai;s=(l&~(1<<32-ft(l)-1)).toString(32)+s,i="_"+i+"R_"+s,s=lc++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=OA++,i="_"+i+"r_"+s.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:td,useFormState:iy,useActionState:iy,useOptimistic:function(t){var i=rn();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=nd.bind(null,Re,!0,s),s.dispatch=i,[t,i]},useMemoCache:Qf,useCacheRefresh:function(){return rn().memoizedState=UA.bind(null,Re)},useEffectEvent:function(t){var i=rn(),s={impl:t};return i.memoizedState=s,function(){if((He&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},id={readContext:Ht,use:cc,useCallback:my,useContext:Ht,useEffect:Jf,useImperativeHandle:dy,useInsertionEffect:cy,useLayoutEffect:hy,useMemo:py,useReducer:hc,useRef:oy,useState:function(){return hc(Qi)},useDebugValue:Zf,useDeferredValue:function(t,i){var s=pt();return gy(s,$e.memoizedState,t,i)},useTransition:function(){var t=hc(Qi)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:cl(t),i]},useSyncExternalStore:Gg,useId:Ey,useHostTransitionStatus:td,useFormState:ry,useActionState:ry,useOptimistic:function(t,i){var s=pt();return Jg(s,$e,t,i)},useMemoCache:Qf,useCacheRefresh:Ty};id.useEffectEvent=uy;var Ry={readContext:Ht,use:cc,useCallback:my,useContext:Ht,useEffect:Jf,useImperativeHandle:dy,useInsertionEffect:cy,useLayoutEffect:hy,useMemo:py,useReducer:Yf,useRef:oy,useState:function(){return Yf(Qi)},useDebugValue:Zf,useDeferredValue:function(t,i){var s=pt();return $e===null?Wf(s,t,i):gy(s,$e.memoizedState,t,i)},useTransition:function(){var t=Yf(Qi)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:cl(t),i]},useSyncExternalStore:Gg,useId:Ey,useHostTransitionStatus:td,useFormState:sy,useActionState:sy,useOptimistic:function(t,i){var s=pt();return $e!==null?Jg(s,$e,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Qf,useCacheRefresh:Ty};Ry.useEffectEvent=uy;function rd(t,i,s,l){i=t.memoizedState,s=s(l,i),s=s==null?i:T({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var ad={enqueueSetState:function(t,i,s){t=t._reactInternals;var l=Sn(),h=Vr(l);h.payload=i,s!=null&&(h.callback=s),i=Mr(t,h,l),i!==null&&(hn(i,t,l),sl(i,t,l))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var l=Sn(),h=Vr(l);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=Mr(t,h,l),i!==null&&(hn(i,t,l),sl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=Sn(),l=Vr(s);l.tag=2,i!=null&&(l.callback=i),i=Mr(t,l,s),i!==null&&(hn(i,t,s),sl(i,t,s))}};function Cy(t,i,s,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Zo(s,l)||!Zo(h,d):!0}function Iy(t,i,s,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==t&&ad.enqueueReplaceState(i,i.state,null)}function Ga(t,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(t=t.defaultProps){s===i&&(s=T({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function Ny(t){Qu(t)}function Dy(t){console.error(t)}function Oy(t){Qu(t)}function pc(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Vy(t,i,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function sd(t,i,s){return s=Vr(s),s.tag=3,s.payload={element:null},s.callback=function(){pc(t,i)},s}function My(t){return t=Vr(t),t.tag=3,t}function xy(t,i,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Vy(i,s,l)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Vy(i,s,l),typeof h!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function zA(t,i,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&Vs(i,s,h,!0),s=_n.current,s!==null){switch(s.tag){case 31:case 13:return xn===null?Cc():s.alternate===null&&ht===0&&(ht=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===nc?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),Od(t,l,h)),!1;case 22:return s.flags|=65536,l===nc?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),Od(t,l,h)),!1}throw Error(a(435,s.tag))}return Od(t,l,h),Cc(),!1}if(Le)return i=_n.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==wf&&(t=Error(a(422),{cause:l}),tl(Dn(t,s)))):(l!==wf&&(i=Error(a(423),{cause:l}),tl(Dn(i,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Dn(l,s),h=sd(t.stateNode,l,h),Lf(t,h),ht!==4&&(ht=2)),!1;var d=Error(a(520),{cause:l});if(d=Dn(d,s),El===null?El=[d]:El.push(d),ht!==4&&(ht=2),i===null)return!0;l=Dn(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=sd(s.stateNode,l,t),Lf(s,t),!1;case 1:if(i=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(zr===null||!zr.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=My(h),xy(h,t,s,l),Lf(s,h),!1}s=s.return}while(s!==null);return!1}var od=Error(a(461)),wt=!1;function Ft(t,i,s,l){i.child=t===null?kg(i,null,s,l):Ha(i,t.child,s,l)}function Py(t,i,s,l,h){s=s.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return za(i),l=qf(t,i,s,_,d,h),S=Hf(),t!==null&&!wt?(Ff(t,i,h),Ki(t,i,h)):(Le&&S&&Af(i),i.flags|=1,Ft(t,i,l,h),i.child)}function Ly(t,i,s,l,h){if(t===null){var d=s.type;return typeof d=="function"&&!Ef(d)&&d.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=d,Uy(t,i,d,l,h)):(t=$u(s.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!pd(t,h)){var _=d.memoizedProps;if(s=s.compare,s=s!==null?s:Zo,s(_,l)&&t.ref===i.ref)return Ki(t,i,h)}return i.flags|=1,t=Bi(d,l),t.ref=i.ref,t.return=i,i.child=t}function Uy(t,i,s,l,h){if(t!==null){var d=t.memoizedProps;if(Zo(d,l)&&t.ref===i.ref)if(wt=!1,i.pendingProps=l=d,pd(t,h))(t.flags&131072)!==0&&(wt=!0);else return i.lanes=t.lanes,Ki(t,i,h)}return ld(t,i,s,l,h)}function ky(t,i,s,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|s:s,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return zy(t,i,d,s,l)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ec(i,d!==null?d.cachePool:null),d!==null?Bg(i,d):kf(),qg(i);else return l=i.lanes=536870912,zy(t,i,d!==null?d.baseLanes|s:s,s,l)}else d!==null?(ec(i,d.cachePool),Bg(i,d),Pr(),i.memoizedState=null):(t!==null&&ec(i,null),kf(),Pr());return Ft(t,i,h,s),i.child}function dl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function zy(t,i,s,l,h){var d=Vf();return d=d===null?null:{parent:At._currentValue,pool:d},i.memoizedState={baseLanes:s,cachePool:d},t!==null&&ec(i,null),kf(),qg(i),t!==null&&Vs(t,i,l,!0),i.childLanes=h,null}function gc(t,i){return i=_c({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function jy(t,i,s){return Ha(i,t.child,null,s),t=gc(i,i.pendingProps),t.flags|=2,vn(i),i.memoizedState=null,t}function jA(t,i,s){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Le){if(l.mode==="hidden")return t=gc(i,l),i.lanes=536870912,dl(null,t);if(jf(i),(t=tt)?(t=Z_(t,Mn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Cr!==null?{id:Ai,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},s=Ag(t),s.return=i,i.child=s,qt=i,tt=null)):t=null,t===null)throw Nr(i);return i.lanes=536870912,null}return gc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(jf(i),h)if(i.flags&256)i.flags&=-257,i=jy(t,i,s);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(a(558));else if(wt||Vs(t,i,s,!1),h=(s&t.childLanes)!==0,wt||h){if(l=We,l!==null&&(_=xo(l,s),_!==0&&_!==d.retryLane))throw d.retryLane=_,Pa(t,_),hn(l,t,_),od;Cc(),i=jy(t,i,s)}else t=d.treeContext,tt=Pn(_.nextSibling),qt=i,Le=!0,Ir=null,Mn=!1,t!==null&&Rg(i,t),i=gc(i,l),i.flags|=4096;return i}return t=Bi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function yc(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function ld(t,i,s,l,h){return za(i),s=qf(t,i,s,l,void 0,h),l=Hf(),t!==null&&!wt?(Ff(t,i,h),Ki(t,i,h)):(Le&&l&&Af(i),i.flags|=1,Ft(t,i,s,h),i.child)}function By(t,i,s,l,h,d){return za(i),i.updateQueue=null,s=Fg(i,l,s,h),Hg(t),l=Hf(),t!==null&&!wt?(Ff(t,i,d),Ki(t,i,d)):(Le&&l&&Af(i),i.flags|=1,Ft(t,i,s,d),i.child)}function qy(t,i,s,l,h){if(za(i),i.stateNode===null){var d=Is,_=s.contextType;typeof _=="object"&&_!==null&&(d=Ht(_)),d=new s(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ad,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},xf(i),_=s.contextType,d.context=typeof _=="object"&&_!==null?Ht(_):Is,d.state=i.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(rd(i,s,_,l),d.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&ad.enqueueReplaceState(d,d.state,null),ll(i,l,d,h),ol(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,D=Ga(s,S);d.props=D;var j=d.context,K=s.contextType;_=Is,typeof K=="object"&&K!==null&&(_=Ht(K));var Z=s.getDerivedStateFromProps;K=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||j!==_)&&Iy(i,d,l,_),Or=!1;var q=i.memoizedState;d.state=q,ll(i,l,d,h),ol(),j=i.memoizedState,S||q!==j||Or?(typeof Z=="function"&&(rd(i,s,Z,l),j=i.memoizedState),(D=Or||Cy(i,s,D,l,q,j,_))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Pf(t,i),_=i.memoizedProps,K=Ga(s,_),d.props=K,Z=i.pendingProps,q=d.context,j=s.contextType,D=Is,typeof j=="object"&&j!==null&&(D=Ht(j)),S=s.getDerivedStateFromProps,(j=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Z||q!==D)&&Iy(i,d,l,D),Or=!1,q=i.memoizedState,d.state=q,ll(i,l,d,h),ol();var F=i.memoizedState;_!==Z||q!==F||Or||t!==null&&t.dependencies!==null&&Zu(t.dependencies)?(typeof S=="function"&&(rd(i,s,S,l),F=i.memoizedState),(K=Or||Cy(i,s,K,l,q,F,D)||t!==null&&t.dependencies!==null&&Zu(t.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=D,l=K):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,yc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ha(i,t.child,null,h),i.child=Ha(i,null,s,h)):Ft(t,i,s,h),i.memoizedState=d.state,t=i.child):t=Ki(t,i,h),t}function Hy(t,i,s,l){return Ua(),i.flags|=256,Ft(t,i,s,l),i.child}var ud={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cd(t){return{baseLanes:t,cachePool:Vg()}}function hd(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=Tn),t}function Fy(t,i,s){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(mt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Le){if(h?xr(i):Pr(),(t=tt)?(t=Z_(t,Mn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Cr!==null?{id:Ai,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},s=Ag(t),s.return=i,i.child=s,qt=i,tt=null)):t=null,t===null)throw Nr(i);return Kd(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(Pr(),h=i.mode,S=_c({mode:"hidden",children:S},h),l=La(l,h,s,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=cd(s),l.childLanes=hd(t,_,s),i.memoizedState=ud,dl(null,l)):(xr(i),fd(i,S))}var D=t.memoizedState;if(D!==null&&(S=D.dehydrated,S!==null)){if(d)i.flags&256?(xr(i),i.flags&=-257,i=dd(t,i,s)):i.memoizedState!==null?(Pr(),i.child=t.child,i.flags|=128,i=null):(Pr(),S=l.fallback,h=i.mode,l=_c({mode:"visible",children:l.children},h),S=La(S,h,s,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,Ha(i,t.child,null,s),l=i.child,l.memoizedState=cd(s),l.childLanes=hd(t,_,s),i.memoizedState=ud,i=dl(null,l));else if(xr(i),Kd(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var j=_.dgst;_=j,l=Error(a(419)),l.stack="",l.digest=_,tl({value:l,source:null,stack:null}),i=dd(t,i,s)}else if(wt||Vs(t,i,s,!1),_=(s&t.childLanes)!==0,wt||_){if(_=We,_!==null&&(l=xo(_,s),l!==0&&l!==D.retryLane))throw D.retryLane=l,Pa(t,l),hn(_,t,l),od;Qd(S)||Cc(),i=dd(t,i,s)}else Qd(S)?(i.flags|=192,i.child=t.child,i=null):(t=D.treeContext,tt=Pn(S.nextSibling),qt=i,Le=!0,Ir=null,Mn=!1,t!==null&&Rg(i,t),i=fd(i,l.children),i.flags|=4096);return i}return h?(Pr(),S=l.fallback,h=i.mode,D=t.child,j=D.sibling,l=Bi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,j!==null?S=Bi(j,S):(S=La(S,h,s,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,dl(null,l),l=i.child,S=t.child.memoizedState,S===null?S=cd(s):(h=S.cachePool,h!==null?(D=At._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=Vg(),S={baseLanes:S.baseLanes|s,cachePool:h}),l.memoizedState=S,l.childLanes=hd(t,_,s),i.memoizedState=ud,dl(t.child,l)):(xr(i),s=t.child,t=s.sibling,s=Bi(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=s,i.memoizedState=null,s)}function fd(t,i){return i=_c({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function _c(t,i){return t=yn(22,t,null,i),t.lanes=0,t}function dd(t,i,s){return Ha(i,t.child,null,s),t=fd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Gy(t,i,s){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),If(t.return,i,s)}function md(t,i,s,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=s,_.tailMode=h,_.treeForkCount=d)}function Qy(t,i,s){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=mt.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,oe(mt,_),Ft(t,i,l,s),l=Le?el:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Gy(t,s,i);else if(t.tag===19)Gy(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=i.child,h=null;s!==null;)t=s.alternate,t!==null&&sc(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),md(i,!1,h,s,d,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&sc(t)===null){i.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}md(i,!0,s,null,d,l);break;case"together":md(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Ki(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),kr|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(Vs(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,s=Bi(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=Bi(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function pd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Zu(t)))}function BA(t,i,s){switch(i.tag){case 3:Ot(i,i.stateNode.containerInfo),Dr(i,At,t.memoizedState.cache),Ua();break;case 27:case 5:ya(i);break;case 4:Ot(i,i.stateNode.containerInfo);break;case 10:Dr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,jf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(xr(i),i.flags|=128,null):(s&i.child.childLanes)!==0?Fy(t,i,s):(xr(i),t=Ki(t,i,s),t!==null?t.sibling:null);xr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(Vs(t,i,s,!1),l=(s&i.childLanes)!==0),h){if(l)return Qy(t,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(mt,mt.current),l)break;return null;case 22:return i.lanes=0,ky(t,i,s,i.pendingProps);case 24:Dr(i,At,t.memoizedState.cache)}return Ki(t,i,s)}function Ky(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)wt=!0;else{if(!pd(t,s)&&(i.flags&128)===0)return wt=!1,BA(t,i,s);wt=(t.flags&131072)!==0}else wt=!1,Le&&(i.flags&1048576)!==0&&wg(i,el,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Ba(i.elementType),i.type=t,typeof t=="function")Ef(t)?(l=Ga(t,l),i.tag=1,i=qy(null,i,t,l,s)):(i.tag=0,i=ld(null,i,t,l,s));else{if(t!=null){var h=t.$$typeof;if(h===ie){i.tag=11,i=Py(null,i,t,l,s);break e}else if(h===I){i.tag=14,i=Ly(null,i,t,l,s);break e}}throw i=rt(t)||t,Error(a(306,i,""))}}return i;case 0:return ld(t,i,i.type,i.pendingProps,s);case 1:return l=i.type,h=Ga(l,i.pendingProps),qy(t,i,l,h,s);case 3:e:{if(Ot(i,i.stateNode.containerInfo),t===null)throw Error(a(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Pf(t,i),ll(i,l,null,s);var _=i.memoizedState;if(l=_.cache,Dr(i,At,l),l!==d.cache&&Nf(i,[At],s,!0),ol(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Hy(t,i,l,s);break e}else if(l!==h){h=Dn(Error(a(424)),i),tl(h),i=Hy(t,i,l,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(tt=Pn(t.firstChild),qt=i,Le=!0,Ir=null,Mn=!0,s=kg(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Ua(),l===h){i=Ki(t,i,s);break e}Ft(t,i,l,s)}i=i.child}return i;case 26:return yc(t,i),t===null?(s=rv(i.type,null,i.pendingProps,null))?i.memoizedState=s:Le||(s=i.type,t=i.pendingProps,l=xc(Ce.current).createElement(s),l[Et]=i,l[Pt]=t,Gt(l,s,t),Tt(l),i.stateNode=l):i.memoizedState=rv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ya(i),t===null&&Le&&(l=i.stateNode=tv(i.type,i.pendingProps,Ce.current),qt=i,Mn=!0,h=tt,Hr(i.type)?(Yd=h,tt=Pn(l.firstChild)):tt=h),Ft(t,i,i.pendingProps.children,s),yc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Le&&((h=l=tt)&&(l=yb(l,i.type,i.pendingProps,Mn),l!==null?(i.stateNode=l,qt=i,tt=Pn(l.firstChild),Mn=!1,h=!0):h=!1),h||Nr(i)),ya(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Hd(h,d)?l=null:_!==null&&Hd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=qf(t,i,VA,null,null,s),Il._currentValue=h),yc(t,i),Ft(t,i,l,s),i.child;case 6:return t===null&&Le&&((t=s=tt)&&(s=_b(s,i.pendingProps,Mn),s!==null?(i.stateNode=s,qt=i,tt=null,t=!0):t=!1),t||Nr(i)),null;case 13:return Fy(t,i,s);case 4:return Ot(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ha(i,null,l,s):Ft(t,i,l,s),i.child;case 11:return Py(t,i,i.type,i.pendingProps,s);case 7:return Ft(t,i,i.pendingProps,s),i.child;case 8:return Ft(t,i,i.pendingProps.children,s),i.child;case 12:return Ft(t,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,Dr(i,i.type,l.value),Ft(t,i,l.children,s),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,za(i),h=Ht(h),l=l(h),i.flags|=1,Ft(t,i,l,s),i.child;case 14:return Ly(t,i,i.type,i.pendingProps,s);case 15:return Uy(t,i,i.type,i.pendingProps,s);case 19:return Qy(t,i,s);case 31:return jA(t,i,s);case 22:return ky(t,i,s,i.pendingProps);case 24:return za(i),l=Ht(At),t===null?(h=Vf(),h===null&&(h=We,d=Df(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),i.memoizedState={parent:l,cache:h},xf(i),Dr(i,At,h)):((t.lanes&s)!==0&&(Pf(t,i),ll(i,null,null,s),ol()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Dr(i,At,l)):(l=d.cache,Dr(i,At,l),l!==h.cache&&Nf(i,[At],s,!0))),Ft(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Yi(t){t.flags|=4}function gd(t,i,s,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(E_())t.flags|=8192;else throw qa=nc,Mf}else t.flags&=-16777217}function Yy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!uv(i))if(E_())t.flags|=8192;else throw qa=nc,Mf}function vc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?wu():536870912,t.lanes|=i,Fs|=i)}function ml(t,i){if(!Le)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function nt(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(i)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,i}function qA(t,i,s){var l=i.pendingProps;switch(bf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(i),null;case 1:return nt(i),null;case 3:return s=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Fi(At),at(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Os(i)?Yi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Rf())),nt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Yi(i),d!==null?(nt(i),Yy(i,d)):(nt(i),gd(i,h,null,l,s))):d?d!==t.memoizedState?(Yi(i),nt(i),Yy(i,d)):(nt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Yi(i),nt(i),gd(i,h,t,l,s)),null;case 27:if(us(i),s=Ce.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Yi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return nt(i),null}t=ce.current,Os(i)?Cg(i):(t=tv(h,l,s),i.stateNode=t,Yi(i))}return nt(i),null;case 5:if(us(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Yi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return nt(i),null}if(d=ce.current,Os(i))Cg(i);else{var _=xc(Ce.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Et]=i,d[Pt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Gt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Yi(i)}}return nt(i),gd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,s),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Yi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(t=Ce.current,Os(i)){if(t=i.stateNode,s=i.memoizedProps,l=null,h=qt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Et]=i,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||F_(t.nodeValue,s)),t||Nr(i,!0)}else t=xc(t).createTextNode(l),t[Et]=i,i.stateNode=t}return nt(i),null;case 31:if(s=i.memoizedState,t===null||t.memoizedState!==null){if(l=Os(i),s!==null){if(t===null){if(!l)throw Error(a(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Et]=i}else Ua(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),t=!1}else s=Rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return i.flags&256?(vn(i),i):(vn(i),null);if((i.flags&128)!==0)throw Error(a(558))}return nt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Os(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Et]=i}else Ua(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),h=!1}else h=Rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(vn(i),i):(vn(i),null)}return vn(i),(i.flags&128)!==0?(i.lanes=s,i):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),s!==t&&s&&(i.child.flags|=8192),vc(i,i.updateQueue),nt(i),null);case 4:return at(),t===null&&kd(i.stateNode.containerInfo),nt(i),null;case 10:return Fi(i.type),nt(i),null;case 19:if(W(mt),l=i.memoizedState,l===null)return nt(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)ml(l,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=sc(t),d!==null){for(i.flags|=128,ml(l,!1),t=d.updateQueue,i.updateQueue=t,vc(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)Sg(s,t),s=s.sibling;return oe(mt,mt.current&1|2),Le&&qi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&tn()>bc&&(i.flags|=128,h=!0,ml(l,!1),i.lanes=4194304)}else{if(!h)if(t=sc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,vc(i,t),ml(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Le)return nt(i),null}else 2*tn()-l.renderingStartTime>bc&&s!==536870912&&(i.flags|=128,h=!0,ml(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=tn(),t.sibling=null,s=mt.current,oe(mt,h?s&1|2:s&1),Le&&qi(i,l.treeForkCount),t):(nt(i),null);case 22:case 23:return vn(i),zf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(nt(i),i.subtreeFlags&6&&(i.flags|=8192)):nt(i),s=i.updateQueue,s!==null&&vc(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),t!==null&&W(ja),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Fi(At),nt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function HA(t,i){switch(bf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Fi(At),at(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return us(i),null;case 31:if(i.memoizedState!==null){if(vn(i),i.alternate===null)throw Error(a(340));Ua()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(vn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Ua()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return W(mt),null;case 4:return at(),null;case 10:return Fi(i.type),null;case 22:case 23:return vn(i),zf(),t!==null&&W(ja),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Fi(At),null;case 25:return null;default:return null}}function Xy(t,i){switch(bf(i),i.tag){case 3:Fi(At),at();break;case 26:case 27:case 5:us(i);break;case 4:at();break;case 31:i.memoizedState!==null&&vn(i);break;case 13:vn(i);break;case 19:W(mt);break;case 10:Fi(i.type);break;case 22:case 23:vn(i),zf(),t!==null&&W(ja);break;case 24:Fi(At)}}function pl(t,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var d=s.create,_=s.inst;l=d(),_.destroy=l}s=s.next}while(s!==h)}}catch(S){Ye(i,i.return,S)}}function Lr(t,i,s){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,h=i;var D=s,j=S;try{j()}catch(K){Ye(h,D,K)}}}l=l.next}while(l!==d)}}catch(K){Ye(i,i.return,K)}}function $y(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{jg(i,s)}catch(l){Ye(t,t.return,l)}}}function Jy(t,i,s){s.props=Ga(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Ye(t,i,l)}}function gl(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){Ye(t,i,h)}}function wi(t,i){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Ye(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Ye(t,i,h)}else s.current=null}function Zy(t){var i=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Ye(t,t.return,h)}}function yd(t,i,s){try{var l=t.stateNode;hb(l,t.type,s,i),l[Pt]=i}catch(h){Ye(t,t.return,h)}}function Wy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Hr(t.type)||t.tag===4}function _d(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Wy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Hr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vd(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Fn));else if(l!==4&&(l===27&&Hr(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(vd(t,i,s),t=t.sibling;t!==null;)vd(t,i,s),t=t.sibling}function Ec(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(l!==4&&(l===27&&Hr(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Ec(t,i,s),t=t.sibling;t!==null;)Ec(t,i,s),t=t.sibling}function e_(t){var i=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Gt(i,l,s),i[Et]=t,i[Pt]=s}catch(d){Ye(t,t.return,d)}}var Xi=!1,Rt=!1,Ed=!1,t_=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function FA(t,i){if(t=t.containerInfo,Bd=Bc,t=dg(t),df(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var _=0,S=-1,D=-1,j=0,K=0,Z=t,q=null;t:for(;;){for(var F;Z!==s||h!==0&&Z.nodeType!==3||(S=_+h),Z!==d||l!==0&&Z.nodeType!==3||(D=_+l),Z.nodeType===3&&(_+=Z.nodeValue.length),(F=Z.firstChild)!==null;)q=Z,Z=F;for(;;){if(Z===t)break t;if(q===s&&++j===h&&(S=_),q===d&&++K===l&&(D=_),(F=Z.nextSibling)!==null)break;Z=q,q=Z.parentNode}Z=F}s=S===-1||D===-1?null:{start:S,end:D}}else s=null}s=s||{start:0,end:0}}else s=null;for(qd={focusedElem:t,selectionRange:s},Bc=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=i,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var he=Ga(s.type,h);t=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Ye(s,s.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)Gd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Gd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function n_(t,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Ji(t,s),l&4&&pl(5,s);break;case 1:if(Ji(t,s),l&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(_){Ye(s,s.return,_)}else{var h=Ga(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ye(s,s.return,_)}}l&64&&$y(s),l&512&&gl(s,s.return);break;case 3:if(Ji(t,s),l&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{jg(t,i)}catch(_){Ye(s,s.return,_)}}break;case 27:i===null&&l&4&&e_(s);case 26:case 5:Ji(t,s),i===null&&l&4&&Zy(s),l&512&&gl(s,s.return);break;case 12:Ji(t,s);break;case 31:Ji(t,s),l&4&&a_(t,s);break;case 13:Ji(t,s),l&4&&s_(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=WA.bind(null,s),vb(t,s))));break;case 22:if(l=s.memoizedState!==null||Xi,!l){i=i!==null&&i.memoizedState!==null||Rt,h=Xi;var d=Rt;Xi=l,(Rt=i)&&!d?Zi(t,s,(s.subtreeFlags&8772)!==0):Ji(t,s),Xi=h,Rt=d}break;case 30:break;default:Ji(t,s)}}function i_(t){var i=t.alternate;i!==null&&(t.alternate=null,i_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ms(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,on=!1;function $i(t,i,s){for(s=s.child;s!==null;)r_(t,i,s),s=s.sibling}function r_(t,i,s){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(jn,s)}catch{}switch(s.tag){case 26:Rt||wi(s,i),$i(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Rt||wi(s,i);var l=ot,h=on;Hr(s.type)&&(ot=s.stateNode,on=!1),$i(t,i,s),wl(s.stateNode),ot=l,on=h;break;case 5:Rt||wi(s,i);case 6:if(l=ot,h=on,ot=null,$i(t,i,s),ot=l,on=h,ot!==null)if(on)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(s.stateNode)}catch(d){Ye(s,i,d)}else try{ot.removeChild(s.stateNode)}catch(d){Ye(s,i,d)}break;case 18:ot!==null&&(on?(t=ot,$_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Zs(t)):$_(ot,s.stateNode));break;case 4:l=ot,h=on,ot=s.stateNode.containerInfo,on=!0,$i(t,i,s),ot=l,on=h;break;case 0:case 11:case 14:case 15:Lr(2,s,i),Rt||Lr(4,s,i),$i(t,i,s);break;case 1:Rt||(wi(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Jy(s,i,l)),$i(t,i,s);break;case 21:$i(t,i,s);break;case 22:Rt=(l=Rt)||s.memoizedState!==null,$i(t,i,s),Rt=l;break;default:$i(t,i,s)}}function a_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Zs(t)}catch(s){Ye(i,i.return,s)}}}function s_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Zs(t)}catch(s){Ye(i,i.return,s)}}function GA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new t_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new t_),i;default:throw Error(a(435,t.tag))}}function Tc(t,i){var s=GA(t);i.forEach(function(l){if(!s.has(l)){s.add(l);var h=eb.bind(null,t,l);l.then(h,h)}})}function ln(t,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=t,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(Hr(S.type)){ot=S.stateNode,on=!1;break e}break;case 5:ot=S.stateNode,on=!1;break e;case 3:case 4:ot=S.stateNode.containerInfo,on=!0;break e}S=S.return}if(ot===null)throw Error(a(160));r_(d,_,h),ot=null,on=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)o_(i,t),i=i.sibling}var $n=null;function o_(t,i){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(i,t),un(t),l&4&&(Lr(3,t,t.return),pl(3,t),Lr(5,t,t.return));break;case 1:ln(i,t),un(t),l&512&&(Rt||s===null||wi(s,s.return)),l&64&&Xi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=$n;if(ln(i,t),un(t),l&512&&(Rt||s===null||wi(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[hi]||d[Et]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Gt(d,l,s),d[Et]=t,Tt(d),l=d;break e;case"link":var _=ov("link","href",h).get(l+(s.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(S,1);break t}}d=h.createElement(l),Gt(d,l,s),h.head.appendChild(d);break;case"meta":if(_=ov("meta","content",h).get(l+(s.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(S,1);break t}}d=h.createElement(l),Gt(d,l,s),h.head.appendChild(d);break;default:throw Error(a(468,l))}d[Et]=t,Tt(d),l=d}t.stateNode=l}else lv(h,t.type,t.stateNode);else t.stateNode=sv(h,l,t.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?lv(h,t.type,t.stateNode):sv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&yd(t,t.memoizedProps,s.memoizedProps)}break;case 27:ln(i,t),un(t),l&512&&(Rt||s===null||wi(s,s.return)),s!==null&&l&4&&yd(t,t.memoizedProps,s.memoizedProps);break;case 5:if(ln(i,t),un(t),l&512&&(Rt||s===null||wi(s,s.return)),t.flags&32){h=t.stateNode;try{sn(h,"")}catch(he){Ye(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,yd(t,h,s!==null?s.memoizedProps:h)),l&1024&&(Ed=!0);break;case 6:if(ln(i,t),un(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(he){Ye(t,t.return,he)}}break;case 3:if(Uc=null,h=$n,$n=Pc(i.containerInfo),ln(i,t),$n=h,un(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Zs(i.containerInfo)}catch(he){Ye(t,t.return,he)}Ed&&(Ed=!1,l_(t));break;case 4:l=$n,$n=Pc(t.stateNode.containerInfo),ln(i,t),un(t),$n=l;break;case 12:ln(i,t),un(t);break;case 31:ln(i,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Tc(t,l)));break;case 13:ln(i,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Ac=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Tc(t,l)));break;case 22:h=t.memoizedState!==null;var D=s!==null&&s.memoizedState!==null,j=Xi,K=Rt;if(Xi=j||h,Rt=K||D,ln(i,t),Rt=K,Xi=j,un(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||D||Xi||Rt||Qa(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){D=s=i;try{if(d=D.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=D.stateNode;var Z=D.memoizedProps.style,q=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;S.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(he){Ye(D,D.return,he)}}}else if(i.tag===6){if(s===null){D=i;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(he){Ye(D,D.return,he)}}}else if(i.tag===18){if(s===null){D=i;try{var F=D.stateNode;h?J_(F,!0):J_(D.stateNode,!1)}catch(he){Ye(D,D.return,he)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Tc(t,s))));break;case 19:ln(i,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Tc(t,l)));break;case 30:break;case 21:break;default:ln(i,t),un(t)}}function un(t){var i=t.flags;if(i&2){try{for(var s,l=t.return;l!==null;){if(Wy(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,d=_d(t);Ec(t,d,h);break;case 5:var _=s.stateNode;s.flags&32&&(sn(_,""),s.flags&=-33);var S=_d(t);Ec(t,S,_);break;case 3:case 4:var D=s.stateNode.containerInfo,j=_d(t);vd(t,j,D);break;default:throw Error(a(161))}}catch(K){Ye(t,t.return,K)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function l_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;l_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Ji(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)n_(t,i.alternate,i),i=i.sibling}function Qa(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Lr(4,i,i.return),Qa(i);break;case 1:wi(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&Jy(i,i.return,s),Qa(i);break;case 27:wl(i.stateNode);case 26:case 5:wi(i,i.return),Qa(i);break;case 22:i.memoizedState===null&&Qa(i);break;case 30:Qa(i);break;default:Qa(i)}t=t.sibling}}function Zi(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Zi(h,d,s),pl(4,d);break;case 1:if(Zi(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Ye(l,l.return,j)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)zg(D[h],S)}catch(j){Ye(l,l.return,j)}}s&&_&64&&$y(d),gl(d,d.return);break;case 27:e_(d);case 26:case 5:Zi(h,d,s),s&&l===null&&_&4&&Zy(d),gl(d,d.return);break;case 12:Zi(h,d,s);break;case 31:Zi(h,d,s),s&&_&4&&a_(h,d);break;case 13:Zi(h,d,s),s&&_&4&&s_(h,d);break;case 22:d.memoizedState===null&&Zi(h,d,s),gl(d,d.return);break;case 30:break;default:Zi(h,d,s)}i=i.sibling}}function Td(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&nl(s))}function Sd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&nl(t))}function Jn(t,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)u_(t,i,s,l),i=i.sibling}function u_(t,i,s,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Jn(t,i,s,l),h&2048&&pl(9,i);break;case 1:Jn(t,i,s,l);break;case 3:Jn(t,i,s,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&nl(t)));break;case 12:if(h&2048){Jn(t,i,s,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Ye(i,i.return,D)}}else Jn(t,i,s,l);break;case 31:Jn(t,i,s,l);break;case 13:Jn(t,i,s,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Jn(t,i,s,l):yl(t,i):d._visibility&2?Jn(t,i,s,l):(d._visibility|=2,Bs(t,i,s,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Td(_,i);break;case 24:Jn(t,i,s,l),h&2048&&Sd(i.alternate,i);break;default:Jn(t,i,s,l)}}function Bs(t,i,s,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,S=s,D=l,j=_.flags;switch(_.tag){case 0:case 11:case 15:Bs(d,_,S,D,h),pl(8,_);break;case 23:break;case 22:var K=_.stateNode;_.memoizedState!==null?K._visibility&2?Bs(d,_,S,D,h):yl(d,_):(K._visibility|=2,Bs(d,_,S,D,h)),h&&j&2048&&Td(_.alternate,_);break;case 24:Bs(d,_,S,D,h),h&&j&2048&&Sd(_.alternate,_);break;default:Bs(d,_,S,D,h)}i=i.sibling}}function yl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,l=i,h=l.flags;switch(l.tag){case 22:yl(s,l),h&2048&&Td(l.alternate,l);break;case 24:yl(s,l),h&2048&&Sd(l.alternate,l);break;default:yl(s,l)}i=i.sibling}}var _l=8192;function qs(t,i,s){if(t.subtreeFlags&_l)for(t=t.child;t!==null;)c_(t,i,s),t=t.sibling}function c_(t,i,s){switch(t.tag){case 26:qs(t,i,s),t.flags&_l&&t.memoizedState!==null&&Ob(s,$n,t.memoizedState,t.memoizedProps);break;case 5:qs(t,i,s);break;case 3:case 4:var l=$n;$n=Pc(t.stateNode.containerInfo),qs(t,i,s),$n=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=_l,_l=16777216,qs(t,i,s),_l=l):qs(t,i,s));break;default:qs(t,i,s)}}function h_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function vl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];Ut=l,d_(l,t)}h_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)f_(t),t=t.sibling}function f_(t){switch(t.tag){case 0:case 11:case 15:vl(t),t.flags&2048&&Lr(9,t,t.return);break;case 3:vl(t);break;case 12:vl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Sc(t)):vl(t);break;default:vl(t)}}function Sc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];Ut=l,d_(l,t)}h_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Lr(8,i,i.return),Sc(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Sc(i));break;default:Sc(i)}t=t.sibling}}function d_(t,i){for(;Ut!==null;){var s=Ut;switch(s.tag){case 0:case 11:case 15:Lr(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:nl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ut=l;else e:for(s=t;Ut!==null;){l=Ut;var h=l.sibling,d=l.return;if(i_(l),l===s){Ut=null;break e}if(h!==null){h.return=d,Ut=h;break e}Ut=d}}}var QA={getCacheForType:function(t){var i=Ht(At),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s},cacheSignal:function(){return Ht(At).controller.signal}},KA=typeof WeakMap=="function"?WeakMap:Map,He=0,We=null,Ne=null,Oe=0,Ke=0,En=null,Ur=!1,Hs=!1,Ad=!1,Wi=0,ht=0,kr=0,Ka=0,bd=0,Tn=0,Fs=0,El=null,cn=null,wd=!1,Ac=0,m_=0,bc=1/0,wc=null,zr=null,Mt=0,jr=null,Gs=null,er=0,Rd=0,Cd=null,p_=null,Tl=0,Id=null;function Sn(){return(He&2)!==0&&Oe!==0?Oe&-Oe:Y.T!==null?xd():Ru()}function g_(){if(Tn===0)if((Oe&536870912)===0||Le){var t=Ea;Ea<<=1,(Ea&3932160)===0&&(Ea=262144),Tn=t}else Tn=536870912;return t=_n.current,t!==null&&(t.flags|=32),Tn}function hn(t,i,s){(t===We&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Qs(t,0),Br(t,Oe,Tn,!1)),Ta(t,s),((He&2)===0||t!==We)&&(t===We&&((He&2)===0&&(Ka|=s),ht===4&&Br(t,Oe,Tn,!1)),Ri(t))}function y_(t,i,s){if((He&6)!==0)throw Error(a(327));var l=!s&&(i&127)===0&&(i&t.expiredLanes)===0||Bn(t,i),h=l?$A(t,i):Dd(t,i,!0),d=l;do{if(h===0){Hs&&!l&&Br(t,i,0,!1);break}else{if(s=t.current.alternate,d&&!YA(s)){h=Dd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var S=t;h=El;var D=S.current.memoizedState.isDehydrated;if(D&&(Qs(S,_).flags|=256),_=Dd(S,_,!1),_!==2){if(Ad&&!D){S.errorRecoveryDisabledLanes|=d,Ka|=d,h=4;break e}d=cn,cn=h,d!==null&&(cn===null?cn=d:cn.push.apply(cn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Qs(t,0),Br(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Br(l,i,Tn,!Ur);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=Ac+300-tn(),10<h)){if(Br(l,i,Tn,!Ur),li(l,0,!0)!==0)break e;er=i,l.timeoutHandle=Y_(__.bind(null,l,s,cn,wc,wd,i,Tn,Ka,Fs,Ur,d,"Throttled",-0,0),h);break e}__(l,s,cn,wc,wd,i,Tn,Ka,Fs,Ur,d,null,-0,0)}}break}while(!0);Ri(t)}function __(t,i,s,l,h,d,_,S,D,j,K,Z,q,F){if(t.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fn},c_(i,d,Z);var he=(d&62914560)===d?Ac-tn():(d&4194048)===d?m_-tn():0;if(he=Vb(Z,he),he!==null){er=d,t.cancelPendingCommit=he(R_.bind(null,t,i,d,s,l,h,_,S,D,K,Z,null,q,F)),Br(t,d,_,!j);return}}R_(t,i,d,s,l,h,_,S,D)}function YA(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!gn(d(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Br(t,i,s,l){i&=~bd,i&=~Ka,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-ft(h),_=1<<d;l[d]=-1,h&=~_}s!==0&&Sa(t,s,i)}function Rc(){return(He&6)===0?(Sl(0),!1):!0}function Nd(){if(Ne!==null){if(Ke===0)var t=Ne.return;else t=Ne,Hi=ka=null,Gf(t),Ls=null,rl=0,t=Ne;for(;t!==null;)Xy(t.alternate,t),t=t.return;Ne=null}}function Qs(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,mb(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),er=0,Nd(),We=t,Ne=s=Bi(t.current,null),Oe=i,Ke=0,En=null,Ur=!1,Hs=Bn(t,i),Ad=!1,Fs=Tn=bd=Ka=kr=ht=0,cn=El=null,wd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-ft(l),d=1<<h;i|=t[h],l&=~d}return Wi=i,Ku(),s}function v_(t,i){Re=null,Y.H=fl,i===Ps||i===tc?(i=Pg(),Ke=3):i===Mf?(i=Pg(),Ke=4):Ke=i===od?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,En=i,Ne===null&&(ht=1,pc(t,Dn(i,t.current)))}function E_(){var t=_n.current;return t===null?!0:(Oe&4194048)===Oe?xn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===xn:!1}function T_(){var t=Y.H;return Y.H=fl,t===null?fl:t}function S_(){var t=Y.A;return Y.A=QA,t}function Cc(){ht=4,Ur||(Oe&4194048)!==Oe&&_n.current!==null||(Hs=!0),(kr&134217727)===0&&(Ka&134217727)===0||We===null||Br(We,Oe,Tn,!1)}function Dd(t,i,s){var l=He;He|=2;var h=T_(),d=S_();(We!==t||Oe!==i)&&(wc=null,Qs(t,i)),i=!1;var _=ht;e:do try{if(Ke!==0&&Ne!==null){var S=Ne,D=En;switch(Ke){case 8:Nd(),_=6;break e;case 3:case 2:case 9:case 6:_n.current===null&&(i=!0);var j=Ke;if(Ke=0,En=null,Ks(t,S,D,j),s&&Hs){_=0;break e}break;default:j=Ke,Ke=0,En=null,Ks(t,S,D,j)}}XA(),_=ht;break}catch(K){v_(t,K)}while(!0);return i&&t.shellSuspendCounter++,Hi=ka=null,He=l,Y.H=h,Y.A=d,Ne===null&&(We=null,Oe=0,Ku()),_}function XA(){for(;Ne!==null;)A_(Ne)}function $A(t,i){var s=He;He|=2;var l=T_(),h=S_();We!==t||Oe!==i?(wc=null,bc=tn()+500,Qs(t,i)):Hs=Bn(t,i);e:do try{if(Ke!==0&&Ne!==null){i=Ne;var d=En;t:switch(Ke){case 1:Ke=0,En=null,Ks(t,i,d,1);break;case 2:case 9:if(Mg(d)){Ke=0,En=null,b_(i);break}i=function(){Ke!==2&&Ke!==9||We!==t||(Ke=7),Ri(t)},d.then(i,i);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Mg(d)?(Ke=0,En=null,b_(i)):(Ke=0,En=null,Ks(t,i,d,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var S=Ne;if(_?uv(_):S.stateNode.complete){Ke=0,En=null;var D=S.sibling;if(D!==null)Ne=D;else{var j=S.return;j!==null?(Ne=j,Ic(j)):Ne=null}break t}}Ke=0,En=null,Ks(t,i,d,5);break;case 6:Ke=0,En=null,Ks(t,i,d,6);break;case 8:Nd(),ht=6;break e;default:throw Error(a(462))}}JA();break}catch(K){v_(t,K)}while(!0);return Hi=ka=null,Y.H=l,Y.A=h,He=s,Ne!==null?0:(We=null,Oe=0,Ku(),ht)}function JA(){for(;Ne!==null&&!sf();)A_(Ne)}function A_(t){var i=Ky(t.alternate,t,Wi);t.memoizedProps=t.pendingProps,i===null?Ic(t):Ne=i}function b_(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=By(s,i,i.pendingProps,i.type,void 0,Oe);break;case 11:i=By(s,i,i.pendingProps,i.type.render,i.ref,Oe);break;case 5:Gf(i);default:Xy(s,i),i=Ne=Sg(i,Wi),i=Ky(s,i,Wi)}t.memoizedProps=t.pendingProps,i===null?Ic(t):Ne=i}function Ks(t,i,s,l){Hi=ka=null,Gf(i),Ls=null,rl=0;var h=i.return;try{if(zA(t,h,i,s,Oe)){ht=1,pc(t,Dn(s,t.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;ht=1,pc(t,Dn(s,t.current)),Ne=null;return}i.flags&32768?(Le||l===1?t=!0:Hs||(Oe&536870912)!==0?t=!1:(Ur=t=!0,(l===2||l===9||l===3||l===6)&&(l=_n.current,l!==null&&l.tag===13&&(l.flags|=16384))),w_(i,t)):Ic(i)}function Ic(t){var i=t;do{if((i.flags&32768)!==0){w_(i,Ur);return}t=i.return;var s=qA(i.alternate,i,Wi);if(s!==null){Ne=s;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);ht===0&&(ht=5)}function w_(t,i){do{var s=HA(t.alternate,t);if(s!==null){s.flags&=32767,Ne=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=s}while(t!==null);ht=6,Ne=null}function R_(t,i,s,l,h,d,_,S,D){t.cancelPendingCommit=null;do Nc();while(Mt!==0);if((He&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(d=i.lanes|i.childLanes,d|=_f,uf(t,s,d,_,S,D),t===We&&(Ne=We=null,Oe=0),Gs=i,jr=t,er=s,Rd=d,Cd=h,p_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,tb(yr,function(){return O_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=se.p,se.p=2,_=He,He|=4;try{FA(t,i,s)}finally{He=_,se.p=h,Y.T=l}}Mt=1,C_(),I_(),N_()}}function C_(){if(Mt===1){Mt=0;var t=jr,i=Gs,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=Y.T,Y.T=null;var l=se.p;se.p=2;var h=He;He|=4;try{o_(i,t);var d=qd,_=dg(t.containerInfo),S=d.focusedElem,D=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&fg(S.ownerDocument.documentElement,S)){if(D!==null&&df(S)){var j=D.start,K=D.end;if(K===void 0&&(K=j),"selectionStart"in S)S.selectionStart=j,S.selectionEnd=Math.min(K,S.value.length);else{var Z=S.ownerDocument||document,q=Z&&Z.defaultView||window;if(q.getSelection){var F=q.getSelection(),he=S.textContent.length,_e=Math.min(D.start,he),Ze=D.end===void 0?_e:Math.min(D.end,he);!F.extend&&_e>Ze&&(_=Ze,Ze=_e,_e=_);var L=hg(S,_e),V=hg(S,Ze);if(L&&V&&(F.rangeCount!==1||F.anchorNode!==L.node||F.anchorOffset!==L.offset||F.focusNode!==V.node||F.focusOffset!==V.offset)){var z=Z.createRange();z.setStart(L.node,L.offset),F.removeAllRanges(),_e>Ze?(F.addRange(z),F.extend(V.node,V.offset)):(z.setEnd(V.node,V.offset),F.addRange(z))}}}}for(Z=[],F=S;F=F.parentNode;)F.nodeType===1&&Z.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<Z.length;S++){var X=Z[S];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Bc=!!Bd,qd=Bd=null}finally{He=h,se.p=l,Y.T=s}}t.current=i,Mt=2}}function I_(){if(Mt===2){Mt=0;var t=jr,i=Gs,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=Y.T,Y.T=null;var l=se.p;se.p=2;var h=He;He|=4;try{n_(t,i.alternate,i)}finally{He=h,se.p=l,Y.T=s}}Mt=3}}function N_(){if(Mt===4||Mt===3){Mt=0,vu();var t=jr,i=Gs,s=er,l=p_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Mt=5:(Mt=0,Gs=jr=null,D_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(zr=null),Ui(s),i=i.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(jn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Y.T,h=se.p,se.p=2,Y.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{Y.T=i,se.p=h}}(er&3)!==0&&Nc(),Ri(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===Id?Tl++:(Tl=0,Id=t):Tl=0,Sl(0)}}function D_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,nl(i)))}function Nc(){return C_(),I_(),N_(),O_()}function O_(){if(Mt!==5)return!1;var t=jr,i=Rd;Rd=0;var s=Ui(er),l=Y.T,h=se.p;try{se.p=32>s?32:s,Y.T=null,s=Cd,Cd=null;var d=jr,_=er;if(Mt=0,Gs=jr=null,er=0,(He&6)!==0)throw Error(a(331));var S=He;if(He|=4,f_(d.current),u_(d,d.current,_,s),He=S,Sl(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(jn,d)}catch{}return!0}finally{se.p=h,Y.T=l,D_(t,i)}}function V_(t,i,s){i=Dn(s,i),i=sd(t.stateNode,i,2),t=Mr(t,i,2),t!==null&&(Ta(t,2),Ri(t))}function Ye(t,i,s){if(t.tag===3)V_(t,t,s);else for(;i!==null;){if(i.tag===3){V_(i,t,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(zr===null||!zr.has(l))){t=Dn(s,t),s=My(2),l=Mr(i,s,2),l!==null&&(xy(s,l,i,t),Ta(l,2),Ri(l));break}}i=i.return}}function Od(t,i,s){var l=t.pingCache;if(l===null){l=t.pingCache=new KA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(s)||(Ad=!0,h.add(s),t=ZA.bind(null,t,i,s),i.then(t,t))}function ZA(t,i,s){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,We===t&&(Oe&s)===s&&(ht===4||ht===3&&(Oe&62914560)===Oe&&300>tn()-Ac?(He&2)===0&&Qs(t,0):bd|=s,Fs===Oe&&(Fs=0)),Ri(t)}function M_(t,i){i===0&&(i=wu()),t=Pa(t,i),t!==null&&(Ta(t,i),Ri(t))}function WA(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),M_(t,s)}function eb(t,i){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),M_(t,s)}function tb(t,i){return Vt(t,i)}var Dc=null,Ys=null,Vd=!1,Oc=!1,Md=!1,qr=0;function Ri(t){t!==Ys&&t.next===null&&(Ys===null?Dc=Ys=t:Ys=Ys.next=t),Oc=!0,Vd||(Vd=!0,ib())}function Sl(t,i){if(!Md&&Oc){Md=!0;do for(var s=!1,l=Dc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-ft(42|t)+1)-1,d&=h&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,U_(l,d))}else d=Oe,d=li(l,l===We?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Bn(l,d)||(s=!0,U_(l,d));l=l.next}while(s);Md=!1}}function nb(){x_()}function x_(){Oc=Vd=!1;var t=0;qr!==0&&db()&&(t=qr);for(var i=tn(),s=null,l=Dc;l!==null;){var h=l.next,d=P_(l,i);d===0?(l.next=null,s===null?Dc=h:s.next=h,h===null&&(Ys=s)):(s=l,(t!==0||(d&3)!==0)&&(Oc=!0)),l=h}Mt!==0&&Mt!==5||Sl(t),qr!==0&&(qr=0)}function P_(t,i){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-ft(d),S=1<<_,D=h[_];D===-1?((S&s)===0||(S&l)!==0)&&(h[_]=lf(S,i)):D<=i&&(t.expiredLanes|=S),d&=~S}if(i=We,s=Oe,s=li(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===i&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&gr(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Bn(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(l!==null&&gr(l),Ui(s)){case 2:case 8:s=Vo;break;case 32:s=yr;break;case 268435456:s=Eu;break;default:s=yr}return l=L_.bind(null,t),s=Vt(s,l),t.callbackPriority=i,t.callbackNode=s,i}return l!==null&&l!==null&&gr(l),t.callbackPriority=2,t.callbackNode=null,2}function L_(t,i){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Nc()&&t.callbackNode!==s)return null;var l=Oe;return l=li(t,t===We?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(y_(t,l,i),P_(t,tn()),t.callbackNode!=null&&t.callbackNode===s?L_.bind(null,t):null)}function U_(t,i){if(Nc())return null;y_(t,i,!0)}function ib(){pb(function(){(He&6)!==0?Vt(Oo,nb):x_()})}function xd(){if(qr===0){var t=Ms;t===0&&(t=si,si<<=1,(si&261888)===0&&(si=256)),qr=t}return qr}function k_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:_s(""+t)}function z_(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function rb(t,i,s,l,h){if(i==="submit"&&s&&s.stateNode===h){var d=k_((h[Pt]||null).action),_=l.submitter;_&&(i=(i=_[Pt]||null)?k_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new vi("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(qr!==0){var D=_?z_(h,_):new FormData(h);ed(s,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(S.preventDefault(),D=_?z_(h,_):new FormData(h),ed(s,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var Pd=0;Pd<yf.length;Pd++){var Ld=yf[Pd],ab=Ld.toLowerCase(),sb=Ld[0].toUpperCase()+Ld.slice(1);Xn(ab,"on"+sb)}Xn(gg,"onAnimationEnd"),Xn(yg,"onAnimationIteration"),Xn(_g,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(SA,"onTransitionRun"),Xn(AA,"onTransitionStart"),Xn(bA,"onTransitionCancel"),Xn(vg,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ob=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function j_(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],D=S.instance,j=S.currentTarget;if(S=S.listener,D!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=j;try{d(h)}catch(K){Qu(K)}h.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(S=l[_],D=S.instance,j=S.currentTarget,S=S.listener,D!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=j;try{d(h)}catch(K){Qu(K)}h.currentTarget=null,d=D}}}}function De(t,i){var s=i[ds];s===void 0&&(s=i[ds]=new Set);var l=t+"__bubble";s.has(l)||(B_(i,t,2,!1),s.add(l))}function Ud(t,i,s){var l=0;i&&(l|=4),B_(s,t,l,i)}var Vc="_reactListening"+Math.random().toString(36).slice(2);function kd(t){if(!t[Vc]){t[Vc]=!0,Po.forEach(function(s){s!=="selectionchange"&&(ob.has(s)||Ud(s,!1,t),Ud(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Vc]||(i[Vc]=!0,Ud("selectionchange",!1,i))}}function B_(t,i,s,l){switch(gv(i)){case 2:var h=Pb;break;case 8:h=Lb;break;default:h=Wd}s=h.bind(null,i,s,t),h=void 0,!Ca||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,s,{capture:!0,passive:h}):t.addEventListener(i,s,!0):h!==void 0?t.addEventListener(i,s,{passive:h}):t.addEventListener(i,s,!1)}function zd(t,i,s,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===h)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;S!==null;){if(_=fi(S),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue e}S=S.parentNode}}l=l.return}Ar(function(){var j=d,K=Rn(s),Z=[];e:{var q=Eg.get(t);if(q!==void 0){var F=vi,he=t;switch(t){case"keypress":if(Na(s)===0)break e;case"keydown":case"keyup":F=Hu;break;case"focusin":he="focus",F=Oa;break;case"focusout":he="blur",F=Oa;break;case"beforeblur":case"afterblur":F=Oa;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Yo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=xu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=g;break;case gg:case yg:case _g:F=Lu;break;case vg:F=A;break;case"scroll":case"scrollend":F=Ko;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=Uu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=ji;break;case"toggle":case"beforetoggle":F=we}var _e=(i&4)!==0,Ze=!_e&&(t==="scroll"||t==="scrollend"),L=_e?q!==null?q+"Capture":null:q;_e=[];for(var V=j,z;V!==null;){var X=V;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||L===null||(X=Gn(V,L),X!=null&&_e.push(bl(V,X,z))),Ze)break;V=V.return}0<_e.length&&(q=new F(q,he,null,s,K),Z.push({event:q,listeners:_e}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",q&&s!==Fo&&(he=s.relatedTarget||s.fromElement)&&(fi(he)||he[ci]))break e;if((F||q)&&(q=K.window===K?K:(q=K.ownerDocument)?q.defaultView||q.parentWindow:window,F?(he=s.relatedTarget||s.toElement,F=j,he=he?fi(he):null,he!==null&&(Ze=u(he),_e=he.tag,he!==Ze||_e!==5&&_e!==27&&_e!==6)&&(he=null)):(F=null,he=j),F!==he)){if(_e=Yo,X="onMouseLeave",L="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(_e=ji,X="onPointerLeave",L="onPointerEnter",V="pointer"),Ze=F==null?q:mn(F),z=he==null?q:mn(he),q=new _e(X,V+"leave",F,s,K),q.target=Ze,q.relatedTarget=z,X=null,fi(K)===j&&(_e=new _e(L,V+"enter",he,s,K),_e.target=z,_e.relatedTarget=Ze,X=_e),Ze=X,F&&he)t:{for(_e=lb,L=F,V=he,z=0,X=L;X;X=_e(X))z++;X=0;for(var me=V;me;me=_e(me))X++;for(;0<z-X;)L=_e(L),z--;for(;0<X-z;)V=_e(V),X--;for(;z--;){if(L===V||V!==null&&L===V.alternate){_e=L;break t}L=_e(L),V=_e(V)}_e=null}else _e=null;F!==null&&q_(Z,q,F,_e,!1),he!==null&&Ze!==null&&q_(Z,Ze,he,_e,!0)}}e:{if(q=j?mn(j):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var je=ag;else if(ig(q))if(sg)je=vA;else{je=yA;var fe=gA}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?j&&ys(j.elementType)&&(je=ag):je=_A;if(je&&(je=je(t,j))){rg(Z,je,s,K);break e}fe&&fe(t,q,j),t==="focusout"&&j&&q.type==="number"&&j.memoizedProps.value!=null&&Bo(q,"number",q.value)}switch(fe=j?mn(j):window,t){case"focusin":(ig(fe)||fe.contentEditable==="true")&&(ws=fe,mf=j,Wo=null);break;case"focusout":Wo=mf=ws=null;break;case"mousedown":pf=!0;break;case"contextmenu":case"mouseup":case"dragend":pf=!1,mg(Z,s,K);break;case"selectionchange":if(TA)break;case"keydown":case"keyup":mg(Z,s,K)}var Ie;if(qe)e:{switch(t){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else bs?Va(t,s)&&(Ve="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Ve="onCompositionStart");Ve&&(Si&&s.locale!=="ko"&&(bs||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&bs&&(Ie=Qo()):(_i=K,Go="value"in _i?_i.value:_i.textContent,bs=!0)),fe=Mc(j,Ve),0<fe.length&&(Ve=new Ti(Ve,t,null,s,K),Z.push({event:Ve,listeners:fe}),Ie?Ve.data=Ie:(Ie=As(s),Ie!==null&&(Ve.data=Ie)))),(Ie=In?fA(t,s):dA(t,s))&&(Ve=Mc(j,"onBeforeInput"),0<Ve.length&&(fe=new Ti("onBeforeInput","beforeinput",null,s,K),Z.push({event:fe,listeners:Ve}),fe.data=Ie)),rb(Z,t,j,s,K)}j_(Z,i)})}function bl(t,i,s){return{instance:t,listener:i,currentTarget:s}}function Mc(t,i){for(var s=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Gn(t,s),h!=null&&l.unshift(bl(t,h,d)),h=Gn(t,i),h!=null&&l.push(bl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function lb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function q_(t,i,s,l,h){for(var d=i._reactName,_=[];s!==null&&s!==l;){var S=s,D=S.alternate,j=S.stateNode;if(S=S.tag,D!==null&&D===l)break;S!==5&&S!==26&&S!==27||j===null||(D=j,h?(j=Gn(s,d),j!=null&&_.unshift(bl(s,j,D))):h||(j=Gn(s,d),j!=null&&_.push(bl(s,j,D)))),s=s.return}_.length!==0&&t.push({event:i,listeners:_})}var ub=/\r\n?/g,cb=/\u0000|\uFFFD/g;function H_(t){return(typeof t=="string"?t:""+t).replace(ub,`
`).replace(cb,"")}function F_(t,i){return i=H_(i),H_(t)===i}function Je(t,i,s,l,h,d){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||sn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&sn(t,""+l);break;case"className":pn(t,"class",l);break;case"tabIndex":pn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(t,s,l);break;case"style":Ho(t,l,d);break;case"data":if(i!=="object"){pn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=_s(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(i!=="input"&&Je(t,i,"name",h.name,h,null),Je(t,i,"formEncType",h.formEncType,h,null),Je(t,i,"formMethod",h.formMethod,h,null),Je(t,i,"formTarget",h.formTarget,h,null)):(Je(t,i,"encType",h.encType,h,null),Je(t,i,"method",h.method,h,null),Je(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=_s(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Fn);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=_s(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":De("beforetoggle",t),De("toggle",t),ps(t,"popover",l);break;case"xlinkActuate":St(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":St(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":St(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":St(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":St(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":St(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":St(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":St(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":St(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ps(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Mu.get(s)||s,ps(t,s,l))}}function jd(t,i,s,l,h,d){switch(s){case"style":Ho(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?sn(t,l):(typeof l=="number"||typeof l=="bigint")&&sn(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Lo.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),d=t[Pt]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):ps(t,s,l)}}}function Gt(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var _=s[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Je(t,i,d,_,s,null)}}h&&Je(t,i,"srcSet",s.srcSet,s,null),l&&Je(t,i,"src",s.src,s,null);return;case"input":De("invalid",t);var S=d=_=h=null,D=null,j=null;for(l in s)if(s.hasOwnProperty(l)){var K=s[l];if(K!=null)switch(l){case"name":h=K;break;case"type":_=K;break;case"checked":D=K;break;case"defaultChecked":j=K;break;case"value":d=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,i));break;default:Je(t,i,l,K,s,null)}}Du(t,d,S,D,j,_,h,!1);return;case"select":De("invalid",t),l=_=d=null;for(h in s)if(s.hasOwnProperty(h)&&(S=s[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:Je(t,i,h,S,s,null)}i=d,s=_,t.multiple=!!l,i!=null?vr(t,!!l,i,!1):s!=null&&vr(t,!!l,s,!0);return;case"textarea":De("invalid",t),d=h=l=null;for(_ in s)if(s.hasOwnProperty(_)&&(S=s[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(a(91));break;default:Je(t,i,_,S,s,null)}Er(t,l,h,d);return;case"option":for(D in s)if(s.hasOwnProperty(D)&&(l=s[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(t,i,D,l,s,null)}return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<Al.length;l++)De(Al[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(l=s[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Je(t,i,j,l,s,null)}return;default:if(ys(i)){for(K in s)s.hasOwnProperty(K)&&(l=s[K],l!==void 0&&jd(t,i,K,l,s,void 0));return}}for(S in s)s.hasOwnProperty(S)&&(l=s[S],l!=null&&Je(t,i,S,l,s,null))}function hb(t,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,S=null,D=null,j=null,K=null;for(F in s){var Z=s[F];if(s.hasOwnProperty(F)&&Z!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":D=Z;default:l.hasOwnProperty(F)||Je(t,i,F,null,l,Z)}}for(var q in l){var F=l[q];if(Z=s[q],l.hasOwnProperty(q)&&(F!=null||Z!=null))switch(q){case"type":d=F;break;case"name":h=F;break;case"checked":j=F;break;case"defaultChecked":K=F;break;case"value":_=F;break;case"defaultValue":S=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,i));break;default:F!==Z&&Je(t,i,q,F,l,Z)}}gs(t,_,S,D,j,K,d,h);return;case"select":F=_=S=q=null;for(d in s)if(D=s[d],s.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":F=D;default:l.hasOwnProperty(d)||Je(t,i,d,null,l,D)}for(h in l)if(d=l[h],D=s[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":q=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==D&&Je(t,i,h,d,l,D)}i=S,s=_,l=F,q!=null?vr(t,!!s,q,!1):!!l!=!!s&&(i!=null?vr(t,!!s,i,!0):vr(t,!!s,s?[]:"",!1));return;case"textarea":F=q=null;for(S in s)if(h=s[S],s.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Je(t,i,S,null,l,h)}for(_ in l)if(h=l[_],d=s[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":q=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&Je(t,i,_,h,l,d)}Ou(t,q,F);return;case"option":for(var he in s)if(q=s[he],s.hasOwnProperty(he)&&q!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:Je(t,i,he,null,l,q)}for(D in l)if(q=l[D],F=s[D],l.hasOwnProperty(D)&&q!==F&&(q!=null||F!=null))switch(D){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Je(t,i,D,q,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in s)q=s[_e],s.hasOwnProperty(_e)&&q!=null&&!l.hasOwnProperty(_e)&&Je(t,i,_e,null,l,q);for(j in l)if(q=l[j],F=s[j],l.hasOwnProperty(j)&&q!==F&&(q!=null||F!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,i));break;default:Je(t,i,j,q,l,F)}return;default:if(ys(i)){for(var Ze in s)q=s[Ze],s.hasOwnProperty(Ze)&&q!==void 0&&!l.hasOwnProperty(Ze)&&jd(t,i,Ze,void 0,l,q);for(K in l)q=l[K],F=s[K],!l.hasOwnProperty(K)||q===F||q===void 0&&F===void 0||jd(t,i,K,q,l,F);return}}for(var L in s)q=s[L],s.hasOwnProperty(L)&&q!=null&&!l.hasOwnProperty(L)&&Je(t,i,L,null,l,q);for(Z in l)q=l[Z],F=s[Z],!l.hasOwnProperty(Z)||q===F||q==null&&F==null||Je(t,i,Z,q,l,F)}function G_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],d=h.transferSize,_=h.initiatorType,S=h.duration;if(d&&S&&G_(_)){for(_=0,S=h.responseEnd,l+=1;l<s.length;l++){var D=s[l],j=D.startTime;if(j>S)break;var K=D.transferSize,Z=D.initiatorType;K&&G_(Z)&&(D=D.responseEnd,_+=K*(D<S?1:(S-j)/(D-j)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Bd=null,qd=null;function xc(t){return t.nodeType===9?t:t.ownerDocument}function Q_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function K_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Hd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Fd=null;function db(){var t=window.event;return t&&t.type==="popstate"?t===Fd?!1:(Fd=t,!0):(Fd=null,!1)}var Y_=typeof setTimeout=="function"?setTimeout:void 0,mb=typeof clearTimeout=="function"?clearTimeout:void 0,X_=typeof Promise=="function"?Promise:void 0,pb=typeof queueMicrotask=="function"?queueMicrotask:typeof X_<"u"?function(t){return X_.resolve(null).then(t).catch(gb)}:Y_;function gb(t){setTimeout(function(){throw t})}function Hr(t){return t==="head"}function $_(t,i){var s=i,l=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(h),Zs(i);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")wl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,wl(s);for(var d=s.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[hi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||s.removeChild(d),d=_}}else s==="body"&&wl(t.ownerDocument.body);s=h}while(s);Zs(i)}function J_(t,i){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function Gd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Gd(s),ms(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function yb(t,i,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[hi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Pn(t.nextSibling),t===null)break}return null}function _b(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Pn(t.nextSibling),t===null))return null;return t}function Z_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Pn(t.nextSibling),t===null))return null;return t}function Qd(t){return t.data==="$?"||t.data==="$~"}function Kd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function vb(t,i){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||s.readyState!=="loading")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Pn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Yd=null;function W_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(i===0)return Pn(t.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}t=t.nextSibling}return null}function ev(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return t;i--}else s!=="/$"&&s!=="/&"||i++}t=t.previousSibling}return null}function tv(t,i,s){switch(i=xc(s),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function wl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ms(t)}var Ln=new Map,nv=new Set;function Pc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var tr=se.d;se.d={f:Eb,r:Tb,D:Sb,C:Ab,L:bb,m:wb,X:Cb,S:Rb,M:Ib};function Eb(){var t=tr.f(),i=Rc();return t||i}function Tb(t){var i=wn(t);i!==null&&i.tag===5&&i.type==="form"?vy(i):tr.r(t)}var Xs=typeof document>"u"?null:document;function iv(t,i,s){var l=Xs;if(l&&typeof i=="string"&&i){var h=an(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),nv.has(h)||(nv.add(h),t={rel:t,crossOrigin:s,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Gt(i,"link",t),Tt(i),l.head.appendChild(i)))}}function Sb(t){tr.D(t),iv("dns-prefetch",t,null)}function Ab(t,i){tr.C(t,i),iv("preconnect",t,i)}function bb(t,i,s){tr.L(t,i,s);var l=Xs;if(l&&t&&i){var h='link[rel="preload"][as="'+an(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+an(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+an(s.imageSizes)+'"]')):h+='[href="'+an(t)+'"]';var d=h;switch(i){case"style":d=$s(t);break;case"script":d=Js(t)}Ln.has(d)||(t=T({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),Ln.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Rl(d))||i==="script"&&l.querySelector(Cl(d))||(i=l.createElement("link"),Gt(i,"link",t),Tt(i),l.head.appendChild(i)))}}function wb(t,i){tr.m(t,i);var s=Xs;if(s&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+an(l)+'"][href="'+an(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Js(t)}if(!Ln.has(d)&&(t=T({rel:"modulepreload",href:t},i),Ln.set(d,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Cl(d)))return}l=s.createElement("link"),Gt(l,"link",t),Tt(l),s.head.appendChild(l)}}}function Rb(t,i,s){tr.S(t,i,s);var l=Xs;if(l&&t){var h=di(l).hoistableStyles,d=$s(t);i=i||"default";var _=h.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Rl(d)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},s),(s=Ln.get(d))&&Xd(t,s);var D=_=l.createElement("link");Tt(D),Gt(D,"link",t),D._p=new Promise(function(j,K){D.onload=j,D.onerror=K}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Lc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},h.set(d,_)}}}function Cb(t,i){tr.X(t,i);var s=Xs;if(s&&t){var l=di(s).hoistableScripts,h=Js(t),d=l.get(h);d||(d=s.querySelector(Cl(h)),d||(t=T({src:t,async:!0},i),(i=Ln.get(h))&&$d(t,i),d=s.createElement("script"),Tt(d),Gt(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Ib(t,i){tr.M(t,i);var s=Xs;if(s&&t){var l=di(s).hoistableScripts,h=Js(t),d=l.get(h);d||(d=s.querySelector(Cl(h)),d||(t=T({src:t,async:!0,type:"module"},i),(i=Ln.get(h))&&$d(t,i),d=s.createElement("script"),Tt(d),Gt(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function rv(t,i,s,l){var h=(h=Ce.current)?Pc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=$s(s.href),s=di(h).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=$s(s.href);var d=di(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Rl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Ln.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Ln.set(t,s),d||Nb(h,t,s,_.state))),i&&l===null)throw Error(a(528,""));return _}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Js(s),s=di(h).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function $s(t){return'href="'+an(t)+'"'}function Rl(t){return'link[rel="stylesheet"]['+t+"]"}function av(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function Nb(t,i,s,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Gt(i,"link",s),Tt(i),t.head.appendChild(i))}function Js(t){return'[src="'+an(t)+'"]'}function Cl(t){return"script[async]"+t}function sv(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+an(s.href)+'"]');if(l)return i.instance=l,Tt(l),l;var h=T({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Tt(l),Gt(l,"style",h),Lc(l,s.precedence,t),i.instance=l;case"stylesheet":h=$s(s.href);var d=t.querySelector(Rl(h));if(d)return i.state.loading|=4,i.instance=d,Tt(d),d;l=av(s),(h=Ln.get(h))&&Xd(l,h),d=(t.ownerDocument||t).createElement("link"),Tt(d);var _=d;return _._p=new Promise(function(S,D){_.onload=S,_.onerror=D}),Gt(d,"link",l),i.state.loading|=4,Lc(d,s.precedence,t),i.instance=d;case"script":return d=Js(s.src),(h=t.querySelector(Cl(d)))?(i.instance=h,Tt(h),h):(l=s,(h=Ln.get(d))&&(l=T({},s),$d(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Tt(h),Gt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Lc(l,s.precedence,t));return i.instance}function Lc(t,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function Xd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function $d(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Uc=null;function ov(t,i,s){if(Uc===null){var l=new Map,h=Uc=new Map;h.set(s,l)}else h=Uc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var d=s[h];if(!(d[hi]||d[Et]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function lv(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function Db(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function uv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Ob(t,i,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=$s(l.href),d=i.querySelector(Rl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=kc.bind(t),i.then(t,t)),s.state.loading|=4,s.instance=d,Tt(d);return}d=i.ownerDocument||i,l=av(l),(h=Ln.get(h))&&Xd(l,h),d=d.createElement("link"),Tt(d);var _=d;_._p=new Promise(function(S,D){_.onload=S,_.onerror=D}),Gt(d,"link",l),s.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=kc.bind(t),i.addEventListener("load",s),i.addEventListener("error",s))}}var Jd=0;function Vb(t,i){return t.stylesheets&&t.count===0&&jc(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&jc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Jd===0&&(Jd=62500*fb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&jc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Jd?50:800)+i);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function kc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)jc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var zc=null;function jc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,zc=new Map,i.forEach(Mb,t),zc=null,kc.call(t))}function Mb(t,i){if(!(i.state.loading&4)){var s=zc.get(t);if(s)var l=s.get(null);else{s=new Map,zc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),l=_)}l&&s.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=s.get(_)||l,d===l&&s.set(null,h),s.set(_,h),this.count++,l=kc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Il={$$typeof:ae,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function xb(t,i,s,l,h,d,_,S,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function cv(t,i,s,l,h,d,_,S,D,j,K,Z){return t=new xb(t,i,s,_,D,j,K,Z,S),i=1,d===!0&&(i|=24),d=yn(3,null,null,i),t.current=d,d.stateNode=t,i=Df(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:i},xf(d),t}function hv(t){return t?(t=Is,t):Is}function fv(t,i,s,l,h,d){h=hv(h),l.context===null?l.context=h:l.pendingContext=h,l=Vr(i),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=Mr(t,l,i),s!==null&&(hn(s,t,i),sl(s,t,i))}function dv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function Zd(t,i){dv(t,i),(t=t.alternate)&&dv(t,i)}function mv(t){if(t.tag===13||t.tag===31){var i=Pa(t,67108864);i!==null&&hn(i,t,67108864),Zd(t,67108864)}}function pv(t){if(t.tag===13||t.tag===31){var i=Sn();i=Aa(i);var s=Pa(t,i);s!==null&&hn(s,t,i),Zd(t,i)}}var Bc=!0;function Pb(t,i,s,l){var h=Y.T;Y.T=null;var d=se.p;try{se.p=2,Wd(t,i,s,l)}finally{se.p=d,Y.T=h}}function Lb(t,i,s,l){var h=Y.T;Y.T=null;var d=se.p;try{se.p=8,Wd(t,i,s,l)}finally{se.p=d,Y.T=h}}function Wd(t,i,s,l){if(Bc){var h=em(l);if(h===null)zd(t,i,l,qc,s),yv(t,l);else if(kb(h,t,i,s,l))l.stopPropagation();else if(yv(t,l),i&4&&-1<Ub.indexOf(t)){for(;h!==null;){var d=wn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=oi(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var D=1<<31-ft(_);S.entanglements[1]|=D,_&=~D}Ri(d),(He&6)===0&&(bc=tn()+500,Sl(0))}}break;case 31:case 13:S=Pa(d,2),S!==null&&hn(S,d,2),Rc(),Zd(d,2)}if(d=em(l),d===null&&zd(t,i,l,qc,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else zd(t,i,l,null,s)}}function em(t){return t=Rn(t),tm(t)}var qc=null;function tm(t){if(qc=null,t=fi(t),t!==null){var i=u(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=f(i),t!==null)return t;t=null}else if(s===31){if(t=m(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return qc=t,null}function gv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(va()){case Oo:return 2;case Vo:return 8;case yr:case of:return 32;case Eu:return 268435456;default:return 32}default:return 32}}var nm=!1,Fr=null,Gr=null,Qr=null,Nl=new Map,Dl=new Map,Kr=[],Ub="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yv(t,i){switch(t){case"focusin":case"focusout":Fr=null;break;case"dragenter":case"dragleave":Gr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":Nl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(i.pointerId)}}function Ol(t,i,s,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=wn(i),i!==null&&mv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function kb(t,i,s,l,h){switch(i){case"focusin":return Fr=Ol(Fr,t,i,s,l,h),!0;case"dragenter":return Gr=Ol(Gr,t,i,s,l,h),!0;case"mouseover":return Qr=Ol(Qr,t,i,s,l,h),!0;case"pointerover":var d=h.pointerId;return Nl.set(d,Ol(Nl.get(d)||null,t,i,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Dl.set(d,Ol(Dl.get(d)||null,t,i,s,l,h)),!0}return!1}function _v(t){var i=fi(t.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=f(s),i!==null){t.blockedOn=i,qn(t.priority,function(){pv(s)});return}}else if(i===31){if(i=m(s),i!==null){t.blockedOn=i,qn(t.priority,function(){pv(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=em(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Fo=l,s.target.dispatchEvent(l),Fo=null}else return i=wn(s),i!==null&&mv(i),t.blockedOn=s,!1;i.shift()}return!0}function vv(t,i,s){Hc(t)&&s.delete(i)}function zb(){nm=!1,Fr!==null&&Hc(Fr)&&(Fr=null),Gr!==null&&Hc(Gr)&&(Gr=null),Qr!==null&&Hc(Qr)&&(Qr=null),Nl.forEach(vv),Dl.forEach(vv)}function Fc(t,i){t.blockedOn===i&&(t.blockedOn=null,nm||(nm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,zb)))}var Gc=null;function Ev(t){Gc!==t&&(Gc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Gc===t&&(Gc=null);for(var i=0;i<t.length;i+=3){var s=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(tm(l||s)===null)continue;break}var d=wn(s);d!==null&&(t.splice(i,3),i-=3,ed(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Zs(t){function i(D){return Fc(D,t)}Fr!==null&&Fc(Fr,t),Gr!==null&&Fc(Gr,t),Qr!==null&&Fc(Qr,t),Nl.forEach(i),Dl.forEach(i);for(var s=0;s<Kr.length;s++){var l=Kr[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Kr.length&&(s=Kr[0],s.blockedOn===null);)_v(s),s.blockedOn===null&&Kr.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],_=h[Pt]||null;if(typeof d=="function")_||Ev(s);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Pt]||null)S=_.formAction;else if(tm(h)!==null)continue}else S=_.action;typeof S=="function"?s[l+1]=S:(s.splice(l,3),l-=3),Ev(s)}}}function Tv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function im(t){this._internalRoot=t}Qc.prototype.render=im.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=Sn();fv(s,l,t,i,null,null)},Qc.prototype.unmount=im.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;fv(t.current,2,null,t,null,null),Rc(),i[ci]=null}};function Qc(t){this._internalRoot=t}Qc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ru();t={blockedOn:null,target:t,priority:i};for(var s=0;s<Kr.length&&i!==0&&i<Kr[s].priority;s++);Kr.splice(s,0,t),s===0&&_v(t)}};var Sv=e.version;if(Sv!=="19.2.0")throw Error(a(527,Sv,"19.2.0"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var jb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kc.isDisabled&&Kc.supportsFiber)try{jn=Kc.inject(jb),jt=Kc}catch{}}return Ml.createRoot=function(t,i){if(!o(t))throw Error(a(299));var s=!1,l="",h=Ny,d=Dy,_=Oy;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=cv(t,1,!1,null,null,s,l,null,h,d,_,Tv),t[ci]=i.current,kd(t),new im(i)},Ml.hydrateRoot=function(t,i,s){if(!o(t))throw Error(a(299));var l=!1,h="",d=Ny,_=Dy,S=Oy,D=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.formState!==void 0&&(D=s.formState)),i=cv(t,1,!0,i,s??null,l,h,D,d,_,S,Tv),i.context=hv(null),s=i.current,l=Sn(),l=Aa(l),h=Vr(l),h.callback=null,Mr(s,h,l),s=l,i.current.lanes=s,Ta(i,s),Ri(i),t[ci]=i.current,kd(t),new Qc(i)},Ml.version="19.2.0",Ml}var Vv;function $b(){if(Vv)return sm.exports;Vv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),sm.exports=Xb(),sm.exports}var Jb=$b();/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Mv="popstate";function Zb(r={}){function e(a,o){let{pathname:u,search:f,hash:m}=a.location;return bm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:Kl(o)}return ew(e,n,null,r)}function lt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Wn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Wb(){return Math.random().toString(36).substring(2,10)}function xv(r,e){return{usr:r.state,key:r.key,idx:e}}function bm(r,e,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?yo(e):e,state:n,key:e&&e.key||a||Wb()}}function Kl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function yo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function ew(r,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function T(){m="POP";let Q=E(),te=Q==null?null:Q-y;y=Q,p&&p({action:m,location:$.location,delta:te})}function w(Q,te){m="PUSH";let ne=bm($.location,Q,te);y=E()+1;let ae=xv(ne,y),ie=$.createHref(ne);try{f.pushState(ae,"",ie)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;o.location.assign(ie)}u&&p&&p({action:m,location:$.location,delta:1})}function P(Q,te){m="REPLACE";let ne=bm($.location,Q,te);y=E();let ae=xv(ne,y),ie=$.createHref(ne);f.replaceState(ae,"",ie),u&&p&&p({action:m,location:$.location,delta:0})}function G(Q){return tw(Q)}let $={get action(){return m},get location(){return r(o,f)},listen(Q){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Mv,T),p=Q,()=>{o.removeEventListener(Mv,T),p=null}},createHref(Q){return e(o,Q)},createURL:G,encodeLocation(Q){let te=G(Q);return{pathname:te.pathname,search:te.search,hash:te.hash}},push:w,replace:P,go(Q){return f.go(Q)}};return $}function tw(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:Kl(r);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function mT(r,e,n="/"){return nw(r,e,n,!1)}function nw(r,e,n,a){let o=typeof e=="string"?yo(e):e,u=or(o.pathname||"/",n);if(u==null)return null;let f=pT(r);iw(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=mw(u);m=fw(f[p],y,a)}return m}function pT(r,e=[],n=[],a="",o=!1){let u=(f,m,p=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(a)&&p)return;lt(E.relativePath.startsWith(a),`Absolute route path "${E.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(a.length)}let T=rr([a,E.relativePath]),w=n.concat(E);f.children&&f.children.length>0&&(lt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),pT(f.children,e,w,T,p)),!(f.path==null&&!f.index)&&e.push({path:T,score:cw(T,f.index),routesMeta:w})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of gT(f.path))u(f,m,!0,p)}),e}function gT(r){let e=r.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let f=gT(a.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function iw(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:hw(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var rw=/^:[\w-]+$/,aw=3,sw=2,ow=1,lw=10,uw=-2,Pv=r=>r==="*";function cw(r,e){let n=r.split("/"),a=n.length;return n.some(Pv)&&(a+=uw),e&&(a+=sw),n.filter(o=>!Pv(o)).reduce((o,u)=>o+(rw.test(u)?aw:u===""?ow:lw),a)}function hw(r,e){return r.length===e.length&&r.slice(0,-1).every((a,o)=>a===e[o])?r[r.length-1]-e[e.length-1]:0}function fw(r,e,n=!1){let{routesMeta:a}=r,o={},u="/",f=[];for(let m=0;m<a.length;++m){let p=a[m],y=m===a.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=ph({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),w=p.route;if(!T&&y&&n&&!a[a.length-1].route.index&&(T=ph({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:rr([u,T.pathname]),pathnameBase:_w(rr([u,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(u=rr([u,T.pathnameBase]))}return f}function ph(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=dw(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((y,{paramName:E,isOptional:T},w)=>{if(E==="*"){let G=m[w]||"";f=u.slice(0,u.length-G.length).replace(/(.)\/+$/,"$1")}const P=m[w];return T&&!P?y[E]=void 0:y[E]=(P||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function dw(r,e=!1,n=!0){Wn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function mw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function or(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}function pw(r,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof r=="string"?yo(r):r;return{pathname:n?n.startsWith("/")?n:gw(n,e):e,search:vw(a),hash:Ew(o)}}function gw(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function cm(r,e,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yw(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function tp(r){let e=yw(r);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function np(r,e,n,a=!1){let o;typeof r=="string"?o=yo(r):(o={...r},lt(!o.pathname||!o.pathname.includes("?"),cm("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),cm("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),cm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let T=e.length-1;if(!a&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}m=T>=0?e[T]:"/"}let p=pw(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var rr=r=>r.join("/").replace(/\/\/+/g,"/"),_w=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),vw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Ew=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Tw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var yT=["POST","PUT","PATCH","DELETE"];new Set(yT);var Sw=["GET",...yT];new Set(Sw);var _o=B.createContext(null);_o.displayName="DataRouter";var Ph=B.createContext(null);Ph.displayName="DataRouterState";B.createContext(!1);var _T=B.createContext({isTransitioning:!1});_T.displayName="ViewTransition";var Aw=B.createContext(new Map);Aw.displayName="Fetchers";var bw=B.createContext(null);bw.displayName="Await";var ii=B.createContext(null);ii.displayName="Navigation";var ru=B.createContext(null);ru.displayName="Location";var ri=B.createContext({outlet:null,matches:[],isDataRoute:!1});ri.displayName="Route";var ip=B.createContext(null);ip.displayName="RouteError";function ww(r,{relative:e}={}){lt(vo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=B.useContext(ii),{hash:o,pathname:u,search:f}=au(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:rr([n,u])),a.createHref({pathname:m,search:f,hash:o})}function vo(){return B.useContext(ru)!=null}function dr(){return lt(vo(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(ru).location}var vT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ET(r){B.useContext(ii).static||B.useLayoutEffect(r)}function mr(){let{isDataRoute:r}=B.useContext(ri);return r?kw():Rw()}function Rw(){lt(vo(),"useNavigate() may be used only in the context of a <Router> component.");let r=B.useContext(_o),{basename:e,navigator:n}=B.useContext(ii),{matches:a}=B.useContext(ri),{pathname:o}=dr(),u=JSON.stringify(tp(a)),f=B.useRef(!1);return ET(()=>{f.current=!0}),B.useCallback((p,y={})=>{if(Wn(f.current,vT),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=np(p,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:rr([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,r])}B.createContext(null);function TT(){let{matches:r}=B.useContext(ri),e=r[r.length-1];return e?e.params:{}}function au(r,{relative:e}={}){let{matches:n}=B.useContext(ri),{pathname:a}=dr(),o=JSON.stringify(tp(n));return B.useMemo(()=>np(r,JSON.parse(o),a,e==="path"),[r,o,a,e])}function Cw(r,e){return ST(r,e)}function ST(r,e,n,a,o){lt(vo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=B.useContext(ii),{matches:f}=B.useContext(ri),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let ne=T&&T.path||"";AT(y,!T||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let w=dr(),P;if(e){let ne=typeof e=="string"?yo(e):e;lt(E==="/"||ne.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),P=ne}else P=w;let G=P.pathname||"/",$=G;if(E!=="/"){let ne=E.replace(/^\//,"").split("/");$="/"+G.replace(/^\//,"").split("/").slice(ne.length).join("/")}let Q=mT(r,{pathname:$});Wn(T||Q!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),Wn(Q==null||Q[Q.length-1].route.element!==void 0||Q[Q.length-1].route.Component!==void 0||Q[Q.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let te=Vw(Q&&Q.map(ne=>Object.assign({},ne,{params:Object.assign({},p,ne.params),pathname:rr([E,u.encodeLocation?u.encodeLocation(ne.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?E:rr([E,u.encodeLocation?u.encodeLocation(ne.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathnameBase])})),f,n,a,o);return e&&te?B.createElement(ru.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},te):te}function Iw(){let r=Uw(),e=Tw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:u},"ErrorBoundary")," or"," ",B.createElement("code",{style:u},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:o},n):null,f)}var Nw=B.createElement(Iw,null),Dw=class extends B.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?B.createElement(ri.Provider,{value:this.props.routeContext},B.createElement(ip.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ow({routeContext:r,match:e,children:n}){let a=B.useContext(_o);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(ri.Provider,{value:r},n)}function Vw(r,e=[],n=null,a=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let y=u.findIndex(E=>E.route.id&&f?.[E.route.id]!==void 0);lt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let m=!1,p=-1;if(n)for(let y=0;y<u.length;y++){let E=u[y];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=y),E.route.id){let{loaderData:T,errors:w}=n,P=E.route.loader&&!T.hasOwnProperty(E.route.id)&&(!w||w[E.route.id]===void 0);if(E.route.lazy||P){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((y,E,T)=>{let w,P=!1,G=null,$=null;n&&(w=f&&E.route.id?f[E.route.id]:void 0,G=E.route.errorElement||Nw,m&&(p<0&&T===0?(AT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,$=null):p===T&&(P=!0,$=E.route.hydrateFallbackElement||null)));let Q=e.concat(u.slice(0,T+1)),te=()=>{let ne;return w?ne=G:P?ne=$:E.route.Component?ne=B.createElement(E.route.Component,null):E.route.element?ne=E.route.element:ne=y,B.createElement(Ow,{match:E,routeContext:{outlet:y,matches:Q,isDataRoute:n!=null},children:ne})};return n&&(E.route.ErrorBoundary||E.route.errorElement||T===0)?B.createElement(Dw,{location:n.location,revalidation:n.revalidation,component:G,error:w,children:te(),routeContext:{outlet:null,matches:Q,isDataRoute:!0},unstable_onError:a}):te()},null)}function rp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Mw(r){let e=B.useContext(_o);return lt(e,rp(r)),e}function xw(r){let e=B.useContext(Ph);return lt(e,rp(r)),e}function Pw(r){let e=B.useContext(ri);return lt(e,rp(r)),e}function ap(r){let e=Pw(r),n=e.matches[e.matches.length-1];return lt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Lw(){return ap("useRouteId")}function Uw(){let r=B.useContext(ip),e=xw("useRouteError"),n=ap("useRouteError");return r!==void 0?r:e.errors?.[n]}function kw(){let{router:r}=Mw("useNavigate"),e=ap("useNavigate"),n=B.useRef(!1);return ET(()=>{n.current=!0}),B.useCallback(async(o,u={})=>{Wn(n.current,vT),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Lv={};function AT(r,e,n){!e&&!Lv[r]&&(Lv[r]=!0,Wn(!1,n))}B.memo(zw);function zw({routes:r,future:e,state:n,unstable_onError:a}){return ST(r,void 0,n,a,e)}function bT({to:r,replace:e,state:n,relative:a}){lt(vo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=B.useContext(ii);Wn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=B.useContext(ri),{pathname:f}=dr(),m=mr(),p=np(r,tp(u),f,a==="path"),y=JSON.stringify(p);return B.useEffect(()=>{m(JSON.parse(y),{replace:e,state:n,relative:a})},[m,y,a,e,n]),null}function Ci(r){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jw({basename:r="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){lt(!vo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=B.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=yo(n));let{pathname:p="/",search:y="",hash:E="",state:T=null,key:w="default"}=n,P=B.useMemo(()=>{let G=or(p,f);return G==null?null:{location:{pathname:G,search:y,hash:E,state:T,key:w},navigationType:a}},[f,p,y,E,T,w,a]);return Wn(P!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:B.createElement(ii.Provider,{value:m},B.createElement(ru.Provider,{children:e,value:P}))}function Bw({children:r,location:e}){return Cw(wm(r),e)}function wm(r,e=[]){let n=[];return B.Children.forEach(r,(a,o)=>{if(!B.isValidElement(a))return;let u=[...e,o];if(a.type===B.Fragment){n.push.apply(n,wm(a.props.children,u));return}lt(a.type===Ci,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let f={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=wm(a.props.children,u)),n.push(f)}),n}var ih="get",rh="application/x-www-form-urlencoded";function Lh(r){return r!=null&&typeof r.tagName=="string"}function qw(r){return Lh(r)&&r.tagName.toLowerCase()==="button"}function Hw(r){return Lh(r)&&r.tagName.toLowerCase()==="form"}function Fw(r){return Lh(r)&&r.tagName.toLowerCase()==="input"}function Gw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Qw(r,e){return r.button===0&&(!e||e==="_self")&&!Gw(r)}var Yc=null;function Kw(){if(Yc===null)try{new FormData(document.createElement("form"),0),Yc=!1}catch{Yc=!0}return Yc}var Yw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hm(r){return r!=null&&!Yw.has(r)?(Wn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rh}"`),null):r}function Xw(r,e){let n,a,o,u,f;if(Hw(r)){let m=r.getAttribute("action");a=m?or(m,e):null,n=r.getAttribute("method")||ih,o=hm(r.getAttribute("enctype"))||rh,u=new FormData(r)}else if(qw(r)||Fw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(a=p?or(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||ih,o=hm(r.getAttribute("formenctype"))||hm(m.getAttribute("enctype"))||rh,u=new FormData(m,r),!Kw()){let{name:y,type:E,value:T}=r;if(E==="image"){let w=y?`${y}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else y&&u.append(y,T)}}else{if(Lh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ih,a=null,o=rh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function sp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function $w(r,e,n){let a=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return a.pathname==="/"?a.pathname=`_root.${n}`:e&&or(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function Jw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Zw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Ww(r,e,n){let a=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await Jw(u,n);return f.links?f.links():[]}return[]}));return i1(a.flat(1).filter(Zw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Uv(r,e,n,a,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>n[y].pathname!==p.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{let E=a.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function e1(r,e,{includeHydrateFallback:n}={}){return t1(r.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function t1(r){return[...new Set(r)]}function n1(r){let e={},n=Object.keys(r).sort();for(let a of n)e[a]=r[a];return e}function i1(r,e){let n=new Set;return new Set(e),r.reduce((a,o)=>{let u=JSON.stringify(n1(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}function wT(){let r=B.useContext(_o);return sp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function r1(){let r=B.useContext(Ph);return sp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var op=B.createContext(void 0);op.displayName="FrameworkContext";function RT(){let r=B.useContext(op);return sp(r,"You must render this element inside a <HydratedRouter> element"),r}function a1(r,e){let n=B.useContext(op),[a,o]=B.useState(!1),[u,f]=B.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:T}=e,w=B.useRef(null);B.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let $=te=>{te.forEach(ne=>{f(ne.isIntersecting)})},Q=new IntersectionObserver($,{threshold:.5});return w.current&&Q.observe(w.current),()=>{Q.disconnect()}}},[r]),B.useEffect(()=>{if(a){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[a]);let P=()=>{o(!0)},G=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:xl(m,P),onBlur:xl(p,G),onMouseEnter:xl(y,P),onMouseLeave:xl(E,G),onTouchStart:xl(T,P)}]:[!1,w,{}]}function xl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function s1({page:r,...e}){let{router:n}=wT(),a=B.useMemo(()=>mT(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?B.createElement(l1,{page:r,matches:a,...e}):null}function o1(r){let{manifest:e,routeModules:n}=RT(),[a,o]=B.useState([]);return B.useEffect(()=>{let u=!1;return Ww(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),a}function l1({page:r,matches:e,...n}){let a=dr(),{manifest:o,routeModules:u}=RT(),{basename:f}=wT(),{loaderData:m,matches:p}=r1(),y=B.useMemo(()=>Uv(r,e,p,o,a,"data"),[r,e,p,o,a]),E=B.useMemo(()=>Uv(r,e,p,o,a,"assets"),[r,e,p,o,a]),T=B.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let G=new Set,$=!1;if(e.forEach(te=>{let ne=o.routes[te.route.id];!ne||!ne.hasLoader||(!y.some(ae=>ae.route.id===te.route.id)&&te.route.id in m&&u[te.route.id]?.shouldRevalidate||ne.hasClientLoader?$=!0:G.add(te.route.id))}),G.size===0)return[];let Q=$w(r,f,"data");return $&&G.size>0&&Q.searchParams.set("_routes",e.filter(te=>G.has(te.route.id)).map(te=>te.route.id).join(",")),[Q.pathname+Q.search]},[f,m,a,o,y,e,r,u]),w=B.useMemo(()=>e1(E,o),[E,o]),P=o1(E);return B.createElement(B.Fragment,null,T.map(G=>B.createElement("link",{key:G,rel:"prefetch",as:"fetch",href:G,...n})),w.map(G=>B.createElement("link",{key:G,rel:"modulepreload",href:G,...n})),P.map(({key:G,link:$})=>B.createElement("link",{key:G,nonce:n.nonce,...$})))}function u1(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var CT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{CT&&(window.__reactRouterVersion="7.9.5")}catch{}function c1({basename:r,children:e,window:n}){let a=B.useRef();a.current==null&&(a.current=Zb({window:n,v5Compat:!0}));let o=a.current,[u,f]=B.useState({action:o.action,location:o.location}),m=B.useCallback(p=>{B.startTransition(()=>f(p))},[f]);return B.useLayoutEffect(()=>o.listen(m),[o,m]),B.createElement(jw,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var IT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ni=B.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:T,...w},P){let{basename:G}=B.useContext(ii),$=typeof y=="string"&&IT.test(y),Q,te=!1;if(typeof y=="string"&&$&&(Q=y,CT))try{let b=new URL(window.location.href),M=y.startsWith("//")?new URL(b.protocol+y):new URL(y),O=or(M.pathname,G);M.origin===b.origin&&O!=null?y=O+M.search+M.hash:te=!0}catch{Wn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=ww(y,{relative:o}),[ae,ie,de]=a1(a,w),ye=m1(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T});function I(b){e&&e(b),b.defaultPrevented||ye(b)}let R=B.createElement("a",{...w,...de,href:Q||ne,onClick:te||u?e:I,ref:u1(P,ie),target:p,"data-discover":!$&&n==="render"?"true":void 0});return ae&&!$?B.createElement(B.Fragment,null,R,B.createElement(s1,{page:ne})):R});Ni.displayName="Link";var h1=B.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let T=au(f,{relative:y.relative}),w=dr(),P=B.useContext(Ph),{navigator:G,basename:$}=B.useContext(ii),Q=P!=null&&v1(T)&&m===!0,te=G.encodeLocation?G.encodeLocation(T).pathname:T.pathname,ne=w.pathname,ae=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),ae=ae?ae.toLowerCase():null,te=te.toLowerCase()),ae&&$&&(ae=or(ae,$)||ae);const ie=te!=="/"&&te.endsWith("/")?te.length-1:te.length;let de=ne===te||!o&&ne.startsWith(te)&&ne.charAt(ie)==="/",ye=ae!=null&&(ae===te||!o&&ae.startsWith(te)&&ae.charAt(te.length)==="/"),I={isActive:de,isPending:ye,isTransitioning:Q},R=de?e:void 0,b;typeof a=="function"?b=a(I):b=[a,de?"active":null,ye?"pending":null,Q?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(I):u;return B.createElement(Ni,{...y,"aria-current":R,className:b,ref:E,style:M,to:f,viewTransition:m},typeof p=="function"?p(I):p)});h1.displayName="NavLink";var f1=B.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:f=ih,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:T,...w},P)=>{let G=y1(),$=_1(m,{relative:y}),Q=f.toLowerCase()==="get"?"get":"post",te=typeof m=="string"&&IT.test(m),ne=ae=>{if(p&&p(ae),ae.defaultPrevented)return;ae.preventDefault();let ie=ae.nativeEvent.submitter,de=ie?.getAttribute("formmethod")||f;G(ie||ae.currentTarget,{fetcherKey:e,method:de,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:T})};return B.createElement("form",{ref:P,method:Q,action:$,onSubmit:a?p:ne,...w,"data-discover":!te&&r==="render"?"true":void 0})});f1.displayName="Form";function d1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NT(r){let e=B.useContext(_o);return lt(e,d1(r)),e}function m1(r,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=mr(),p=dr(),y=au(r,{relative:u});return B.useCallback(E=>{if(Qw(E,e)){E.preventDefault();let T=n!==void 0?n:Kl(p)===Kl(y);m(r,{replace:T,state:a,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,y,n,a,e,r,o,u,f])}var p1=0,g1=()=>`__${String(++p1)}__`;function y1(){let{router:r}=NT("useSubmit"),{basename:e}=B.useContext(ii),n=Lw();return B.useCallback(async(a,o={})=>{let{action:u,method:f,encType:m,formData:p,body:y}=Xw(a,e);if(o.navigate===!1){let E=o.fetcherKey||g1();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function _1(r,{relative:e}={}){let{basename:n}=B.useContext(ii),a=B.useContext(ri);lt(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...au(r||".",{relative:e})},f=dr();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:rr([n,u.pathname])),Kl(u)}function v1(r,{relative:e}={}){let n=B.useContext(_T);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=NT("useViewTransitionState"),o=au(r,{relative:e});if(!n.isTransitioning)return!1;let u=or(n.currentLocation.pathname,a)||n.currentLocation.pathname,f=or(n.nextLocation.pathname,a)||n.nextLocation.pathname;return ph(o.pathname,f)!=null||ph(o.pathname,u)!=null}const E1=()=>{};var kv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=function(r){const e=[];let n=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},T1=function(r){const e=[];let n=0,a=0;for(;n<r.length;){const o=r[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},OT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let w=(m&15)<<2|y>>6,P=y&63;p||(P=64,f||(w=64)),a.push(n[E],n[T],n[w],n[P])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(DT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):T1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||T==null)throw new S1;const w=u<<2|m>>4;if(a.push(w),y!==64){const P=m<<4&240|y>>2;if(a.push(P),T!==64){const G=y<<6&192|T;a.push(G)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class S1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const A1=function(r){const e=DT(r);return OT.encodeByteArray(e,!0)},gh=function(r){return A1(r).replace(/\./g,"")},VT=function(r){try{return OT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1=()=>b1().__FIREBASE_DEFAULTS__,R1=()=>{if(typeof process>"u"||typeof kv>"u")return;const r=kv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},C1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&VT(r[1]);return e&&JSON.parse(e)},Uh=()=>{try{return E1()||w1()||R1()||C1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},MT=r=>Uh()?.emulatorHosts?.[r],I1=r=>{const e=MT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},xT=()=>Uh()?.config,PT=r=>Uh()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function LT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[gh(JSON.stringify(n)),gh(JSON.stringify(f)),""].join(".")}const Bl={};function O1(){const r={prod:[],emulator:[]};for(const e of Object.keys(Bl))Bl[e]?r.emulator.push(e):r.prod.push(e);return r}function V1(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let zv=!1;function UT(r,e){if(typeof window>"u"||typeof document>"u"||!Eo(window.location.host)||Bl[r]===e||Bl[r]||zv)return;Bl[r]=e;function n(w){return`__firebase__banner__${w}`}const a="__firebase__banner",u=O1().prod.length>0;function f(){const w=document.getElementById(a);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,P){w.setAttribute("width","24"),w.setAttribute("id",P),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{zv=!0,f()},w}function E(w,P){w.setAttribute("id",P),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=V1(a),P=n("text"),G=document.getElementById(P)||document.createElement("span"),$=n("learnmore"),Q=document.getElementById($)||document.createElement("a"),te=n("preprendIcon"),ne=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ae=w.element;m(ae),E(Q,$);const ie=y();p(ne,te),ae.append(ne,G,Q,ie),document.body.appendChild(ae)}u?(G.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function M1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function x1(){const r=Uh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function P1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function L1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function U1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function k1(){const r=Wt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function z1(){return!x1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function j1(){try{return typeof indexedDB=="object"}catch{return!1}}function B1(){return new Promise((r,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1="FirebaseError";class pr extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=q1,Object.setPrototypeOf(this,pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,su.prototype.create)}}class su{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?H1(u,a):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new pr(o,m,a)}}function H1(r,e){return r.replace(F1,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const F1=/\{\$([^}]+)}/g;function G1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ja(r,e){if(r===e)return!0;const n=Object.keys(r),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=r[o],f=e[o];if(jv(u)&&jv(f)){if(!Ja(u,f))return!1}else if(u!==f)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function jv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(r){const e=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Pl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Ll(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function Q1(r,e){const n=new K1(r,e);return n.subscribe.bind(n)}class K1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");Y1(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=fm),o.error===void 0&&(o.error=fm),o.complete===void 0&&(o.complete=fm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Y1(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function fm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(r){return r&&r._delegate?r._delegate:r}class Za{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new N1;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(J1(e))try{this.getOrInitializeService({instanceIdentifier:Ya})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=Ya){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ya){return this.instances.has(e)}getOptions(e=Ya){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&f.resolve(o)}return o}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:$1(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Ya){return this.component?this.component.multipleInstances?e:Ya:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $1(r){return r===Ya?void 0:r}function J1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new X1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const W1={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},eR=Me.INFO,tR={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},nR=(r,e,...n)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=tR[e];if(o)console[o](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lp{constructor(e){this.name=e,this._logLevel=eR,this._logHandler=nR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?W1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const iR=(r,e)=>e.some(n=>r instanceof n);let Bv,qv;function rR(){return Bv||(Bv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aR(){return qv||(qv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kT=new WeakMap,Rm=new WeakMap,zT=new WeakMap,dm=new WeakMap,up=new WeakMap;function sR(r){const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(ta(r.result)),o()},f=()=>{a(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&kT.set(n,r)}).catch(()=>{}),up.set(e,r),e}function oR(r){if(Rm.has(r))return;const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Rm.set(r,e)}let Cm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Rm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||zT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ta(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function lR(r){Cm=r(Cm)}function uR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=r.call(mm(this),e,...n);return zT.set(a,e.sort?e.sort():[e]),ta(a)}:aR().includes(r)?function(...e){return r.apply(mm(this),e),ta(kT.get(this))}:function(...e){return ta(r.apply(mm(this),e))}}function cR(r){return typeof r=="function"?uR(r):(r instanceof IDBTransaction&&oR(r),iR(r,rR())?new Proxy(r,Cm):r)}function ta(r){if(r instanceof IDBRequest)return sR(r);if(dm.has(r))return dm.get(r);const e=cR(r);return e!==r&&(dm.set(r,e),up.set(e,r)),e}const mm=r=>up.get(r);function hR(r,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=ta(f);return a&&f.addEventListener("upgradeneeded",p=>{a(ta(f.result),p.oldVersion,p.newVersion,ta(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const fR=["get","getKey","getAll","getAllKeys","count"],dR=["put","add","delete","clear"],pm=new Map;function Hv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(pm.get(e))return pm.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=dR.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||fR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return a&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return pm.set(e,u),u}lR(r=>({...r,get:(e,n,a)=>Hv(e,n)||r.get(e,n,a),has:(e,n)=>!!Hv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pR(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function pR(r){return r.getComponent()?.type==="VERSION"}const Im="@firebase/app",Fv="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr=new lp("@firebase/app"),gR="@firebase/app-compat",yR="@firebase/analytics-compat",_R="@firebase/analytics",vR="@firebase/app-check-compat",ER="@firebase/app-check",TR="@firebase/auth",SR="@firebase/auth-compat",AR="@firebase/database",bR="@firebase/data-connect",wR="@firebase/database-compat",RR="@firebase/functions",CR="@firebase/functions-compat",IR="@firebase/installations",NR="@firebase/installations-compat",DR="@firebase/messaging",OR="@firebase/messaging-compat",VR="@firebase/performance",MR="@firebase/performance-compat",xR="@firebase/remote-config",PR="@firebase/remote-config-compat",LR="@firebase/storage",UR="@firebase/storage-compat",kR="@firebase/firestore",zR="@firebase/ai",jR="@firebase/firestore-compat",BR="firebase",qR="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="[DEFAULT]",HR={[Im]:"fire-core",[gR]:"fire-core-compat",[_R]:"fire-analytics",[yR]:"fire-analytics-compat",[ER]:"fire-app-check",[vR]:"fire-app-check-compat",[TR]:"fire-auth",[SR]:"fire-auth-compat",[AR]:"fire-rtdb",[bR]:"fire-data-connect",[wR]:"fire-rtdb-compat",[RR]:"fire-fn",[CR]:"fire-fn-compat",[IR]:"fire-iid",[NR]:"fire-iid-compat",[DR]:"fire-fcm",[OR]:"fire-fcm-compat",[VR]:"fire-perf",[MR]:"fire-perf-compat",[xR]:"fire-rc",[PR]:"fire-rc-compat",[LR]:"fire-gcs",[UR]:"fire-gcs-compat",[kR]:"fire-fst",[jR]:"fire-fst-compat",[zR]:"fire-vertex","fire-js":"fire-js",[BR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh=new Map,FR=new Map,Dm=new Map;function Gv(r,e){try{r.container.addComponent(e)}catch(n){lr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function uo(r){const e=r.name;if(Dm.has(e))return lr.debug(`There were multiple attempts to register component ${e}.`),!1;Dm.set(e,r);for(const n of yh.values())Gv(n,r);for(const n of FR.values())Gv(n,r);return!0}function cp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Un(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},na=new su("app","Firebase",GR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Za("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw na.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=qR;function jT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const a={name:Nm,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw na.create("bad-app-name",{appName:String(o)});if(n||(n=xT()),!n)throw na.create("no-options");const u=yh.get(o);if(u){if(Ja(n,u.options)&&Ja(a,u.config))return u;throw na.create("duplicate-app",{appName:o})}const f=new Z1(o);for(const p of Dm.values())f.addComponent(p);const m=new QR(n,a,f);return yh.set(o,m),m}function BT(r=Nm){const e=yh.get(r);if(!e&&r===Nm&&xT())return jT();if(!e)throw na.create("no-app",{appName:r});return e}function ia(r,e,n){let a=HR[r]??r;n&&(a+=`-${n}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${a}" with version "${e}":`];o&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),lr.warn(f.join(" "));return}uo(new Za(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="firebase-heartbeat-database",YR=1,Yl="firebase-heartbeat-store";let gm=null;function qT(){return gm||(gm=hR(KR,YR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Yl)}catch(n){console.warn(n)}}}}).catch(r=>{throw na.create("idb-open",{originalErrorMessage:r.message})})),gm}async function XR(r){try{const n=(await qT()).transaction(Yl),a=await n.objectStore(Yl).get(HT(r));return await n.done,a}catch(e){if(e instanceof pr)lr.warn(e.message);else{const n=na.create("idb-get",{originalErrorMessage:e?.message});lr.warn(n.message)}}}async function Qv(r,e){try{const a=(await qT()).transaction(Yl,"readwrite");await a.objectStore(Yl).put(e,HT(r)),await a.done}catch(n){if(n instanceof pr)lr.warn(n.message);else{const a=na.create("idb-set",{originalErrorMessage:n?.message});lr.warn(a.message)}}}function HT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=1024,JR=30;class ZR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eC(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Kv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>JR){const o=tC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){lr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Kv(),{heartbeatsToSend:n,unsentEntries:a}=WR(this._heartbeatsCache.heartbeats),o=gh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return lr.warn(e),""}}}function Kv(){return new Date().toISOString().substring(0,10)}function WR(r,e=$R){const n=[];let a=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Yv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Yv(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class eC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return j1()?B1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await XR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Qv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Qv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Yv(r){return gh(JSON.stringify({version:2,heartbeats:r})).length}function tC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(r){uo(new Za("platform-logger",e=>new mR(e),"PRIVATE")),uo(new Za("heartbeat",e=>new ZR(e),"PRIVATE")),ia(Im,Fv,r),ia(Im,Fv,"esm2020"),ia("fire-js","")}nC("");function FT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iC=FT,GT=new su("auth","Firebase",FT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=new lp("@firebase/auth");function rC(r,...e){_h.logLevel<=Me.WARN&&_h.warn(`Auth (${To}): ${r}`,...e)}function ah(r,...e){_h.logLevel<=Me.ERROR&&_h.error(`Auth (${To}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(r,...e){throw hp(r,...e)}function Di(r,...e){return hp(r,...e)}function QT(r,e,n){const a={...iC(),[e]:n};return new su("auth","Firebase",a).create(e,{appName:r.name})}function ar(r){return QT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hp(r,...e){if(typeof r!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return GT.create(r,...e)}function ve(r,e,...n){if(!r)throw hp(e,...n)}function nr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ah(e),new Error(e)}function ur(r,e){r||nr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(){return typeof self<"u"&&self.location?.href||""}function aC(){return Xv()==="http:"||Xv()==="https:"}function Xv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aC()||L1()||"connection"in navigator)?navigator.onLine:!0}function oC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ur(n>e,"Short delay should be less than long delay!"),this.isMobile=M1()||U1()}get(){return sC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(r,e){ur(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cC=new lu(3e4,6e4);function da(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ma(r,e,n,a,o={}){return YT(r,o,async()=>{let u={},f={};a&&(e==="GET"?f=a:u={body:JSON.stringify(a)});const m=ou({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:p,...u};return P1()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Eo(r.emulatorConfig.host)&&(y.credentials="include"),KT.fetch()(await XT(r,r.config.apiHost,n,m),y)})}async function YT(r,e,n){r._canInitEmulator=!1;const a={...lC,...e};try{const o=new fC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Xc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Xc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Xc(r,"user-disabled",f);const E=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw QT(r,E,y);ei(r,E)}}catch(o){if(o instanceof pr)throw o;ei(r,"network-request-failed",{message:String(o)})}}async function uu(r,e,n,a,o={}){const u=await ma(r,e,n,a,o);return"mfaPendingCredential"in u&&ei(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function XT(r,e,n,a){const o=`${e}${n}?${a}`,u=r,f=u.config.emulator?fp(r.config,o):`${r.config.apiScheme}://${o}`;return uC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function hC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(Di(this.auth,"network-request-failed")),cC.get())})}}function Xc(r,e,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=Di(r,e,a);return o.customData._tokenResponse=n,o}function $v(r){return r!==void 0&&r.enterprise!==void 0}class dC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return hC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function mC(r,e){return ma(r,"GET","/v2/recaptchaConfig",da(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pC(r,e){return ma(r,"POST","/v1/accounts:delete",e)}async function vh(r,e){return ma(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gC(r,e=!1){const n=zt(r),a=await n.getIdToken(e),o=dp(a);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:a,authTime:ql(ym(o.auth_time)),issuedAtTime:ql(ym(o.iat)),expirationTime:ql(ym(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function ym(r){return Number(r)*1e3}function dp(r){const[e,n,a]=r.split(".");if(e===void 0||n===void 0||a===void 0)return ah("JWT malformed, contained fewer than 3 sections"),null;try{const o=VT(n);return o?JSON.parse(o):(ah("Failed to decode base64 JWT payload"),null)}catch(o){return ah("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Jv(r){const e=dp(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xl(r,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof pr&&yC(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function yC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ql(this.lastLoginAt),this.creationTime=ql(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eh(r){const e=r.auth,n=await r.getIdToken(),a=await Xl(r,vh(e,{idToken:n}));ve(a?.users.length,e,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?$T(o.providerUserInfo):[],f=EC(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,y=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Vm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function vC(r){const e=zt(r);await Eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function EC(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function $T(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TC(r,e){const n=await YT(r,{},async()=>{const a=ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await XT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:a};return r.emulatorConfig&&Eo(r.emulatorConfig.host)&&(p.credentials="include"),KT.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function SC(r,e){return ma(r,"POST","/v2/accounts:revokeToken",da(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Jv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=Jv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:u}=await TC(e,n);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,f=new ro;return a&&(ve(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),o&&(ve(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ro,this.toJSON())}_performRefresh(){return nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Zn{constructor({uid:e,auth:n,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new _C(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Vm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Xl(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return gC(this,e)}reload(){return vC(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await Eh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(ar(this.auth));const e=await this.getIdToken();return await Xl(this,pC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:P,providerData:G,stsTokenManager:$}=n;ve(T&&$,e,"internal-error");const Q=ro.fromJSON(this.name,$);ve(typeof T=="string",e,"internal-error"),Xr(a,e.name),Xr(o,e.name),ve(typeof w=="boolean",e,"internal-error"),ve(typeof P=="boolean",e,"internal-error"),Xr(u,e.name),Xr(f,e.name),Xr(m,e.name),Xr(p,e.name),Xr(y,e.name),Xr(E,e.name);const te=new Zn({uid:T,auth:e,email:o,emailVerified:w,displayName:a,isAnonymous:P,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:Q,createdAt:y,lastLoginAt:E});return G&&Array.isArray(G)&&(te.providerData=G.map(ne=>({...ne}))),p&&(te._redirectEventId=p),te}static async _fromIdTokenResponse(e,n,a=!1){const o=new ro;o.updateFromServerResponse(n);const u=new Zn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Eh(u),u}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?$T(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new ro;m.updateFromIdToken(a);const p=new Zn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Vm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv=new Map;function ir(r){ur(r instanceof Function,"Expected a class definition");let e=Zv.get(r);return e?(ur(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Zv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}JT.type="NONE";const Wv=JT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(r,e,n){return`firebase:${r}:${e}:${n}`}class ao{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=sh(this.userKey,o.apiKey,u),this.fullPersistenceKey=sh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await vh(this.auth,{idToken:e}).catch(()=>{});return n?Zn._fromGetAccountInfoResponse(this.auth,n,e):null}return Zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new ao(ir(Wv),e,a);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||ir(Wv);const f=sh(a,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let T;if(typeof E=="string"){const w=await vh(e,{idToken:E}).catch(()=>{});if(!w)break;T=await Zn._fromGetAccountInfoResponse(e,w,E)}else T=Zn._fromJSON(e,E);y!==u&&(m=T),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new ao(u,e,a):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new ao(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(t0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(i0(e))return"Blackberry";if(r0(e))return"Webos";if(WT(e))return"Safari";if((e.includes("chrome/")||e0(e))&&!e.includes("edge/"))return"Chrome";if(n0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if(a?.length===2)return a[1]}return"Other"}function ZT(r=Wt()){return/firefox\//i.test(r)}function WT(r=Wt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function e0(r=Wt()){return/crios\//i.test(r)}function t0(r=Wt()){return/iemobile/i.test(r)}function n0(r=Wt()){return/android/i.test(r)}function i0(r=Wt()){return/blackberry/i.test(r)}function r0(r=Wt()){return/webos/i.test(r)}function mp(r=Wt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function AC(r=Wt()){return mp(r)&&!!window.navigator?.standalone}function bC(){return k1()&&document.documentMode===10}function a0(r=Wt()){return mp(r)||n0(r)||r0(r)||i0(r)||/windows phone/i.test(r)||t0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(r,e=[]){let n;switch(r){case"Browser":n=eE(Wt());break;case"Worker":n=`${eE(Wt())}-${r}`;break;default:n=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${To}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RC(r,e={}){return ma(r,"GET","/v2/passwordPolicy",da(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=6;class IC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??CC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tE(this),this.idTokenSubscription=new tE(this),this.beforeStateQueue=new wC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ir(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ao.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await vh(this,{idToken:e}),a=await Zn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Un(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=a?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(a=m.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Eh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Un(this.app))return Promise.reject(ar(this));const n=e?zt(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(ar(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Un(this.app)?Promise.reject(ar(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await RC(this),n=new IC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new su("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await SC(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ir(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await ao.create(this,[ir(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,a,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=s0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&rC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function is(r){return zt(r)}class tE{constructor(e){this.auth=e,this.observer=null,this.addObserver=Q1(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DC(r){kh=r}function o0(r){return kh.loadJS(r)}function OC(){return kh.recaptchaEnterpriseScript}function VC(){return kh.gapiScript}function MC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class xC{constructor(){this.enterprise=new PC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class PC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const LC="recaptcha-enterprise",l0="NO_RECAPTCHA";class UC{constructor(e){this.type=LC,this.auth=is(e)}async verify(e="verify",n=!1){async function a(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{mC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new dC(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;$v(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(l0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new xC().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{a(this.auth).then(m=>{if(!n&&$v(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=OC();p.length!==0&&(p+=m),o0(p).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function nE(r,e,n,a=!1,o=!1){const u=new UC(r);let f;if(o)f=l0;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Mm(r,e,n,a,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await nE(r,e,n,n==="getOobCode");return a(r,u)}else return a(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await nE(r,e,n,n==="getOobCode");return a(r,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(r,e){const n=cp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ja(u,e??{}))return o;ei(o,"already-initialized")}return n.initialize({options:e})}function zC(r,e){const n=e?.persistence||[],a=(Array.isArray(n)?n:[n]).map(ir);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function jC(r,e,n){const a=is(r);ve(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=u0(e),{host:f,port:m}=BC(e),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){ve(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),ve(Ja(y,a.config.emulator)&&Ja(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,Eo(f)?(LT(`${u}//${f}${p}`),UT("Auth",!0)):qC()}function u0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function BC(r){const e=u0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:iE(a.substr(u.length+1))}}else{const[u,f]=a.split(":");return{host:u,port:iE(f)}}}function iE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function qC(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return nr("not implemented")}_getIdTokenResponse(e){return nr("not implemented")}_linkToIdToken(e,n){return nr("not implemented")}_getReauthenticationResolver(e){return nr("not implemented")}}async function HC(r,e){return ma(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FC(r,e){return uu(r,"POST","/v1/accounts:signInWithPassword",da(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GC(r,e){return uu(r,"POST","/v1/accounts:signInWithEmailLink",da(r,e))}async function QC(r,e){return uu(r,"POST","/v1/accounts:signInWithEmailLink",da(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l extends pp{constructor(e,n,a,o=null){super("password",a),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new $l(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new $l(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mm(e,n,"signInWithPassword",FC);case"emailLink":return GC(e,{email:this._email,oobCode:this._password});default:ei(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mm(e,a,"signUpPassword",HC);case"emailLink":return QC(e,{idToken:n,email:this._email,oobCode:this._password});default:ei(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function so(r,e){return uu(r,"POST","/v1/accounts:signInWithIdp",da(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC="http://localhost";class Wa extends pp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Wa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ei("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...u}=n;if(!a||!o)return null;const f=new Wa(a,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return so(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,so(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,so(e,n)}buildRequest(){const e={requestUri:KC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ou(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function XC(r){const e=Pl(Ll(r)).link,n=e?Pl(Ll(e)).deep_link_id:null,a=Pl(Ll(r)).deep_link_id;return(a?Pl(Ll(a)).link:null)||a||n||e||r}class gp{constructor(e){const n=Pl(Ll(e)),a=n.apiKey??null,o=n.oobCode??null,u=YC(n.mode??null);ve(a&&o&&u,"argument-error"),this.apiKey=a,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=XC(e);try{return new gp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(){this.providerId=So.PROVIDER_ID}static credential(e,n){return $l._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=gp.parseLink(n);return ve(a,"argument-error"),$l._fromEmailAndCode(e,a.code,a.tenantId)}}So.PROVIDER_ID="password";So.EMAIL_PASSWORD_SIGN_IN_METHOD="password";So.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends c0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends cu{constructor(){super("facebook.com")}static credential(e){return Wa._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $r.credential(e.oauthAccessToken)}catch{return null}}}$r.FACEBOOK_SIGN_IN_METHOD="facebook.com";$r.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends cu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Wa._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return Jr.credential(n,a)}catch{return null}}}Jr.GOOGLE_SIGN_IN_METHOD="google.com";Jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends cu{constructor(){super("github.com")}static credential(e){return Wa._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.GITHUB_SIGN_IN_METHOD="github.com";Zr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends cu{constructor(){super("twitter.com")}static credential(e,n){return Wa._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return Wr.credential(n,a)}catch{return null}}}Wr.TWITTER_SIGN_IN_METHOD="twitter.com";Wr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $C(r,e){return uu(r,"POST","/v1/accounts:signUp",da(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const u=await Zn._fromIdTokenResponse(e,a,o),f=rE(a);return new es({user:u,providerId:f,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=rE(a);return new es({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function rE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th extends pr{constructor(e,n,a,o){super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Th.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new Th(e,n,a,o)}}function h0(r,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Th._fromErrorAndOperation(r,u,e,a):u})}async function JC(r,e,n=!1){const a=await Xl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return es._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZC(r,e,n=!1){const{auth:a}=r;if(Un(a.app))return Promise.reject(ar(a));const o="reauthenticate";try{const u=await Xl(r,h0(a,o,e,r),n);ve(u.idToken,a,"internal-error");const f=dp(u.idToken);ve(f,a,"internal-error");const{sub:m}=f;return ve(r.uid===m,a,"user-mismatch"),es._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ei(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f0(r,e,n=!1){if(Un(r.app))return Promise.reject(ar(r));const a="signIn",o=await h0(r,a,e),u=await es._fromIdTokenResponse(r,a,o);return n||await r._updateCurrentUser(u.user),u}async function WC(r,e){return f0(is(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d0(r){const e=is(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function eI(r,e,n){if(Un(r.app))return Promise.reject(ar(r));const a=is(r),f=await Mm(a,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$C).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&d0(r),p}),m=await es._fromIdTokenResponse(a,"signIn",f);return await a._updateCurrentUser(m.user),m}function tI(r,e,n){return Un(r.app)?Promise.reject(ar(r)):WC(zt(r),So.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&d0(r),a})}function nI(r,e,n,a){return zt(r).onIdTokenChanged(e,n,a)}function iI(r,e,n){return zt(r).beforeAuthStateChanged(e,n)}function rI(r,e,n,a){return zt(r).onAuthStateChanged(e,n,a)}function aI(r){return zt(r).signOut()}const Sh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sh,"1"),this.storage.removeItem(Sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=1e3,oI=10;class p0 extends m0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=a0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(a);!n&&this.localCache[a]===f||this.notifyListeners(a,f)},u=this.storage.getItem(a);bC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,oI):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},sI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}p0.type="LOCAL";const lI=p0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0 extends m0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}g0.type="SESSION";const y0=g0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new zh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await uI(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(r="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=yp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},a);f={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(){return window}function hI(r){Oi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(){return typeof Oi().WorkerGlobalScope<"u"&&typeof Oi().importScripts=="function"}async function fI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dI(){return navigator?.serviceWorker?.controller||null}function mI(){return _0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="firebaseLocalStorageDb",pI=1,Ah="firebaseLocalStorage",E0="fbase_key";class hu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jh(r,e){return r.transaction([Ah],e?"readwrite":"readonly").objectStore(Ah)}function gI(){const r=indexedDB.deleteDatabase(v0);return new hu(r).toPromise()}function xm(){const r=indexedDB.open(v0,pI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Ah,{keyPath:E0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Ah)?e(a):(a.close(),await gI(),e(await xm()))})})}async function aE(r,e,n){const a=jh(r,!0).put({[E0]:e,value:n});return new hu(a).toPromise()}async function yI(r,e){const n=jh(r,!1).get(e),a=await new hu(n).toPromise();return a===void 0?null:a.value}function sE(r,e){const n=jh(r,!0).delete(e);return new hu(n).toPromise()}const _I=800,vI=3;class T0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>vI)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zh._getInstance(mI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await fI(),!this.activeServiceWorker)return;this.sender=new cI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xm();return await aE(e,Sh,"1"),await sE(e,Sh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>aE(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>yI(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>sE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=jh(o,!1).getAll();return new hu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_I)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}T0.type="LOCAL";const EI=T0;new lu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(r,e){return e?ir(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p extends pp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return so(e,this._buildIdpRequest())}_linkToIdToken(e,n){return so(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return so(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function SI(r){return f0(r.auth,new _p(r),r.bypassAuthState)}function AI(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),ZC(n,new _p(r),r.bypassAuthState)}async function bI(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),JC(n,new _p(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,n,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return SI;case"linkViaPopup":case"linkViaRedirect":return bI;case"reauthViaPopup":case"reauthViaRedirect":return AI;default:ei(this.auth,"internal-error")}}resolve(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=new lu(2e3,1e4);class io extends S0{constructor(e,n,a,o,u){super(e,n,o,u),this.provider=a,this.authWindow=null,this.pollId=null,io.currentPopupAction&&io.currentPopupAction.cancel(),io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){ur(this.filter.length===1,"Popup operations only handle one event");const e=yp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,io.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wI.get())};e()}}io.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="pendingRedirect",oh=new Map;class CI extends S0{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=oh.get(this.auth._key());if(!e){try{const a=await II(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}oh.set(this.auth._key(),e)}return this.bypassAuthState||oh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function II(r,e){const n=OI(e),a=DI(r);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function NI(r,e){oh.set(r._key(),e)}function DI(r){return ir(r._redirectPersistence)}function OI(r){return sh(RI,r.config.apiKey,r.name)}async function VI(r,e,n=!1){if(Un(r.app))return Promise.reject(ar(r));const a=is(r),o=TI(a,e),f=await new CI(a,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=600*1e3;class xI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!A0(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Di(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MI&&this.cachedEventUids.clear(),this.cachedEventUids.has(oE(e))}saveEventToCache(e){this.cachedEventUids.add(oE(e)),this.lastProcessedEventTime=Date.now()}}function oE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function A0({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function PI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return A0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LI(r,e={}){return ma(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kI=/^https?/;async function zI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await LI(r);for(const n of e)try{if(jI(n))return}catch{}ei(r,"unauthorized-domain")}function jI(r){const e=Om(),{protocol:n,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===a}if(!kI.test(n))return!1;if(UI.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=new lu(3e4,6e4);function lE(){const r=Oi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function qI(r){return new Promise((e,n)=>{function a(){lE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lE(),n(Di(r,"network-request-failed"))},timeout:BI.get()})}if(Oi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Oi().gapi?.load)a();else{const o=MC("iframefcb");return Oi()[o]=()=>{gapi.load?a():n(Di(r,"network-request-failed"))},o0(`${VC()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw lh=null,e})}let lh=null;function HI(r){return lh=lh||qI(r),lh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=new lu(5e3,15e3),GI="__/auth/iframe",QI="emulator/auth/iframe",KI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XI(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?fp(e,QI):`https://${r.config.authDomain}/${GI}`,a={apiKey:e.apiKey,appName:r.name,v:To},o=YI.get(r.config.apiHost);o&&(a.eid=o);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${ou(a).slice(1)}`}async function $I(r){const e=await HI(r),n=Oi().gapi;return ve(n,r,"internal-error"),e.open({where:document.body,url:XI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KI,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const f=Di(r,"network-request-failed"),m=Oi().setTimeout(()=>{u(f)},FI.get());function p(){Oi().clearTimeout(m),o(a)}a.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZI=500,WI=600,eN="_blank",tN="http://localhost";class uE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nN(r,e,n,a=ZI,o=WI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const p={...JI,width:a.toString(),height:o.toString(),top:u,left:f},y=Wt().toLowerCase();n&&(m=e0(y)?eN:n),ZT(y)&&(e=e||tN,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[P,G])=>`${w}${P}=${G},`,"");if(AC(y)&&m!=="_self")return iN(e||"",m),new uE(null);const T=window.open(e||"",m,E);ve(T,r,"popup-blocked");try{T.focus()}catch{}return new uE(T)}function iN(r,e){const n=document.createElement("a");n.href=r,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN="__/auth/handler",aN="emulator/auth/handler",sN=encodeURIComponent("fac");async function cE(r,e,n,a,o,u){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:To,eventId:o};if(e instanceof c0){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",G1(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(e instanceof cu){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${sN}=${encodeURIComponent(p)}`:"";return`${oN(r)}?${ou(m).slice(1)}${y}`}function oN({config:r}){return r.emulator?fp(r,aN):`https://${r.authDomain}/${rN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="webStorageSupport";class lN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=y0,this._completeRedirectFn=VI,this._overrideRedirectResult=NI}async _openPopup(e,n,a,o){ur(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await cE(e,n,a,Om(),o);return nN(e,u,yp())}async _openRedirect(e,n,a,o){await this._originValidation(e);const u=await cE(e,n,a,Om(),o);return hI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ur(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await $I(e),a=new xI(e);return n.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_m,{type:_m},o=>{const u=o?.[0]?.[_m];u!==void 0&&n(!!u),ei(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=zI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return a0()||WT()||mp()}}const uN=lN;var hE="@firebase/auth",fE="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fN(r){uo(new Za("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=a.options;ve(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:s0(r)},y=new NC(a,o,u,p);return zC(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),uo(new Za("auth-internal",e=>{const n=is(e.getProvider("auth").getImmediate());return(a=>new cN(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ia(hE,fE,hN(r)),ia(hE,fE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=300,mN=PT("authIdTokenMaxAge")||dN;let dE=null;const pN=r=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>mN)return;const o=n?.token;dE!==o&&(dE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function gN(r=BT()){const e=cp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=kC(r,{popupRedirectResolver:uN,persistence:[EI,lI,y0]}),a=PT("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const f=pN(u.toString());iI(n,f,()=>f(n.currentUser)),nI(n,m=>f(m))}}const o=MT("auth");return o&&jC(n,`http://${o}`),n}function yN(){return document.getElementsByTagName("head")?.[0]??document}DC({loadJS(r){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const u=Di("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",yN().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fN("Browser");var mE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ra,b0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,R){function b(){}b.prototype=R.prototype,I.F=R.prototype,I.prototype=new b,I.prototype.constructor=I,I.D=function(M,O,U){for(var N=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)N[rt-2]=arguments[rt];return R.prototype[O].apply(M,N)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,R,b){b||(b=0);const M=Array(16);if(typeof R=="string")for(var O=0;O<16;++O)M[O]=R.charCodeAt(b++)|R.charCodeAt(b++)<<8|R.charCodeAt(b++)<<16|R.charCodeAt(b++)<<24;else for(O=0;O<16;++O)M[O]=R[b++]|R[b++]<<8|R[b++]<<16|R[b++]<<24;R=I.g[0],b=I.g[1],O=I.g[2];let U=I.g[3],N;N=R+(U^b&(O^U))+M[0]+3614090360&4294967295,R=b+(N<<7&4294967295|N>>>25),N=U+(O^R&(b^O))+M[1]+3905402710&4294967295,U=R+(N<<12&4294967295|N>>>20),N=O+(b^U&(R^b))+M[2]+606105819&4294967295,O=U+(N<<17&4294967295|N>>>15),N=b+(R^O&(U^R))+M[3]+3250441966&4294967295,b=O+(N<<22&4294967295|N>>>10),N=R+(U^b&(O^U))+M[4]+4118548399&4294967295,R=b+(N<<7&4294967295|N>>>25),N=U+(O^R&(b^O))+M[5]+1200080426&4294967295,U=R+(N<<12&4294967295|N>>>20),N=O+(b^U&(R^b))+M[6]+2821735955&4294967295,O=U+(N<<17&4294967295|N>>>15),N=b+(R^O&(U^R))+M[7]+4249261313&4294967295,b=O+(N<<22&4294967295|N>>>10),N=R+(U^b&(O^U))+M[8]+1770035416&4294967295,R=b+(N<<7&4294967295|N>>>25),N=U+(O^R&(b^O))+M[9]+2336552879&4294967295,U=R+(N<<12&4294967295|N>>>20),N=O+(b^U&(R^b))+M[10]+4294925233&4294967295,O=U+(N<<17&4294967295|N>>>15),N=b+(R^O&(U^R))+M[11]+2304563134&4294967295,b=O+(N<<22&4294967295|N>>>10),N=R+(U^b&(O^U))+M[12]+1804603682&4294967295,R=b+(N<<7&4294967295|N>>>25),N=U+(O^R&(b^O))+M[13]+4254626195&4294967295,U=R+(N<<12&4294967295|N>>>20),N=O+(b^U&(R^b))+M[14]+2792965006&4294967295,O=U+(N<<17&4294967295|N>>>15),N=b+(R^O&(U^R))+M[15]+1236535329&4294967295,b=O+(N<<22&4294967295|N>>>10),N=R+(O^U&(b^O))+M[1]+4129170786&4294967295,R=b+(N<<5&4294967295|N>>>27),N=U+(b^O&(R^b))+M[6]+3225465664&4294967295,U=R+(N<<9&4294967295|N>>>23),N=O+(R^b&(U^R))+M[11]+643717713&4294967295,O=U+(N<<14&4294967295|N>>>18),N=b+(U^R&(O^U))+M[0]+3921069994&4294967295,b=O+(N<<20&4294967295|N>>>12),N=R+(O^U&(b^O))+M[5]+3593408605&4294967295,R=b+(N<<5&4294967295|N>>>27),N=U+(b^O&(R^b))+M[10]+38016083&4294967295,U=R+(N<<9&4294967295|N>>>23),N=O+(R^b&(U^R))+M[15]+3634488961&4294967295,O=U+(N<<14&4294967295|N>>>18),N=b+(U^R&(O^U))+M[4]+3889429448&4294967295,b=O+(N<<20&4294967295|N>>>12),N=R+(O^U&(b^O))+M[9]+568446438&4294967295,R=b+(N<<5&4294967295|N>>>27),N=U+(b^O&(R^b))+M[14]+3275163606&4294967295,U=R+(N<<9&4294967295|N>>>23),N=O+(R^b&(U^R))+M[3]+4107603335&4294967295,O=U+(N<<14&4294967295|N>>>18),N=b+(U^R&(O^U))+M[8]+1163531501&4294967295,b=O+(N<<20&4294967295|N>>>12),N=R+(O^U&(b^O))+M[13]+2850285829&4294967295,R=b+(N<<5&4294967295|N>>>27),N=U+(b^O&(R^b))+M[2]+4243563512&4294967295,U=R+(N<<9&4294967295|N>>>23),N=O+(R^b&(U^R))+M[7]+1735328473&4294967295,O=U+(N<<14&4294967295|N>>>18),N=b+(U^R&(O^U))+M[12]+2368359562&4294967295,b=O+(N<<20&4294967295|N>>>12),N=R+(b^O^U)+M[5]+4294588738&4294967295,R=b+(N<<4&4294967295|N>>>28),N=U+(R^b^O)+M[8]+2272392833&4294967295,U=R+(N<<11&4294967295|N>>>21),N=O+(U^R^b)+M[11]+1839030562&4294967295,O=U+(N<<16&4294967295|N>>>16),N=b+(O^U^R)+M[14]+4259657740&4294967295,b=O+(N<<23&4294967295|N>>>9),N=R+(b^O^U)+M[1]+2763975236&4294967295,R=b+(N<<4&4294967295|N>>>28),N=U+(R^b^O)+M[4]+1272893353&4294967295,U=R+(N<<11&4294967295|N>>>21),N=O+(U^R^b)+M[7]+4139469664&4294967295,O=U+(N<<16&4294967295|N>>>16),N=b+(O^U^R)+M[10]+3200236656&4294967295,b=O+(N<<23&4294967295|N>>>9),N=R+(b^O^U)+M[13]+681279174&4294967295,R=b+(N<<4&4294967295|N>>>28),N=U+(R^b^O)+M[0]+3936430074&4294967295,U=R+(N<<11&4294967295|N>>>21),N=O+(U^R^b)+M[3]+3572445317&4294967295,O=U+(N<<16&4294967295|N>>>16),N=b+(O^U^R)+M[6]+76029189&4294967295,b=O+(N<<23&4294967295|N>>>9),N=R+(b^O^U)+M[9]+3654602809&4294967295,R=b+(N<<4&4294967295|N>>>28),N=U+(R^b^O)+M[12]+3873151461&4294967295,U=R+(N<<11&4294967295|N>>>21),N=O+(U^R^b)+M[15]+530742520&4294967295,O=U+(N<<16&4294967295|N>>>16),N=b+(O^U^R)+M[2]+3299628645&4294967295,b=O+(N<<23&4294967295|N>>>9),N=R+(O^(b|~U))+M[0]+4096336452&4294967295,R=b+(N<<6&4294967295|N>>>26),N=U+(b^(R|~O))+M[7]+1126891415&4294967295,U=R+(N<<10&4294967295|N>>>22),N=O+(R^(U|~b))+M[14]+2878612391&4294967295,O=U+(N<<15&4294967295|N>>>17),N=b+(U^(O|~R))+M[5]+4237533241&4294967295,b=O+(N<<21&4294967295|N>>>11),N=R+(O^(b|~U))+M[12]+1700485571&4294967295,R=b+(N<<6&4294967295|N>>>26),N=U+(b^(R|~O))+M[3]+2399980690&4294967295,U=R+(N<<10&4294967295|N>>>22),N=O+(R^(U|~b))+M[10]+4293915773&4294967295,O=U+(N<<15&4294967295|N>>>17),N=b+(U^(O|~R))+M[1]+2240044497&4294967295,b=O+(N<<21&4294967295|N>>>11),N=R+(O^(b|~U))+M[8]+1873313359&4294967295,R=b+(N<<6&4294967295|N>>>26),N=U+(b^(R|~O))+M[15]+4264355552&4294967295,U=R+(N<<10&4294967295|N>>>22),N=O+(R^(U|~b))+M[6]+2734768916&4294967295,O=U+(N<<15&4294967295|N>>>17),N=b+(U^(O|~R))+M[13]+1309151649&4294967295,b=O+(N<<21&4294967295|N>>>11),N=R+(O^(b|~U))+M[4]+4149444226&4294967295,R=b+(N<<6&4294967295|N>>>26),N=U+(b^(R|~O))+M[11]+3174756917&4294967295,U=R+(N<<10&4294967295|N>>>22),N=O+(R^(U|~b))+M[2]+718787259&4294967295,O=U+(N<<15&4294967295|N>>>17),N=b+(U^(O|~R))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+U&4294967295}a.prototype.v=function(I,R){R===void 0&&(R=I.length);const b=R-this.blockSize,M=this.C;let O=this.h,U=0;for(;U<R;){if(O==0)for(;U<=b;)o(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<R;)if(M[O++]=I.charCodeAt(U++),O==this.blockSize){o(this,M),O=0;break}}else for(;U<R;)if(M[O++]=I[U++],O==this.blockSize){o(this,M),O=0;break}}this.h=O,this.o+=R},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;R=this.o*8;for(var b=I.length-8;b<I.length;++b)I[b]=R&255,R/=256;for(this.v(I),I=Array(16),R=0,b=0;b<4;++b)for(let M=0;M<32;M+=8)I[R++]=this.g[b]>>>M&255;return I};function u(I,R){var b=m;return Object.prototype.hasOwnProperty.call(b,I)?b[I]:b[I]=R(I)}function f(I,R){this.h=R;const b=[];let M=!0;for(let O=I.length-1;O>=0;O--){const U=I[O]|0;M&&U==R||(b[O]=U,M=!1)}this.g=b}var m={};function p(I){return-128<=I&&I<128?u(I,function(R){return new f([R|0],R<0?-1:0)}):new f([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return T;if(I<0)return Q(y(-I));const R=[];let b=1;for(let M=0;I>=b;M++)R[M]=I/b|0,b*=4294967296;return new f(R,0)}function E(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return Q(E(I.substring(1),R));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const b=y(Math.pow(R,8));let M=T;for(let U=0;U<I.length;U+=8){var O=Math.min(8,I.length-U);const N=parseInt(I.substring(U,U+O),R);O<8?(O=y(Math.pow(R,O)),M=M.j(O).add(y(N))):(M=M.j(b),M=M.add(y(N)))}return M}var T=p(0),w=p(1),P=p(16777216);r=f.prototype,r.m=function(){if($(this))return-Q(this).m();let I=0,R=1;for(let b=0;b<this.g.length;b++){const M=this.i(b);I+=(M>=0?M:4294967296+M)*R,R*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(G(this))return"0";if($(this))return"-"+Q(this).toString(I);const R=y(Math.pow(I,6));var b=this;let M="";for(;;){const O=ie(b,R).g;b=te(b,O.j(R));let U=((b.g.length>0?b.g[0]:b.h)>>>0).toString(I);if(b=O,G(b))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function G(I){if(I.h!=0)return!1;for(let R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function $(I){return I.h==-1}r.l=function(I){return I=te(this,I),$(I)?-1:G(I)?0:1};function Q(I){const R=I.g.length,b=[];for(let M=0;M<R;M++)b[M]=~I.g[M];return new f(b,~I.h).add(w)}r.abs=function(){return $(this)?Q(this):this},r.add=function(I){const R=Math.max(this.g.length,I.g.length),b=[];let M=0;for(let O=0;O<=R;O++){let U=M+(this.i(O)&65535)+(I.i(O)&65535),N=(U>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);M=N>>>16,U&=65535,N&=65535,b[O]=N<<16|U}return new f(b,b[b.length-1]&-2147483648?-1:0)};function te(I,R){return I.add(Q(R))}r.j=function(I){if(G(this)||G(I))return T;if($(this))return $(I)?Q(this).j(Q(I)):Q(Q(this).j(I));if($(I))return Q(this.j(Q(I)));if(this.l(P)<0&&I.l(P)<0)return y(this.m()*I.m());const R=this.g.length+I.g.length,b=[];for(var M=0;M<2*R;M++)b[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<I.g.length;O++){const U=this.i(M)>>>16,N=this.i(M)&65535,rt=I.i(O)>>>16,Dt=I.i(O)&65535;b[2*M+2*O]+=N*Dt,ne(b,2*M+2*O),b[2*M+2*O+1]+=U*Dt,ne(b,2*M+2*O+1),b[2*M+2*O+1]+=N*rt,ne(b,2*M+2*O+1),b[2*M+2*O+2]+=U*rt,ne(b,2*M+2*O+2)}for(I=0;I<R;I++)b[I]=b[2*I+1]<<16|b[2*I];for(I=R;I<2*R;I++)b[I]=0;return new f(b,0)};function ne(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function ae(I,R){this.g=I,this.h=R}function ie(I,R){if(G(R))throw Error("division by zero");if(G(I))return new ae(T,T);if($(I))return R=ie(Q(I),R),new ae(Q(R.g),Q(R.h));if($(R))return R=ie(I,Q(R)),new ae(Q(R.g),R.h);if(I.g.length>30){if($(I)||$(R))throw Error("slowDivide_ only works with positive integers.");for(var b=w,M=R;M.l(I)<=0;)b=de(b),M=de(M);var O=ye(b,1),U=ye(M,1);for(M=ye(M,2),b=ye(b,2);!G(M);){var N=U.add(M);N.l(I)<=0&&(O=O.add(b),U=N),M=ye(M,1),b=ye(b,1)}return R=te(I,O.j(R)),new ae(O,R)}for(O=T;I.l(R)>=0;){for(b=Math.max(1,Math.floor(I.m()/R.m())),M=Math.ceil(Math.log(b)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=y(b),N=U.j(R);$(N)||N.l(I)>0;)b-=M,U=y(b),N=U.j(R);G(U)&&(U=w),O=O.add(U),I=te(I,N)}return new ae(O,I)}r.B=function(I){return ie(this,I).h},r.and=function(I){const R=Math.max(this.g.length,I.g.length),b=[];for(let M=0;M<R;M++)b[M]=this.i(M)&I.i(M);return new f(b,this.h&I.h)},r.or=function(I){const R=Math.max(this.g.length,I.g.length),b=[];for(let M=0;M<R;M++)b[M]=this.i(M)|I.i(M);return new f(b,this.h|I.h)},r.xor=function(I){const R=Math.max(this.g.length,I.g.length),b=[];for(let M=0;M<R;M++)b[M]=this.i(M)^I.i(M);return new f(b,this.h^I.h)};function de(I){const R=I.g.length+1,b=[];for(let M=0;M<R;M++)b[M]=I.i(M)<<1|I.i(M-1)>>>31;return new f(b,I.h)}function ye(I,R){const b=R>>5;R%=32;const M=I.g.length-b,O=[];for(let U=0;U<M;U++)O[U]=R>0?I.i(U+b)>>>R|I.i(U+b+1)<<32-R:I.i(U+b);return new f(O,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,b0=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,ra=f}).apply(typeof mE<"u"?mE:typeof self<"u"?self:typeof window<"u"?window:{});var $c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var w0,Ul,R0,uh,Pm,C0,I0,N0;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof $c=="object"&&$c];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=n(this);function o(c,g){if(g)e:{var v=a;c=c.split(".");for(var A=0;A<c.length-1;A++){var k=c[A];if(!(k in v))break e;v=v[k]}c=c[c.length-1],A=v[c],g=g(A),g!=A&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var v=[],A;for(A in g)Object.prototype.hasOwnProperty.call(g,A)&&v.push([A,g[A]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function p(c,g,v){return c.call.apply(c.bind,arguments)}function y(c,g,v){return y=p,y.apply(null,arguments)}function E(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function T(c,g){function v(){}v.prototype=g.prototype,c.Z=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,k,H){for(var re=Array(arguments.length-2),we=2;we<arguments.length;we++)re[we-2]=arguments[we];return g.prototype[k].apply(A,re)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function P(c){const g=c.length;if(g>0){const v=Array(g);for(let A=0;A<g;A++)v[A]=c[A];return v}return[]}function G(c,g){for(let A=1;A<arguments.length;A++){const k=arguments[A];var v=typeof k;if(v=v!="object"?v:k?Array.isArray(k)?"array":v:"null",v=="array"||v=="object"&&typeof k.length=="number"){v=c.length||0;const H=k.length||0;c.length=v+H;for(let re=0;re<H;re++)c[v+re]=k[re]}else c.push(k)}}class ${constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function Q(c){f.setTimeout(()=>{throw c},0)}function te(){var c=I;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class ne{constructor(){this.h=this.g=null}add(g,v){const A=ae.get();A.set(g,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ae=new $(()=>new ie,c=>c.reset());class ie{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let de,ye=!1,I=new ne,R=()=>{const c=Promise.resolve(void 0);de=()=>{c.then(b)}};function b(){for(var c;c=te();){try{c.h.call(c.g)}catch(v){Q(v)}var g=ae;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}ye=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,g),f.removeEventListener("test",v,g)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function rt(c,g){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}T(rt,O),rt.prototype.init=function(c,g){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&rt.Z.h.call(this)},rt.prototype.h=function(){rt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Dt="closure_listenable_"+(Math.random()*1e6|0),Y=0;function se(c,g,v,A,k){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!A,this.ha=k,this.key=++Y,this.da=this.fa=!1}function ge(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ze(c,g,v){for(const A in c)g.call(v,c[A],A,c)}function Ge(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function x(c){const g={};for(const v in c)g[v]=c[v];return g}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,g){let v,A;for(let k=1;k<arguments.length;k++){A=arguments[k];for(v in A)c[v]=A[v];for(let H=0;H<W.length;H++)v=W[H],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function ce(c){this.src=c,this.g={},this.h=0}ce.prototype.add=function(c,g,v,A,k){const H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);const re=Ce(c,g,A,k);return re>-1?(g=c[re],v||(g.fa=!1)):(g=new se(g,this.src,H,!!A,k),g.fa=v,c.push(g)),g};function Te(c,g){const v=g.type;if(v in c.g){var A=c.g[v],k=Array.prototype.indexOf.call(A,g,void 0),H;(H=k>=0)&&Array.prototype.splice.call(A,k,1),H&&(ge(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ce(c,g,v,A){for(let k=0;k<c.length;++k){const H=c[k];if(!H.da&&H.listener==g&&H.capture==!!v&&H.ha==A)return k}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Ot={};function at(c,g,v,A,k){if(Array.isArray(g)){for(let H=0;H<g.length;H++)at(c,g[H],v,A,k);return null}return v=Do(v),c&&c[Dt]?c.J(g,v,m(A)?!!A.capture:!1,k):ya(c,g,v,!1,A,k)}function ya(c,g,v,A,k,H){if(!g)throw Error("Invalid event type");const re=m(k)?!!k.capture:!!k;let we=_a(c);if(we||(c[Ue]=we=new ce(c)),v=we.add(g,v,A,re,H),v.proxy)return v;if(A=us(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)U||(k=re),k===void 0&&(k=!1),c.addEventListener(g.toString(),A,k);else if(c.attachEvent)c.attachEvent(ai(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function us(){function c(v){return g.call(c.src,c.listener,v)}const g=Io;return c}function cs(c,g,v,A,k){if(Array.isArray(g))for(var H=0;H<g.length;H++)cs(c,g[H],v,A,k);else A=m(A)?!!A.capture:!!A,v=Do(v),c&&c[Dt]?(c=c.i,H=String(g).toString(),H in c.g&&(g=c.g[H],v=Ce(g,v,A,k),v>-1&&(ge(g[v]),Array.prototype.splice.call(g,v,1),g.length==0&&(delete c.g[H],c.h--)))):c&&(c=_a(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Ce(g,v,A,k)),(v=c>-1?g[c]:null)&&hs(v))}function hs(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Dt])Te(g.i,c);else{var v=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(v,A,c.capture):g.detachEvent?g.detachEvent(ai(v),A):g.addListener&&g.removeListener&&g.removeListener(A),(v=_a(g))?(Te(v,c),v.h==0&&(v.src=null,g[Ue]=null)):ge(c)}}}function ai(c){return c in Ot?Ot[c]:Ot[c]="on"+c}function Io(c,g){if(c.da)c=!0;else{g=new rt(g,this);const v=c.listener,A=c.ha||c.src;c.fa&&hs(c),c=v.call(A,g)}return c}function _a(c){return c=c[Ue],c instanceof ce?c:null}var No="__closure_events_fn_"+(Math.random()*1e9>>>0);function Do(c){return typeof c=="function"?c:(c[No]||(c[No]=function(g){return c.handleEvent(g)}),c[No])}function _t(){M.call(this),this.i=new ce(this),this.M=this,this.G=null}T(_t,M),_t.prototype[Dt]=!0,_t.prototype.removeEventListener=function(c,g,v,A){cs(this,c,g,v,A)};function Vt(c,g){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new O(g,c);else if(g instanceof O)g.target=g.target||c;else{var k=g;g=new O(A,c),oe(g,k)}k=!0;let H,re;if(v)for(re=v.length-1;re>=0;re--)H=g.g=v[re],k=gr(H,A,!0,g)&&k;if(H=g.g=c,k=gr(H,A,!0,g)&&k,k=gr(H,A,!1,g)&&k,v)for(re=0;re<v.length;re++)H=g.g=v[re],k=gr(H,A,!1,g)&&k}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const v=c.g[g];for(let A=0;A<v.length;A++)ge(v[A]);delete c.g[g],c.h--}}this.G=null},_t.prototype.J=function(c,g,v,A){return this.i.add(String(c),g,!1,v,A)},_t.prototype.K=function(c,g,v,A){return this.i.add(String(c),g,!0,v,A)};function gr(c,g,v,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let k=!0;for(let H=0;H<g.length;++H){const re=g[H];if(re&&!re.da&&re.capture==v){const we=re.listener,dt=re.ha||re.src;re.fa&&Te(c.i,re),k=we.call(dt,A)!==!1&&k}}return k&&!A.defaultPrevented}function sf(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(c,g||0)}function vu(c){c.g=sf(()=>{c.g=null,c.i&&(c.i=!1,vu(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class tn extends M{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:vu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function va(c){M.call(this),this.h=c,this.g={}}T(va,M);var Oo=[];function Vo(c){ze(c.g,function(g,v){this.g.hasOwnProperty(v)&&hs(g)},c),c.g={}}va.prototype.N=function(){va.Z.N.call(this),Vo(this)},va.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yr=f.JSON.stringify,of=f.JSON.parse,Eu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Tu(){}function Su(){}var jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function jt(){O.call(this,"d")}T(jt,O);function bn(){O.call(this,"c")}T(bn,O);var ft={},Au=null;function fs(){return Au=Au||new _t}ft.Ia="serverreachability";function bu(c){O.call(this,ft.Ia,c)}T(bu,O);function si(c){const g=fs();Vt(g,new bu(g))}ft.STAT_EVENT="statevent";function Ea(c,g){O.call(this,ft.STAT_EVENT,c),this.stat=g}T(Ea,O);function vt(c){const g=fs();Vt(g,new Ea(g,c))}ft.Ja="timingevent";function oi(c,g){O.call(this,ft.Ja,c),this.size=g}T(oi,O);function li(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function lf(c,g,v,A,k,H){c.info(function(){if(c.g)if(H){var re="",we=H.split("&");for(let qe=0;qe<we.length;qe++){var dt=we[qe].split("=");if(dt.length>1){const st=dt[0];dt=dt[1];const In=st.split("_");re=In.length>=2&&In[1]=="type"?re+(st+"="+dt+"&"):re+(st+"=redacted&")}}}else re=null;else re=H;return"XMLHTTP REQ ("+A+") [attempt "+k+"]: "+g+`
`+v+`
`+re})}function wu(c,g,v,A,k,H,re){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+k+"]: "+g+`
`+v+`
`+H+" "+re})}function ui(c,g,v,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+uf(c,v)+(A?" "+A:"")})}function Ta(c,g){c.info(function(){return"TIMEOUT: "+g})}Bn.prototype.info=function(){};function uf(c,g){if(!c.g)return g;if(!g)return null;try{const H=JSON.parse(g);if(H){for(c=0;c<H.length;c++)if(Array.isArray(H[c])){var v=H[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var k=A[0];if(k!="noop"&&k!="stop"&&k!="close")for(let re=1;re<A.length;re++)A[re]=""}}}}return yr(H)}catch{return g}}var Sa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Mo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},xo;function Aa(){}T(Aa,Tu),Aa.prototype.g=function(){return new XMLHttpRequest},xo=new Aa;function Ui(c){return encodeURIComponent(String(c))}function Ru(c){var g=1;c=c.split(":");const v=[];for(;g>0&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function qn(c,g,v,A){this.j=c,this.i=g,this.l=v,this.S=A||1,this.V=new va(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hn}function Hn(){this.i=null,this.g="",this.h=!1}var Et={},Pt={};function ci(c,g,v){c.M=1,c.A=ba(St(g)),c.u=v,c.R=!0,ds(c,null)}function ds(c,g){c.F=Date.now(),hi(c),c.B=St(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),ys(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Hn,c.g=Bu(c.j,v?g:null,!c.u),c.P>0&&(c.O=new tn(y(c.Y,c,c.g),c.P)),g=c.V,v=c.g,A=c.ba;var k="readystatechange";Array.isArray(k)||(k&&(Oo[0]=k.toString()),k=Oo);for(let H=0;H<k.length;H++){const re=at(v,k[H],A||g.handleEvent,!1,g.h||g);if(!re)break;g.g[re.key]=re}g=c.J?x(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),si(),lf(c.i,c.v,c.B,c.l,c.S,c.u)}qn.prototype.ba=function(c){c=c.target;const g=this.O;g&&Qn(c)==3?g.j():this.Y(c)},qn.prototype.Y=function(c){try{if(c==this.g)e:{const we=Qn(this.g),dt=this.g.ya(),qe=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||we!=4||dt==7||(dt==8||qe<=0?si(3):si(2)),fi(this);var g=this.g.ca();this.X=g;var v=cf(this);if(this.o=g==200,wu(this.i,this.v,this.B,this.l,this.S,we,g),this.o){if(this.U&&!this.L){t:{if(this.g){var A,k=this.g;if((A=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(A)){var H=A;break t}}H=null}if(c=H)ui(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,di(this,c);else{this.o=!1,this.m=3,vt(12),mn(this),wn(this);break e}}if(this.R){c=!0;let st;for(;!this.K&&this.C<v.length;)if(st=Iu(this,v),st==Pt){we==4&&(this.m=4,vt(14),c=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(st==Et){this.m=4,vt(15),ui(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ui(this.i,this.l,st,null),di(this,st);if(Cu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||v.length!=0||this.h.h||(this.m=1,vt(16),c=!1),this.o=this.o&&c,!c)ui(this.i,this.l,v,"[Invalid Chunked Response]"),mn(this),wn(this);else if(v.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Xo(re),re.P=!0,vt(11))}}else ui(this.i,this.l,v,null),di(this,v);we==4&&mn(this),this.o&&!this.K&&(we==4?Uu(this.j,this):(this.o=!1,hi(this)))}else zi(this.g),g==400&&v.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),mn(this),wn(this)}}}catch{}finally{}};function cf(c){if(!Cu(c))return c.g.la();const g=Bt(c.g);if(g==="")return"";let v="";const A=g.length,k=Qn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return mn(c),wn(c),"";c.h.i=new f.TextDecoder}for(let H=0;H<A;H++)c.h.h=!0,v+=c.h.i.decode(g[H],{stream:!(k&&H==A-1)});return g.length=0,c.h.g+=v,c.C=0,c.h.g}function Cu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Iu(c,g){var v=c.C,A=g.indexOf(`
`,v);return A==-1?Pt:(v=Number(g.substring(v,A)),isNaN(v)?Et:(A+=1,A+v>g.length?Pt:(g=g.slice(A,A+v),c.C=A+v,g)))}qn.prototype.cancel=function(){this.K=!0,mn(this)};function hi(c){c.T=Date.now()+c.H,ms(c,c.H)}function ms(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=li(y(c.aa,c),g)}function fi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}qn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ta(this.i,this.B),this.M!=2&&(si(),vt(17)),mn(this),this.m=2,wn(this)):ms(this,this.T-c)};function wn(c){c.j.I==0||c.K||Uu(c.j,c)}function mn(c){fi(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,Vo(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function di(c,g){try{var v=c.j;if(v.I!=0&&(v.g==c||pi(v.h,c))){if(!c.L&&pi(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var k=A;if(k[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ss(v),wr(v);else break e;Oa(v),vt(18)}}else v.xa=k[1],0<v.xa-v.K&&k[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=li(y(v.Va,v),6e3));mi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ti(v,11)}else if((c.L||v.g==c)&&Ss(v),!N(g))for(k=v.Ba.g.parse(g),g=0;g<k.length;g++){let qe=k[g];const st=qe[0];if(!(st<=v.K))if(v.K=st,qe=qe[1],v.I==2)if(qe[0]=="c"){v.M=qe[1],v.ba=qe[2];const In=qe[3];In!=null&&(v.ka=In,v.j.info("VER="+v.ka));const Si=qe[4];Si!=null&&(v.za=Si,v.j.info("SVER="+v.za));const Kn=qe[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(A=1.5*Kn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Yn=c.g;if(Yn){const Va=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Va){var H=A.h;H.g||Va.indexOf("spdy")==-1&&Va.indexOf("quic")==-1&&Va.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Uo(H,H.h),H.h=null))}if(A.G){const As=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;As&&(A.wa=As,Qe(A.J,A.G,As))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var re=c;if(A.na=ju(A,A.L?A.ba:null,A.W),re.L){ko(A.h,re);var we=re,dt=A.O;dt&&(we.H=dt),we.D&&(fi(we),hi(we)),A.g=re}else Pu(A);v.i.length>0&&Ei(v)}else qe[0]!="stop"&&qe[0]!="close"||Ti(v,7);else v.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Ti(v,7):Ko(v):qe[0]!="noop"&&v.l&&v.l.qa(qe),v.A=0)}}si(4)}catch{}}var Tt=class{constructor(c,g){this.g=c,this.map=g}};function Po(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Lo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function mi(c){return c.h?1:c.g?c.g.size:0}function pi(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Uo(c,g){c.g?c.g.add(g):c.h=g}function ko(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Po.prototype.cancel=function(){if(this.i=zo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function zo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.G);return g}return P(c.i)}var Nu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ps(c,g){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let k,H=null;A>=0?(k=c[v].substring(0,A),H=c[v].substring(A+1)):k=c[v],g(k,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function pn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof pn?(this.l=c.l,Lt(this,c.j),this.o=c.o,this.g=c.g,_r(this,c.u),this.h=c.h,jo(this,Mu(c.i)),this.m=c.m):c&&(g=String(c).match(Nu))?(this.l=!1,Lt(this,g[1]||"",!0),this.o=gi(g[2]||""),this.g=gi(g[3]||"",!0),_r(this,g[4]),this.h=gi(g[5]||"",!0),jo(this,g[6]||"",!0),this.m=gi(g[7]||"")):(this.l=!1,this.i=new Er(null,this.l))}pn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(wa(g,gs,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(wa(g,gs,!0),"@"),c.push(Ui(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(wa(v,v.charAt(0)=="/"?Bo:Du,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",wa(v,Ou)),c.join("")},pn.prototype.resolve=function(c){const g=St(this);let v=!!c.j;v?Lt(g,c.j):v=!!c.o,v?g.o=c.o:v=!!c.g,v?g.g=c.g:v=c.u!=null;var A=c.h;if(v)_r(g,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var k=g.h.lastIndexOf("/");k!=-1&&(A=g.h.slice(0,k+1)+A)}if(k=A,k==".."||k==".")A="";else if(k.indexOf("./")!=-1||k.indexOf("/.")!=-1){A=k.lastIndexOf("/",0)==0,k=k.split("/");const H=[];for(let re=0;re<k.length;){const we=k[re++];we=="."?A&&re==k.length&&H.push(""):we==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),A&&re==k.length&&H.push("")):(H.push(we),A=!0)}A=H.join("/")}else A=k}return v?g.h=A:v=c.i.toString()!=="",v?jo(g,Mu(c.i)):v=!!c.m,v&&(g.m=c.m),g};function St(c){return new pn(c)}function Lt(c,g,v){c.j=v?gi(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function _r(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function jo(c,g,v){g instanceof Er?(c.i=g,_s(c.i,c.l)):(v||(g=wa(g,vr)),c.i=new Er(g,c.l))}function Qe(c,g,v){c.i.set(g,v)}function ba(c){return Qe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function gi(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function wa(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,an),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function an(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var gs=/[#\/\?@]/g,Du=/[#\?:]/g,Bo=/[#\?]/g,vr=/[#\?@]/g,Ou=/#/g;function Er(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function sn(c){c.g||(c.g=new Map,c.h=0,c.i&&ps(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}r=Er.prototype,r.add=function(c,g){sn(this),this.i=null,c=Tr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function Vu(c,g){sn(c),g=Tr(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function qo(c,g){return sn(c),g=Tr(c,g),c.g.has(g)}r.forEach=function(c,g){sn(this),this.g.forEach(function(v,A){v.forEach(function(k){c.call(g,k,A,this)},this)},this)};function Ho(c,g){sn(c);let v=[];if(typeof g=="string")qo(c,g)&&(v=v.concat(c.g.get(Tr(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)v=v.concat(c[g]);return v}r.set=function(c,g){return sn(this),this.i=null,c=Tr(this,c),qo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=Ho(this,c),c.length>0?String(c[0]):g):g};function ys(c,g,v){Vu(c,g),v.length>0&&(c.i=null,c.g.set(Tr(c,g),P(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let A=0;A<g.length;A++){var v=g[A];const k=Ui(v);v=Ho(this,v);for(let H=0;H<v.length;H++){let re=k;v[H]!==""&&(re+="="+Ui(v[H])),c.push(re)}}return this.i=c.join("&")};function Mu(c){const g=new Er;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function Tr(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function _s(c,g){g&&!c.j&&(sn(c),c.i=null,c.g.forEach(function(v,A){const k=A.toLowerCase();A!=k&&(Vu(this,A),ys(this,k,v))},c)),c.j=g}function Fn(c,g){const v=new Bn;if(f.Image){const A=new Image;A.onload=E(Rn,v,"TestLoadImage: loaded",!0,g,A),A.onerror=E(Rn,v,"TestLoadImage: error",!1,g,A),A.onabort=E(Rn,v,"TestLoadImage: abort",!1,g,A),A.ontimeout=E(Rn,v,"TestLoadImage: timeout",!1,g,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function Fo(c,g){const v=new Bn,A=new AbortController,k=setTimeout(()=>{A.abort(),Rn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(H=>{clearTimeout(k),H.ok?Rn(v,"TestPingServer: ok",!0,g):Rn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(k),Rn(v,"TestPingServer: error",!1,g)})}function Rn(c,g,v,A,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),A(v)}catch{}}function Sr(){this.g=new Eu}function yi(c){this.i=c.Sb||null,this.h=c.ab||!1}T(yi,Tu),yi.prototype.g=function(){return new Ra(this.i,this.h)};function Ra(c,g){_t.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Ra,_t),r=Ra.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,Gn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ar(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;vs(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function vs(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Ar(this):Gn(this),this.readyState==3&&vs(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Ar(this))},r.Na=function(c){this.g&&(this.response=c,Ar(this))},r.ga=function(){this.g&&Ar(this)};function Ar(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Gn(c)}r.setRequestHeader=function(c,g){this.A.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function Gn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ra.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Cn(c){let g="";return ze(c,function(v,A){g+=A,g+=":",g+=v,g+=`\r
`}),g}function Ca(c,g,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Cn(v),typeof c=="string"?v!=null&&Ui(v):Qe(c,g,v))}function Xe(c){_t.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Xe,_t);var _i=/^https?$/i,Go=["POST","PUT"];r=Xe.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,g,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xo.g(),this.g.onreadystatechange=w(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(H){Ia(this,H);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var k in A)v.set(k,A[k]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const H of A.keys())v.set(H,A.get(H));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),k=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Go,g,void 0)>=0)||A||k||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,re]of v)this.g.setRequestHeader(H,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(H){Ia(this,H)}};function Ia(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,Qo(c),ki(c)}function Qo(c){c.A||(c.A=!0,Vt(c,"complete"),Vt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Vt(this,"complete"),Vt(this,"abort"),ki(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ki(this,!0)),Xe.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Na(this):this.Xa())},r.Xa=function(){Na(this)};function Na(c){if(c.h&&typeof u<"u"){if(c.v&&Qn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Vt(c,"readystatechange"),Qn(c)==4){c.h=!1;try{const H=c.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var A;if(A=H===0){let re=String(c.D).match(Nu)[1]||null;!re&&f.self&&f.self.location&&(re=f.self.location.protocol.slice(0,-1)),A=!_i.test(re?re.toLowerCase():"")}v=A}if(v)Vt(c,"complete"),Vt(c,"success");else{c.o=6;try{var k=Qn(c)>2?c.g.statusText:""}catch{k=""}c.l=k+" ["+c.ca()+"]",Qo(c)}}finally{ki(c)}}}}function ki(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,g||Vt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Qn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Qn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),of(g)}};function Bt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function zi(c){const g={};c=(c.g&&Qn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(N(c[A]))continue;var v=Ru(c[A]);const k=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=g[k]||[];g[k]=H,H.push(v)}Ge(g,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function br(c){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vi("baseRetryDelayMs",5e3,c),this.Za=vi("retryDelaySeedMs",1e4,c),this.Ta=vi("forwardChannelMaxRetries",2,c),this.va=vi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Po(c&&c.concurrentRequestLimit),this.Ba=new Sr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=br.prototype,r.ka=8,r.I=1,r.connect=function(c,g,v,A){vt(0),this.W=c,this.H=g||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=ju(this,null,this.W),Ei(this)};function Ko(c){if(Es(c),c.I==3){var g=c.V++,v=St(c.J);if(Qe(v,"SID",c.M),Qe(v,"RID",g),Qe(v,"TYPE","terminate"),Da(c,v),g=new qn(c,c.j,g),g.M=2,g.A=ba(St(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=g.A,v=!0),v||(g.g=Bu(g.j,null),g.g.ea(g.A)),g.F=Date.now(),hi(g)}zu(c)}function wr(c){c.g&&(Xo(c),c.g.cancel(),c.g=null)}function Es(c){wr(c),c.v&&(f.clearTimeout(c.v),c.v=null),Ss(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Ei(c){if(!Lo(c.h)&&!c.m){c.m=!0;var g=c.Ea;de||R(),ye||(de(),ye=!0),I.add(g,c),c.D=0}}function Ts(c,g){return mi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=li(y(c.Ea,c,g),ku(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const k=new qn(this,this.j,c);let H=this.o;if(this.U&&(H?(H=x(H),oe(H,this.U)):H=this.U),this.u!==null||this.R||(k.J=H,H=null),this.S)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,g>4096){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=xu(this,k,g),v=St(this.J),Qe(v,"RID",c),Qe(v,"CVER",22),this.G&&Qe(v,"X-HTTP-Session-Id",this.G),Da(this,v),H&&(this.R?g="headers="+Ui(Cn(H))+"&"+g:this.u&&Ca(v,this.u,H)),Uo(this.h,k),this.Ra&&Qe(v,"TYPE","init"),this.S?(Qe(v,"$req",g),Qe(v,"SID","null"),k.U=!0,ci(k,v,null)):ci(k,v,g),this.I=2}}else this.I==3&&(c?Yo(this,c):this.i.length==0||Lo(this.h)||Yo(this))};function Yo(c,g){var v;g?v=g.l:v=c.V++;const A=St(c.J);Qe(A,"SID",c.M),Qe(A,"RID",v),Qe(A,"AID",c.K),Da(c,A),c.u&&c.o&&Ca(A,c.u,c.o),v=new qn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),g&&(c.i=g.G.concat(c.i)),g=xu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Uo(c.h,v),ci(v,A,g)}function Da(c,g){c.H&&ze(c.H,function(v,A){Qe(g,A,v)}),c.l&&ze({},function(v,A){Qe(g,A,v)})}function xu(c,g,v){v=Math.min(c.i.length,v);const A=c.l?y(c.l.Ka,c.l,c):null;e:{var k=c.i;let we=-1;for(;;){const dt=["count="+v];we==-1?v>0?(we=k[0].g,dt.push("ofs="+we)):we=0:dt.push("ofs="+we);let qe=!0;for(let st=0;st<v;st++){var H=k[st].g;const In=k[st].map;if(H-=we,H<0)we=Math.max(0,k[st].g-100),qe=!1;else try{H="req"+H+"_"||"";try{var re=In instanceof Map?In:Object.entries(In);for(const[Si,Kn]of re){let Yn=Kn;m(Kn)&&(Yn=yr(Kn)),dt.push(H+Si+"="+encodeURIComponent(Yn))}}catch(Si){throw dt.push(H+"type="+encodeURIComponent("_badmap")),Si}}catch{A&&A(In)}}if(qe){re=dt.join("&");break e}}re=void 0}return c=c.i.splice(0,v),g.G=c,re}function Pu(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;de||R(),ye||(de(),ye=!0),I.add(g,c),c.A=0}}function Oa(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=li(y(c.Da,c),ku(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Lu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=li(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),wr(this),Lu(this))};function Xo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Lu(c){c.g=new qn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=St(c.na);Qe(g,"RID","rpc"),Qe(g,"SID",c.M),Qe(g,"AID",c.K),Qe(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qe(g,"TO",c.ia),Qe(g,"TYPE","xmlhttp"),Da(c,g),c.u&&c.o&&Ca(g,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=ba(St(g)),v.u=null,v.R=!0,ds(v,c)}r.Va=function(){this.C!=null&&(this.C=null,wr(this),Oa(this),vt(19))};function Ss(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Uu(c,g){var v=null;if(c.g==g){Ss(c),Xo(c),c.g=null;var A=2}else if(pi(c.h,g))v=g.G,ko(c.h,g),A=1;else return;if(c.I!=0){if(g.o)if(A==1){v=g.u?g.u.length:0,g=Date.now()-g.F;var k=c.D;A=fs(),Vt(A,new oi(A,v)),Ei(c)}else Pu(c);else if(k=g.m,k==3||k==0&&g.X>0||!(A==1&&Ts(c,g)||A==2&&Oa(c)))switch(v&&v.length>0&&(g=c.h,g.i=g.i.concat(v)),k){case 1:Ti(c,5);break;case 4:Ti(c,10);break;case 3:Ti(c,6);break;default:Ti(c,2)}}}function ku(c,g){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*g}function Ti(c,g){if(c.j.info("Error code "+g),g==2){var v=y(c.bb,c),A=c.Ua;const k=!A;A=new pn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Lt(A,"https"),ba(A),k?Fn(A.toString(),v):Fo(A.toString(),v)}else vt(2);c.I=0,c.l&&c.l.pa(g),zu(c),Es(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function zu(c){if(c.I=0,c.ja=[],c.l){const g=zo(c.h);(g.length!=0||c.i.length!=0)&&(G(c.ja,g),G(c.ja,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.oa()}}function ju(c,g,v){var A=v instanceof pn?St(v):new pn(v);if(A.g!="")g&&(A.g=g+"."+A.g),_r(A,A.u);else{var k=f.location;A=k.protocol,g=g?g+"."+k.hostname:k.hostname,k=+k.port;const H=new pn(null);A&&Lt(H,A),g&&(H.g=g),k&&_r(H,k),v&&(H.h=v),A=H}return v=c.G,g=c.wa,v&&g&&Qe(A,v,g),Qe(A,"VER",c.ka),Da(c,A),A}function Bu(c,g,v){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new Xe(new yi({ab:v})):new Xe(c.ma),g.Fa(c.L),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function qu(){}r=qu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Rr(){}Rr.prototype.g=function(c,g){return new nn(c,g)};function nn(c,g){_t.call(this),this.g=new br(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!N(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!N(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new ji(this)}T(nn,_t),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Ko(this.g)},nn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=yr(c),c=v);g.i.push(new Tt(g.Ya++,c)),g.I==3&&Ei(g)},nn.prototype.N=function(){this.g.l=null,delete this.j,Ko(this.g),delete this.g,nn.Z.N.call(this)};function Hu(c){jt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}T(Hu,jt);function Fu(){bn.call(this),this.status=1}T(Fu,bn);function ji(c){this.g=c}T(ji,qu),ji.prototype.ra=function(){Vt(this.g,"a")},ji.prototype.qa=function(c){Vt(this.g,new Hu(c))},ji.prototype.pa=function(c){Vt(this.g,new Fu)},ji.prototype.oa=function(){Vt(this.g,"b")},Rr.prototype.createWebChannel=Rr.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,N0=function(){return new Rr},I0=function(){return fs()},C0=ft,Pm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Sa.NO_ERROR=0,Sa.TIMEOUT=8,Sa.HTTP_ERROR=6,uh=Sa,Mo.COMPLETE="complete",R0=Mo,Su.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",_t.prototype.listen=_t.prototype.J,Ul=Su,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,w0=Xe}).apply(typeof $c<"u"?$c:typeof self<"u"?self:typeof window<"u"?window:{});const pE="@firebase/firestore",gE="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ao="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts=new lp("@firebase/firestore");function Ws(){return ts.logLevel}function ue(r,...e){if(ts.logLevel<=Me.DEBUG){const n=e.map(vp);ts.debug(`Firestore (${Ao}): ${r}`,...n)}}function cr(r,...e){if(ts.logLevel<=Me.ERROR){const n=e.map(vp);ts.error(`Firestore (${Ao}): ${r}`,...n)}}function co(r,...e){if(ts.logLevel<=Me.WARN){const n=e.map(vp);ts.warn(`Firestore (${Ao}): ${r}`,...n)}}function vp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(r,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,D0(r,a,n)}function D0(r,e,n){let a=`FIRESTORE (${Ao}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw cr(a),new Error(a)}function Fe(r,e,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,r||D0(e,o,a)}function be(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends pr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _N{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Jt.UNAUTHENTICATED)))}shutdown(){}}class vN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class EN{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let a=this.i;const o=p=>this.i!==a?(a=this.i,n(p)):Promise.resolve();let u=new sr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new sr,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new sr)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Fe(typeof a.accessToken=="string",31837,{l:a}),new O0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class TN{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class SN{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new TN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class yE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const a=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>a(u)))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new yE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new yE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=bN(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function xe(r,e){return r<e?-1:r>e?1:0}function Lm(r,e){const n=Math.min(r.length,e.length);for(let a=0;a<n;a++){const o=r.charAt(a),u=e.charAt(a);if(o!==u)return vm(o)===vm(u)?xe(o,u):vm(o)?1:-1}return xe(r.length,e.length)}const wN=55296,RN=57343;function vm(r){const e=r.charCodeAt(0);return e>=wN&&e<=RN}function ho(r,e,n){return r.length===e.length&&r.every(((a,o)=>n(a,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="__name__";class Ii{constructor(e,n,a){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&Ee(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return Ii.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ii?e.forEach((a=>{n.push(a)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=Ii.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return xe(e.length,n.length)}static compareSegments(e,n){const a=Ii.isNumericId(e),o=Ii.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?Ii.extractNumericId(e).compare(Ii.extractNumericId(n)):Lm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ra.fromString(e.substring(4,e.length-2))}}class et extends Ii{construct(e,n,a){return new et(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new le(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((o=>o.length>0)))}return new et(n)}static emptyPath(){return new et([])}}const CN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Ii{construct(e,n,a){return new Kt(e,n,a)}static isValidIdentifier(e){return CN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_E}static keyField(){return new Kt([_E])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new le(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new le(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new le(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(a+=m,o++):(u(),o++)}if(u(),f)throw new le(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(et.fromString(e))}static fromName(e){return new pe(et.fromString(e).popFirst(5))}static empty(){return new pe(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(r,e,n){if(!n)throw new le(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function IN(r,e,n,a){if(e===!0&&a===!0)throw new le(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function vE(r){if(!pe.isDocumentKey(r))throw new le(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function EE(r){if(pe.isDocumentKey(r))throw new le(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function M0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Bh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function ti(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bh(r);throw new le(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(r,e){const n={typeString:r};return e&&(n.value=e),n}function fu(r,e){if(!M0(r))throw new le(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const o=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){n=`JSON missing required field: '${a}'`;break}const f=r[a];if(o&&typeof f!==o){n=`JSON field '${a}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${a}' field to equal '${u.value}'`;break}}if(n)throw new le(J.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE=-62135596800,SE=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*SE);return new it(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<TE)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/SE}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fu(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-TE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Nt("string",it._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new it(0,0))}static max(){return new Se(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl=-1;function NN(r,e){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(a===1e9?new it(n+1,0):new it(n,a));return new sa(o,pe.empty(),e)}function DN(r){return new sa(r.readTime,r.key,Jl)}class sa{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new sa(Se.min(),pe.empty(),Jl)}static max(){return new sa(Se.max(),pe.empty(),Jl)}}function ON(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(r.documentKey,e.documentKey),n!==0?n:xe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==VN)throw r;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,a)=>{n(e)}))}static reject(e){return new ee(((n,a)=>{a(e)}))}static waitFor(e){return new ee(((n,a)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>a(p)))})),f=!0,u===o&&n()}))}static or(e){let n=ee.resolve(!1);for(const a of e)n=n.next((o=>o?ee.resolve(o):a()));return n}static forEach(e,n){const a=[];return e.forEach(((o,u)=>{a.push(n.call(this,o,u))})),this.waitFor(a)}static mapArray(e,n){return new ee(((a,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next((E=>{f[y]=E,++m,m===u&&a(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new ee(((a,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):a()};u()}))}}function xN(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}qh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp=-1;function Hh(r){return r==null}function bh(r){return r===0&&1/r==-1/0}function PN(r){return typeof r=="number"&&Number.isInteger(r)&&!bh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="";function LN(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=AE(e)),e=UN(r.get(n),e);return AE(e)}function UN(r,e){let n=e;const a=r.length;for(let o=0;o<a;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case x0:n+="";break;default:n+=u}}return n}function AE(r){return r+x0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function pa(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function P0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,a)=>(e(n,a),!1)))}toString(){const e=[];return this.inorderTraversal(((n,a)=>(e.push(`${n}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jc(this.root,e,this.comparator,!0)}}class Jc{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??Qt.RED,this.left=o??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new Qt(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,a,o,u){return this}insert(e,n,a){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,a)=>(e(n),!1)))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wE(this.data.getIterator())}getIteratorFrom(e){return new wE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((a=>{n=n.add(a)})),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class wE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new An([])}unionWith(e){let n=new xt(Kt.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new An(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ho(this.fields,e.fields,((n,a)=>n.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new L0("Invalid base64 string: "+u):u}})(e);return new Yt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const kN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oa(r){if(Fe(!!r,39018),typeof r=="string"){let e=0;const n=kN.exec(r);if(Fe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:gt(r.seconds),nanos:gt(r.nanos)}}function gt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function la(r){return typeof r=="string"?Yt.fromBase64String(r):Yt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="server_timestamp",k0="__type__",z0="__previous_value__",j0="__local_write_time__";function Sp(r){return(r?.mapValue?.fields||{})[k0]?.stringValue===U0}function Fh(r){const e=r.mapValue.fields[z0];return Sp(e)?Fh(e):e}function Zl(r){const e=oa(r.mapValue.fields[j0].timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,n,a,o,u,f,m,p,y,E){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const wh="(default)";class Wl{constructor(e,n){this.projectId=e,this.database=n||wh}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database===wh}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="__type__",jN="__max__",Zc={mapValue:{}},q0="__vector__",Rh="value";function ua(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Sp(r)?4:qN(r)?9007199254740991:BN(r)?10:11:Ee(28295,{value:r})}function Li(r,e){if(r===e)return!0;const n=ua(r);if(n!==ua(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Zl(r).isEqual(Zl(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=oa(o.timestampValue),m=oa(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return la(o.bytesValue).isEqual(la(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return gt(o.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return gt(o.integerValue)===gt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=gt(o.doubleValue),m=gt(u.doubleValue);return f===m?bh(f)===bh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return ho(r.arrayValue.values||[],e.arrayValue.values||[],Li);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(bE(f)!==bE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Li(f[p],m[p])))return!1;return!0})(r,e);default:return Ee(52216,{left:r})}}function eu(r,e){return(r.values||[]).find((n=>Li(n,e)))!==void 0}function fo(r,e){if(r===e)return 0;const n=ua(r),a=ua(e);if(n!==a)return xe(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=gt(u.integerValue||u.doubleValue),p=gt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return RE(r.timestampValue,e.timestampValue);case 4:return RE(Zl(r),Zl(e));case 5:return Lm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=la(u),p=la(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=xe(m[y],p[y]);if(E!==0)return E}return xe(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=xe(gt(u.latitude),gt(f.latitude));return m!==0?m:xe(gt(u.longitude),gt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return CE(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},y=m[Rh]?.arrayValue,E=p[Rh]?.arrayValue,T=xe(y?.values?.length||0,E?.values?.length||0);return T!==0?T:CE(y,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Zc.mapValue&&f===Zc.mapValue)return 0;if(u===Zc.mapValue)return 1;if(f===Zc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const w=Lm(p[T],E[T]);if(w!==0)return w;const P=fo(m[p[T]],y[E[T]]);if(P!==0)return P}return xe(p.length,E.length)})(r.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function RE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return xe(r,e);const n=oa(r),a=oa(e),o=xe(n.seconds,a.seconds);return o!==0?o:xe(n.nanos,a.nanos)}function CE(r,e){const n=r.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=fo(n[o],a[o]);if(u)return u}return xe(n.length,a.length)}function mo(r){return Um(r)}function Um(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const a=oa(n);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return la(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return pe.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=Um(u);return a+"]"})(r.arrayValue):"mapValue"in r?(function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of a)u?u=!1:o+=",",o+=`${f}:${Um(n.fields[f])}`;return o+"}"})(r.mapValue):Ee(61005,{value:r})}function ch(r){switch(ua(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Fh(r);return e?16+ch(e):16;case 5:return 2*r.stringValue.length;case 6:return la(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,u)=>o+ch(u)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return pa(a.fields,((u,f)=>{o+=u.length+ch(f)})),o})(r.mapValue);default:throw Ee(13486,{value:r})}}function IE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function km(r){return!!r&&"integerValue"in r}function Ap(r){return!!r&&"arrayValue"in r}function NE(r){return!!r&&"nullValue"in r}function DE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function hh(r){return!!r&&"mapValue"in r}function BN(r){return(r?.mapValue?.fields||{})[B0]?.stringValue===q0}function Hl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return pa(r.mapValue.fields,((n,a)=>e.mapValue.fields[n]=Hl(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Hl(r.arrayValue.values[n]);return e}return{...r}}function qN(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===jN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!hh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(n)}setAll(e){let n=Kt.emptyPath(),a={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,a,o),a={},o=[],n=m.popLast()}f?a[m.lastSegment()]=Hl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());hh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Li(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];hh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){pa(n,((o,u)=>e[o]=u));for(const o of a)delete e[o]}clone(){return new dn(Hl(this.value))}}function H0(r){const e=[];return pa(r.fields,((n,a)=>{const o=new Kt([n]);if(hh(a)){const u=H0(a.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new An(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,a,o,u,f,m){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,Se.min(),Se.min(),Se.min(),dn.empty(),0)}static newFoundDocument(e,n,a,o){return new Zt(e,1,n,Se.min(),a,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,Se.min(),Se.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,Se.min(),Se.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n){this.position=e,this.inclusive=n}}function OE(r,e,n){let a=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?a=pe.comparator(pe.fromName(f.referenceValue),n.key):a=fo(f,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function VE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Li(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,n="asc"){this.field=e,this.dir=n}}function HN(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{}class It extends F0{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new GN(e,n,a):n==="array-contains"?new YN(e,a):n==="in"?new XN(e,a):n==="not-in"?new $N(e,a):n==="array-contains-any"?new JN(e,a):new It(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new QN(e,a):new KN(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(fo(n,this.value)):n!==null&&ua(this.value)===ua(n)&&this.matchesComparison(fo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends F0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ni(e,n)}matches(e){return G0(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function G0(r){return r.op==="and"}function Q0(r){return FN(r)&&G0(r)}function FN(r){for(const e of r.filters)if(e instanceof ni)return!1;return!0}function zm(r){if(r instanceof It)return r.field.canonicalString()+r.op.toString()+mo(r.value);if(Q0(r))return r.filters.map((e=>zm(e))).join(",");{const e=r.filters.map((n=>zm(n))).join(",");return`${r.op}(${e})`}}function K0(r,e){return r instanceof It?(function(a,o){return o instanceof It&&a.op===o.op&&a.field.isEqual(o.field)&&Li(a.value,o.value)})(r,e):r instanceof ni?(function(a,o){return o instanceof ni&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((u,f,m)=>u&&K0(f,o.filters[m])),!0):!1})(r,e):void Ee(19439)}function Y0(r){return r instanceof It?(function(n){return`${n.field.canonicalString()} ${n.op} ${mo(n.value)}`})(r):r instanceof ni?(function(n){return n.op.toString()+" {"+n.getFilters().map(Y0).join(" ,")+"}"})(r):"Filter"}class GN extends It{constructor(e,n,a){super(e,n,a),this.key=pe.fromName(a.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class QN extends It{constructor(e,n){super(e,"in",n),this.keys=X0("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class KN extends It{constructor(e,n){super(e,"not-in",n),this.keys=X0("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function X0(r,e){return(e.arrayValue?.values||[]).map((n=>pe.fromName(n.referenceValue)))}class YN extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ap(n)&&eu(n.arrayValue,this.value)}}class XN extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&eu(this.value.arrayValue,n)}}class $N extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!eu(this.value.arrayValue,n)}}class JN extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ap(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>eu(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e,n=null,a=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function ME(r,e=null,n=[],a=[],o=null,u=null,f=null){return new ZN(r,e,n,a,o,u,f)}function bp(r){const e=be(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((a=>zm(a))).join(","),n+="|ob:",n+=e.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),Hh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((a=>mo(a))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((a=>mo(a))).join(",")),e.Te=n}return e.Te}function wp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!HN(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!K0(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!VE(r.startAt,e.startAt)&&VE(r.endAt,e.endAt)}function jm(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,n=null,a=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function WN(r,e,n,a,o,u,f,m){return new Ro(r,e,n,a,o,u,f,m)}function Rp(r){return new Ro(r)}function xE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function $0(r){return r.collectionGroup!==null}function Fl(r){const e=be(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new xt(Kt.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new tu(u,a))})),n.has(Kt.keyField().canonicalString())||e.Ie.push(new tu(Kt.keyField(),a))}return e.Ie}function Vi(r){const e=be(r);return e.Ee||(e.Ee=e2(e,Fl(r))),e.Ee}function e2(r,e){if(r.limitType==="F")return ME(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new tu(o.field,u)}));const n=r.endAt?new Ch(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Ch(r.startAt.position,r.startAt.inclusive):null;return ME(r.path,r.collectionGroup,e,r.filters,r.limit,n,a)}}function Bm(r,e){const n=r.filters.concat([e]);return new Ro(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function qm(r,e,n){return new Ro(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Gh(r,e){return wp(Vi(r),Vi(e))&&r.limitType===e.limitType}function J0(r){return`${bp(Vi(r))}|lt:${r.limitType}`}function eo(r){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((o=>Y0(o))).join(", ")}]`),Hh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((o=>mo(o))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((o=>mo(o))).join(",")),`Target(${a})`})(Vi(r))}; limitType=${r.limitType})`}function Qh(r,e){return e.isFoundDocument()&&(function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):pe.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(r,e)&&(function(a,o){for(const u of Fl(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(a,o){return!(a.startAt&&!(function(f,m,p){const y=OE(f,m,p);return f.inclusive?y<=0:y<0})(a.startAt,Fl(a),o)||a.endAt&&!(function(f,m,p){const y=OE(f,m,p);return f.inclusive?y>=0:y>0})(a.endAt,Fl(a),o))})(r,e)}function t2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Z0(r){return(e,n)=>{let a=!1;for(const o of Fl(r)){const u=n2(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function n2(r,e,n){const a=r.field.isKeyField()?pe.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?fo(p,y):Ee(42886)})(r.field,e,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Ee(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){pa(this.inner,((n,a)=>{for(const[o,u]of a)e(o,u)}))}isEmpty(){return P0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=new ut(pe.comparator);function hr(){return i2}const W0=new ut(pe.comparator);function kl(...r){let e=W0;for(const n of r)e=e.insert(n.key,n);return e}function eS(r){let e=W0;return r.forEach(((n,a)=>e=e.insert(n,a.overlayedDocument))),e}function Xa(){return Gl()}function tS(){return Gl()}function Gl(){return new rs((r=>r.toString()),((r,e)=>r.isEqual(e)))}const r2=new ut(pe.comparator),a2=new xt(pe.comparator);function Pe(...r){let e=a2;for(const n of r)e=e.add(n);return e}const s2=new xt(xe);function o2(){return s2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bh(e)?"-0":e}}function nS(r){return{integerValue:""+r}}function l2(r,e){return PN(e)?nS(e):Cp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(){this._=void 0}}function u2(r,e,n){return r instanceof Ih?(function(o,u){const f={fields:{[k0]:{stringValue:U0},[j0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Sp(u)&&(u=Fh(u)),u&&(f.fields[z0]=u),{mapValue:f}})(n,e):r instanceof nu?rS(r,e):r instanceof iu?aS(r,e):(function(o,u){const f=iS(o,u),m=PE(f)+PE(o.Ae);return km(f)&&km(o.Ae)?nS(m):Cp(o.serializer,m)})(r,e)}function c2(r,e,n){return r instanceof nu?rS(r,e):r instanceof iu?aS(r,e):n}function iS(r,e){return r instanceof Nh?(function(a){return km(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(e)?e:{integerValue:0}:null}class Ih extends Kh{}class nu extends Kh{constructor(e){super(),this.elements=e}}function rS(r,e){const n=sS(e);for(const a of r.elements)n.some((o=>Li(o,a)))||n.push(a);return{arrayValue:{values:n}}}class iu extends Kh{constructor(e){super(),this.elements=e}}function aS(r,e){let n=sS(e);for(const a of r.elements)n=n.filter((o=>!Li(o,a)));return{arrayValue:{values:n}}}class Nh extends Kh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function PE(r){return gt(r.integerValue||r.doubleValue)}function sS(r){return Ap(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function h2(r,e){return r.field.isEqual(e.field)&&(function(a,o){return a instanceof nu&&o instanceof nu||a instanceof iu&&o instanceof iu?ho(a.elements,o.elements,Li):a instanceof Nh&&o instanceof Nh?Li(a.Ae,o.Ae):a instanceof Ih&&o instanceof Ih})(r.transform,e.transform)}class f2{constructor(e,n){this.version=e,this.transformResults=n}}class zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zn}static exists(e){return new zn(void 0,e)}static updateTime(e){return new zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Yh{}function oS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Ip(r.key,zn.none()):new du(r.key,r.data,zn.none());{const n=r.data,a=dn.empty();let o=new xt(Kt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?a.delete(u):a.set(u,f),o=o.add(u)}return new ga(r.key,a,new An(o.toArray()),zn.none())}}function d2(r,e,n){r instanceof du?(function(o,u,f){const m=o.value.clone(),p=UE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof ga?(function(o,u,f){if(!fh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=UE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(lS(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Ql(r,e,n,a){return r instanceof du?(function(u,f,m,p){if(!fh(u.precondition,f))return m;const y=u.value.clone(),E=kE(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,e,n,a):r instanceof ga?(function(u,f,m,p){if(!fh(u.precondition,f))return m;const y=kE(u.fieldTransforms,p,f),E=f.data;return E.setAll(lS(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,a):(function(u,f,m){return fh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function m2(r,e){let n=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),u=iS(a.transform,o||null);u!=null&&(n===null&&(n=dn.empty()),n.set(a.field,u))}return n||null}function LE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&ho(a,o,((u,f)=>h2(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class du extends Yh{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ga extends Yh{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function lS(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=r.data.field(n);e.set(n,a)}})),e}function UE(r,e,n){const a=new Map;Fe(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);a.set(u.field,c2(f,m,n[o]))}return a}function kE(r,e,n){const a=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);a.set(o.field,u2(u,f,e))}return a}class Ip extends Yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class p2 extends Yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&d2(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=Ql(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=Ql(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=tS();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=oS(f,m);p!==null&&a.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Se.min())})),a}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&ho(this.mutations,e.mutations,((n,a)=>LE(n,a)))&&ho(this.baseMutations,e.baseMutations,((n,a)=>LE(n,a)))}}class Np{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){Fe(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return r2})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,a[f].version);return new Np(e,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,ke;function v2(r){switch(r){case J.OK:return Ee(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function uS(r){if(r===void 0)return cr("GRPC error has no .code"),J.UNKNOWN;switch(r){case Ct.OK:return J.OK;case Ct.CANCELLED:return J.CANCELLED;case Ct.UNKNOWN:return J.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return J.INTERNAL;case Ct.UNAVAILABLE:return J.UNAVAILABLE;case Ct.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ct.NOT_FOUND:return J.NOT_FOUND;case Ct.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ct.ABORTED:return J.ABORTED;case Ct.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ct.DATA_LOSS:return J.DATA_LOSS;default:return Ee(39323,{code:r})}}(ke=Ct||(Ct={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=new ra([4294967295,4294967295],0);function zE(r){const e=E2().encode(r),n=new b0;return n.update(e),new Uint8Array(n.digest())}function jE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ra([n,a],0),new ra([o,u],0)]}class Dp{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new zl(`Invalid padding: ${n}`);if(a<0)throw new zl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new zl(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new zl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ra.fromNumber(this.ge)}ye(e,n,a){let o=e.add(n.multiply(ra.fromNumber(a)));return o.compare(T2)===1&&(o=new ra([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=zE(e),[a,o]=jE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(a,o,u);if(!this.we(f))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Dp(u,o,n);return a.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=zE(e),[a,o]=jE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(a,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,mu.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Xh(Se.min(),o,new ut(xe),hr(),Pe())}}class mu{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new mu(a,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n,a,o){this.be=e,this.removedTargetIds=n,this.key=a,this.De=o}}class cS{constructor(e,n){this.targetId=e,this.Ce=n}}class hS{constructor(e,n,a=Yt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class BE{constructor(){this.ve=0,this.Fe=qE(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),a=Pe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:Ee(38017,{changeType:u})}})),new mu(this.Me,this.xe,e,n,a)}qe(){this.Oe=!1,this.Fe=qE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class S2{constructor(e){this.Ge=e,this.ze=new Map,this.je=hr(),this.Je=Wc(),this.He=Wc(),this.Ye=new ut(xe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((a,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,a=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(jm(u))if(a===0){const f=new pe(u.path);this.et(n,f,Zt.newNoDocument(f,Se.min()))}else Fe(a===1,20013,{expectedCount:a});else{const f=this._t(n);if(f!==a){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=la(a).toUint8Array()}catch(p){if(p instanceof L0)return co("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Dp(f,o,u)}catch(p){return co(p instanceof zl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let o=0;return a.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&jm(m.target)){const p=new pe(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Zt.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let a=Pe();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(a=a.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Xh(e,n,this.Ye,this.je,a);return this.je=hr(),this.Je=Wc(),this.He=Wc(),this.Ye=new ut(xe),o}Xe(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,a),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new BE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new xt(xe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new xt(xe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new BE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Wc(){return new ut(pe.comparator)}function qE(){return new ut(pe.comparator)}const A2={asc:"ASCENDING",desc:"DESCENDING"},b2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},w2={and:"AND",or:"OR"};class R2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Hm(r,e){return r.useProto3Json||Hh(e)?e:{value:e}}function Dh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function C2(r,e){return Dh(r,e.toTimestamp())}function Mi(r){return Fe(!!r,49232),Se.fromTimestamp((function(n){const a=oa(n);return new it(a.seconds,a.nanos)})(r))}function Op(r,e){return Fm(r,e).canonicalString()}function Fm(r,e){const n=(function(o){return new et(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function dS(r){const e=et.fromString(r);return Fe(_S(e),10190,{key:e.toString()}),e}function Gm(r,e){return Op(r.databaseId,e.path)}function Em(r,e){const n=dS(e);if(n.get(1)!==r.databaseId.projectId)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new pe(pS(n))}function mS(r,e){return Op(r.databaseId,e)}function I2(r){const e=dS(r);return e.length===4?et.emptyPath():pS(e)}function Qm(r){return new et(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function pS(r){return Fe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function HE(r,e,n){return{name:Gm(r,e),fields:n.value.mapValue.fields}}function N2(r,e){let n;if("targetChange"in e){e.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ee(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Fe(E===void 0||typeof E=="string",58123),Yt.fromBase64String(E||"")):(Fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Yt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?J.UNKNOWN:uS(y.code);return new le(E,y.message||"")})(f);n=new hS(a,o,u,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Em(r,a.document.name),u=Mi(a.document.updateTime),f=a.document.createTime?Mi(a.document.createTime):Se.min(),m=new dn({mapValue:{fields:a.document.fields}}),p=Zt.newFoundDocument(o,u,f,m),y=a.targetIds||[],E=a.removedTargetIds||[];n=new dh(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Em(r,a.document),u=a.readTime?Mi(a.readTime):Se.min(),f=Zt.newNoDocument(o,u),m=a.removedTargetIds||[];n=new dh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Em(r,a.document),u=a.removedTargetIds||[];n=new dh([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,f=new _2(o,u),m=a.targetId;n=new cS(m,f)}}return n}function D2(r,e){let n;if(e instanceof du)n={update:HE(r,e.key,e.value)};else if(e instanceof Ip)n={delete:Gm(r,e.key)};else if(e instanceof ga)n={update:HE(r,e.key,e.data),updateMask:z2(e.fieldMask)};else{if(!(e instanceof p2))return Ee(16599,{Vt:e.type});n={verify:Gm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((a=>(function(u,f){const m=f.transform;if(m instanceof Ih)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof nu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof iu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Nh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:f.transform})})(0,a)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:C2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(r,e.precondition)),n}function O2(r,e){return r&&r.length>0?(Fe(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Mi(o.updateTime):Mi(u);return f.isEqual(Se.min())&&(f=Mi(u)),new f2(f,o.transformResults||[])})(n,e)))):[]}function V2(r,e){return{documents:[mS(r,e.path)]}}function M2(r,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=mS(r,o);const u=(function(y){if(y.length!==0)return yS(ni.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(w){return{field:to(w.field),direction:L2(w.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Hm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function x2(r){let e=I2(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){Fe(a===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const w=gS(T);return w instanceof ni&&Q0(w)?w.getFilters():[w]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((w=>(function(G){return new tu(no(G.field),(function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let w;return w=typeof T=="object"?T.value:T,Hh(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(T){const w=!!T.before,P=T.values||[];return new Ch(P,w)})(n.startAt));let y=null;return n.endAt&&(y=(function(T){const w=!T.before,P=T.values||[];return new Ch(P,w)})(n.endAt)),WN(e,o,f,u,m,"F",p,y)}function P2(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function gS(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=no(n.unaryFilter.field);return It.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=no(n.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=no(n.unaryFilter.field);return It.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=no(n.unaryFilter.field);return It.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(r):r.fieldFilter!==void 0?(function(n){return It.create(no(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ni.create(n.compositeFilter.filters.map((a=>gS(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(r):Ee(30097,{filter:r})}function L2(r){return A2[r]}function U2(r){return b2[r]}function k2(r){return w2[r]}function to(r){return{fieldPath:r.canonicalString()}}function no(r){return Kt.fromServerFormat(r.fieldPath)}function yS(r){return r instanceof It?(function(n){if(n.op==="=="){if(DE(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NAN"}};if(NE(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(DE(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NAN"}};if(NE(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(n.field),op:U2(n.op),value:n.value}}})(r):r instanceof ni?(function(n){const a=n.getFilters().map((o=>yS(o)));return a.length===1?a[0]:{compositeFilter:{op:k2(n.op),filters:a}}})(r):Ee(54877,{filter:r})}function z2(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function _S(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n,a,o,u=Se.min(),f=Se.min(),m=Yt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ea(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e){this.yt=e}}function B2(r){const e=x2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?qm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(){this.Cn=new H2}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(sa.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(sa.min())}updateCollectionGroup(e,n,a){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class H2{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new xt(et.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new xt(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vS=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(vS,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new po(0)}static cr(){return new po(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="LruGarbageCollector",F2=1048576;function QE([r,e],[n,a]){const o=xe(r,n);return o===0?xe(e,a):o}class G2{constructor(e){this.Ir=e,this.buffer=new xt(QE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();QE(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Q2{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(GE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wo(n)?ue(GE,"Ignoring IndexedDB error during garbage collection: ",n):await bo(n)}await this.Vr(3e5)}))}}class K2{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(qh.ce);const a=new G2(n);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,n,a){return this.mr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(FE)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),FE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let a,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(a=T,m=Date.now(),this.removeTargets(e,a,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,a)))).next((T=>(y=Date.now(),Ws()<=Me.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function Y2(r,e){return new K2(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(){this.changes=new rs((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ee.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(a!==null&&Ql(a.mutation,o,An.empty(),it.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.getLocalViewOfDocuments(e,a,Pe()).next((()=>a))))}getLocalViewOfDocuments(e,n,a=Pe()){const o=Xa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,a).next((u=>{let f=kl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const a=Xa();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,Pe())))}populateOverlays(e,n,a){const o=[];return a.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,a,o){let u=hr();const f=Gl(),m=(function(){return Gl()})();return n.forEach(((p,y)=>{const E=a.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof ga)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Ql(E.mutation,y,E.mutation.getFieldMask(),it.now())):f.set(y.key,An.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new $2(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const a=Gl();let o=new ut(((f,m)=>f-m)),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let E=a.get(p)||An.empty();E=m.applyToLocalView(y,E),a.set(p,E);const T=(o.get(m.batchId)||Pe()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,T=tS();E.forEach((w=>{if(!u.has(w)){const P=oS(n.get(w),a.get(w));P!==null&&T.set(w,P),u=u.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,T))}return ee.waitFor(f)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,n,a,o){return(function(f){return pe.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):ee.resolve(Xa());let m=Jl,p=u;return f.next((y=>ee.forEach(y,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next((w=>{p=p.insert(E,w)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,p,y,Pe()))).next((E=>({batchId:m,changes:eS(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((a=>{let o=kl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let f=kl();return this.indexManager.getCollectionParents(e,u).next((m=>ee.forEach(m,(p=>{const y=(function(T,w){return new Ro(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,a,o).next((E=>{E.forEach(((T,w)=>{f=f.insert(T,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o)))).next((f=>{u.forEach(((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Zt.newInvalidDocument(E)))}));let m=kl();return f.forEach(((p,y)=>{const E=u.get(p);E!==void 0&&Ql(E.mutation,y,An.empty(),it.now()),Qh(n,y)&&(m=m.insert(p,y))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Mi(o.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:B2(o.bundledQuery),readTime:Mi(o.readTime)}})(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(){this.overlays=new ut(pe.comparator),this.qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const a=Xa();return ee.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&a.set(o,u)})))).next((()=>a))}saveOverlays(e,n,a){return a.forEach(((o,u)=>{this.St(e,n,u)})),ee.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(a)),ee.resolve()}getOverlaysForCollection(e,n,a){const o=Xa(),u=n.length+1,f=new pe(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>a&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new ut(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>a){let E=u.get(y.largestBatchId);E===null&&(E=Xa(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Xa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return ee.resolve(m)}St(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new y2(n,a));let u=this.qr.get(n);u===void 0&&(u=Pe(),this.qr.set(n,u)),this.qr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(){this.Qr=new xt(kt.$r),this.Ur=new xt(kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const a=new kt(e,n);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,n){e.forEach((a=>this.addReference(a,n)))}removeReference(e,n){this.Gr(new kt(e,n))}zr(e,n){e.forEach((a=>this.removeReference(a,n)))}jr(e){const n=new pe(new et([])),a=new kt(n,e),o=new kt(n,e+1),u=[];return this.Ur.forEachInRange([a,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new pe(new et([])),a=new kt(n,e),o=new kt(n,e+1);let u=Pe();return this.Ur.forEachInRange([a,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new kt(e,0),a=this.Qr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class kt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return pe.comparator(e.key,n.key)||xe(e.Yr,n.Yr)}static Kr(e,n){return xe(e.Yr,n.Yr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new xt(kt.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new g2(u,n,a,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new kt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(f)}lookupMutationBatch(e,n){return ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.ei(a),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Tp:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new kt(n,0),o=new kt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([a,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new xt(xe);return n.forEach((o=>{const u=new kt(o,0),f=new kt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{a=a.add(m.Yr)}))})),ee.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;pe.isDocumentKey(u)||(u=u.child(""));const f=new kt(new pe(u),0);let m=new xt(xe);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Yr)),!0)}),f),ee.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Fe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return ee.forEach(n.mutations,(o=>{const u=new kt(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,n){const a=new kt(n,0),o=this.Zr.firstAfterOrEqual(a);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e){this.ri=e,this.docs=(function(){return new ut(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return ee.resolve(a?a.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let a=hr();return n.forEach((o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))})),ee.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=hr();const f=n.path,m=new pe(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||ON(DN(E),a)<=0||(o.has(E.key)||Qh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,a,o){Ee(9500)}ii(e,n){return ee.forEach(this.docs,(a=>n(a)))}newChangeBuffer(e){return new iD(this)}getSize(e){return ee.resolve(this.size)}}class iD extends X2{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),ee.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e){this.persistence=e,this.si=new rs((n=>bp(n)),wp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new Vp,this.targetCount=0,this.ai=po.ur()}forEachTarget(e,n){return this.si.forEach(((a,o)=>n(o))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.oi&&(this.oi=n),ee.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new po(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Pr(n),ee.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ee.waitFor(u).next((()=>o))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const a=this.si.get(n)||null;return ee.resolve(a)}addMatchingKeys(e,n,a){return this._i.Wr(n,a),ee.resolve()}removeMatchingKeys(e,n,a){this._i.zr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const a=this._i.Hr(n);return ee.resolve(a)}containsKey(e,n){return ee.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,n){this.ui={},this.overlays={},this.ci=new qh(0),this.li=!1,this.li=!0,this.hi=new eD,this.referenceDelegate=e(this),this.Pi=new rD(this),this.indexManager=new q2,this.remoteDocumentCache=(function(o){return new nD(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new j2(n),this.Ii=new Z2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new W2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ui[e.toKey()];return a||(a=new tD(n,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,a){ue("MemoryPersistence","Starting transaction:",e);const o=new aD(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ee.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,n))))}}class aD extends MN{constructor(e){super(),this.currentSequenceNumber=e}}class Mp{constructor(e){this.persistence=e,this.Ri=new Vp,this.Vi=null}static mi(e){return new Mp(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.fi.delete(a.toString()),ee.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.fi.add(a.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>a.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,(a=>{const o=pe.fromPath(a);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Se.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((a=>{a?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Oh{constructor(e,n){this.persistence=e,this.pi=new rs((a=>LN(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=Y2(this,n)}static mi(e,n){return new Oh(e,n)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>n.next((o=>a+o))))}wr(e){let n=0;return this.pr(e,(a=>{n++})).next((()=>n))}pr(e,n){return ee.forEach(this.pi,((a,o)=>this.br(e,a,o).next((u=>u?ee.resolve():n(o)))))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(a++,u.removeEntry(f,Se.min()))})))).next((()=>u.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ch(e.data.value)),n}br(e,n,a){return ee.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ee.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Es=a,this.ds=o}static As(e,n){let a=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new xp(e,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return z1()?8:xN(Wt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,a).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new sD;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,a,o){return a.documentReadCount<this.fs?(Ws()<=Me.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(Ws()<=Me.DEBUG&&ue("QueryEngine","Query:",eo(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Ws()<=Me.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vi(n))):ee.resolve())}ys(e,n){if(xE(n))return ee.resolve(null);let a=Vi(n);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=qm(n,null,"F"),a=Vi(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next((u=>{const f=Pe(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,a).next((p=>{const y=this.Ds(n,m);return this.Cs(n,y,f,p.readTime)?this.ys(e,qm(n,null,"F")):this.vs(e,y,n,p)}))))})))))}ws(e,n,a,o){return xE(n)||o.isEqual(Se.min())?ee.resolve(null):this.ps.getDocuments(e,a).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,a,o)?ee.resolve(null):(Ws()<=Me.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),eo(n)),this.vs(e,f,n,NN(o,Jl)).next((m=>m)))}))}Ds(e,n){let a=new xt(Z0(e));return n.forEach(((o,u)=>{Qh(e,u)&&(a=a.add(u))})),a}Cs(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,a){return Ws()<=Me.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",eo(n)),this.ps.getDocumentsMatchingQuery(e,n,sa.min(),a)}vs(e,n,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="LocalStore",lD=3e8;class uD{constructor(e,n,a,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ut(xe),this.xs=new rs((u=>bp(u)),wp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new J2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function cD(r,e,n,a){return new uD(r,e,n,a)}async function TS(r,e){const n=be(r);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(a)))).next((u=>{const f=[],m=[];let p=Pe();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(a,p).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function hD(r,e){const n=be(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,E){const T=y.batch,w=T.keys();let P=ee.resolve();return w.forEach((G=>{P=P.next((()=>E.getEntry(p,G))).next(($=>{const Q=y.docVersions.get(G);Fe(Q!==null,48541),$.version.compareTo(Q)<0&&(T.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),E.addEntry($)))}))})),P.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,a,e,u).next((()=>u.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(m){let p=Pe();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(a,o)))}))}function SS(r){const e=be(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function fD(r,e){const n=be(r),a=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,T)=>{const w=o.get(T);if(!w)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let P=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?P=P.withResumeToken(Yt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,a)),o=o.insert(T,P),(function($,Q,te){return $.resumeToken.approximateByteSize()===0||Q.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=lD?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0})(w,P,E)&&m.push(n.Pi.updateTargetData(u,P))}));let p=hr(),y=Pe();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(dD(u,f,e.documentUpdates).next((E=>{p=E.ks,y=E.qs}))),!a.isEqual(Se.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,a)));m.push(E)}return ee.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function dD(r,e,n){let a=Pe(),o=Pe();return n.forEach((u=>a=a.add(u))),e.getEntries(r,a).next((u=>{let f=hr();return n.forEach(((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ue(Pp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function mD(r,e){const n=be(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Tp),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function pD(r,e){const n=be(r);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return n.Pi.getTargetData(a,e).next((u=>u?(o=u,ee.resolve(o)):n.Pi.allocateTargetId(a).next((f=>(o=new ea(e,f,"TargetPurposeListen",a.currentSequenceNumber),n.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=n.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(a.targetId,a),n.xs.set(e,a.targetId)),a}))}async function Km(r,e,n){const a=be(r),o=a.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,(f=>a.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!wo(f))throw f;ue(Pp,`Failed to update sequence numbers for target ${e}: ${f}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function KE(r,e,n){const a=be(r);let o=Se.min(),u=Pe();return a.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,E){const T=be(p),w=T.xs.get(E);return w!==void 0?ee.resolve(T.Ms.get(w)):T.Pi.getTargetData(y,E)})(a,f,Vi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>a.Fs.getDocumentsMatchingQuery(f,e,n?o:Se.min(),n?u:Pe()))).next((m=>(gD(a,t2(e),m),{documents:m,Qs:u})))))}function gD(r,e,n){let a=r.Os.get(e)||Se.min();n.forEach(((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),r.Os.set(e,a)}class YE{constructor(){this.activeTargetIds=o2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yD{constructor(){this.Mo=new YE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,a){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new YE,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="ConnectivityMonitor";class $E{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(XE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(XE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eh=null;function Ym(){return eh===null?eh=(function(){return 268435456+Math.round(2147483648*Math.random())})():eh++,"0x"+eh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm="RestConnection",vD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ED{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===wh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,n,a,o,u){const f=Ym(),m=this.zo(e,n.toUriEncodedString());ue(Tm,`Sending RPC '${e}' ${f}:`,m,a);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:y}=new URL(m),E=Eo(y);return this.Jo(e,m,p,a,E).then((T=>(ue(Tm,`Received RPC '${e}' ${f}: `,T),T)),(T=>{throw co(Tm,`RPC '${e}' ${f} failed with error: `,T,"url: ",m,"request:",a),T}))}Ho(e,n,a,o,u,f){return this.Go(e,n,a,o,u)}jo(e,n,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ao})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),a&&a.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const a=vD[e];return`${this.Uo}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class SD extends ED{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,o,u){const f=Ym();return new Promise(((m,p)=>{const y=new w0;y.setWithCredentials(!0),y.listenOnce(R0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case uh.NO_ERROR:const T=y.getResponseJson();ue($t,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),m(T);break;case uh.TIMEOUT:ue($t,`RPC '${e}' ${f} timed out`),p(new le(J.DEADLINE_EXCEEDED,"Request time out"));break;case uh.HTTP_ERROR:const w=y.getStatus();if(ue($t,`RPC '${e}' ${f} failed with status:`,w,"response text:",y.getResponseText()),w>0){let P=y.getResponseJson();Array.isArray(P)&&(P=P[0]);const G=P?.error;if(G&&G.status&&G.message){const $=(function(te){const ne=te.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ne)>=0?ne:J.UNKNOWN})(G.status);p(new le($,G.message))}else p(new le(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new le(J.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ue($t,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);ue($t,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",E,a,15)}))}T_(e,n,a){const o=Ym(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=N0(),m=I0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,a),p.encodeInitMessageHeaders=!0;const E=u.join("");ue($t,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=f.createWebChannel(E,p);this.I_(T);let w=!1,P=!1;const G=new TD({Yo:Q=>{P?ue($t,`Not sending because RPC '${e}' stream ${o} is closed:`,Q):(w||(ue($t,`Opening RPC '${e}' stream ${o} transport.`),T.open(),w=!0),ue($t,`RPC '${e}' stream ${o} sending:`,Q),T.send(Q))},Zo:()=>T.close()}),$=(Q,te,ne)=>{Q.listen(te,(ae=>{try{ne(ae)}catch(ie){setTimeout((()=>{throw ie}),0)}}))};return $(T,Ul.EventType.OPEN,(()=>{P||(ue($t,`RPC '${e}' stream ${o} transport opened.`),G.o_())})),$(T,Ul.EventType.CLOSE,(()=>{P||(P=!0,ue($t,`RPC '${e}' stream ${o} transport closed`),G.a_(),this.E_(T))})),$(T,Ul.EventType.ERROR,(Q=>{P||(P=!0,co($t,`RPC '${e}' stream ${o} transport errored. Name:`,Q.name,"Message:",Q.message),G.a_(new le(J.UNAVAILABLE,"The operation could not be completed")))})),$(T,Ul.EventType.MESSAGE,(Q=>{if(!P){const te=Q.data[0];Fe(!!te,16349);const ne=te,ae=ne?.error||ne[0]?.error;if(ae){ue($t,`RPC '${e}' stream ${o} received error:`,ae);const ie=ae.status;let de=(function(R){const b=Ct[R];if(b!==void 0)return uS(b)})(ie),ye=ae.message;de===void 0&&(de=J.INTERNAL,ye="Unknown error status: "+ie+" with message "+ae.message),P=!0,G.a_(new le(de,ye)),T.close()}else ue($t,`RPC '${e}' stream ${o} received:`,te),G.u_(te)}})),$(m,C0.STAT_EVENT,(Q=>{Q.stat===Pm.PROXY?ue($t,`RPC '${e}' stream ${o} detected buffering proxy`):Q.stat===Pm.NOPROXY&&ue($t,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{G.__()}),0),G}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Sm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(r){return new R2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,n,a=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=a,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-a);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="PersistentStream";class bS{constructor(e,n,a,o,u,f,m,p){this.Mi=e,this.S_=a,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new AS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(cr(n.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===n&&this.G_(a,o)}),(a=>{e((()=>{const o=new le(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,n){const a=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(JE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ue(JE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class AD extends bS{constructor(e,n,a,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=N2(this.serializer,e),a=(function(u){if(!("targetChange"in u))return Se.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?Mi(f.readTime):Se.min()})(e);return this.listener.H_(n,a)}Y_(e){const n={};n.database=Qm(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=jm(p)?{documents:V2(u,p)}:{query:M2(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=fS(u,f.resumeToken);const y=Hm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Se.min())>0){m.readTime=Dh(u,f.snapshotVersion.toTimestamp());const y=Hm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const a=P2(this.serializer,e);a&&(n.labels=a),this.q_(n)}Z_(e){const n={};n.database=Qm(this.serializer),n.removeTarget=e,this.q_(n)}}class bD extends bS{constructor(e,n,a,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=O2(e.writeResults,e.commitTime),a=Mi(e.commitTime);return this.listener.na(a,n)}ra(){const e={};e.database=Qm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((a=>D2(this.serializer,a)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{}class RD extends wD{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Fm(n,a),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(J.UNKNOWN,u.toString())}))}Ho(e,n,a,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,Fm(n,a),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new le(J.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class CD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(cr(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="RemoteStore";class ID{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{a.enqueueAndForget((async()=>{as(this)&&(ue(ns,"Restarting streams for network reachability change."),await(async function(p){const y=be(p);y.Ea.add(4),await pu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Jh(y)})(this))}))})),this.Ra=new CD(a,o)}}async function Jh(r){if(as(r))for(const e of r.da)await e(!0)}async function pu(r){for(const e of r.da)await e(!1)}function wS(r,e){const n=be(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),zp(n)?kp(n):Co(n).O_()&&Up(n,e))}function Lp(r,e){const n=be(r),a=Co(n);n.Ia.delete(e),a.O_()&&RS(n,e),n.Ia.size===0&&(a.O_()?a.L_():as(n)&&n.Ra.set("Unknown"))}function Up(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Co(r).Y_(e)}function RS(r,e){r.Va.Ue(e),Co(r).Z_(e)}function kp(r){r.Va=new S2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Co(r).start(),r.Ra.ua()}function zp(r){return as(r)&&!Co(r).x_()&&r.Ia.size>0}function as(r){return be(r).Ea.size===0}function CS(r){r.Va=void 0}async function ND(r){r.Ra.set("Online")}async function DD(r){r.Ia.forEach(((e,n)=>{Up(r,e)}))}async function OD(r,e){CS(r),zp(r)?(r.Ra.ha(e),kp(r)):r.Ra.set("Unknown")}async function VD(r,e,n){if(r.Ra.set("Online"),e instanceof hS&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(a){ue(ns,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Vh(r,a)}else if(e instanceof dh?r.Va.Ze(e):e instanceof cS?r.Va.st(e):r.Va.tt(e),!n.isEqual(Se.min()))try{const a=await SS(r.localStore);n.compareTo(a)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,y)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Yt.EMPTY_BYTE_STRING,E.snapshotVersion)),RS(u,p);const T=new ea(E.target,p,y,E.sequenceNumber);Up(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(a){ue(ns,"Failed to raise snapshot:",a),await Vh(r,a)}}async function Vh(r,e,n){if(!wo(e))throw e;r.Ea.add(1),await pu(r),r.Ra.set("Offline"),n||(n=()=>SS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ue(ns,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Jh(r)}))}function IS(r,e){return e().catch((n=>Vh(r,n,e)))}async function Zh(r){const e=be(r),n=ca(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Tp;for(;MD(e);)try{const o=await mD(e.localStore,a);if(o===null){e.Ta.length===0&&n.L_();break}a=o.batchId,xD(e,o)}catch(o){await Vh(e,o)}NS(e)&&DS(e)}function MD(r){return as(r)&&r.Ta.length<10}function xD(r,e){r.Ta.push(e);const n=ca(r);n.O_()&&n.X_&&n.ea(e.mutations)}function NS(r){return as(r)&&!ca(r).x_()&&r.Ta.length>0}function DS(r){ca(r).start()}async function PD(r){ca(r).ra()}async function LD(r){const e=ca(r);for(const n of r.Ta)e.ea(n.mutations)}async function UD(r,e,n){const a=r.Ta.shift(),o=Np.from(a,e,n);await IS(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Zh(r)}async function kD(r,e){e&&ca(r).X_&&await(async function(a,o){if((function(f){return v2(f)&&f!==J.ABORTED})(o.code)){const u=a.Ta.shift();ca(a).B_(),await IS(a,(()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Zh(a)}})(r,e),NS(r)&&DS(r)}async function ZE(r,e){const n=be(r);n.asyncQueue.verifyOperationInProgress(),ue(ns,"RemoteStore received new credentials");const a=as(n);n.Ea.add(3),await pu(n),a&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Jh(n)}async function zD(r,e){const n=be(r);e?(n.Ea.delete(2),await Jh(n)):e||(n.Ea.add(2),await pu(n),n.Ra.set("Unknown"))}function Co(r){return r.ma||(r.ma=(function(n,a,o){const u=be(n);return u.sa(),new AD(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:ND.bind(null,r),t_:DD.bind(null,r),r_:OD.bind(null,r),H_:VD.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),zp(r)?kp(r):r.Ra.set("Unknown")):(await r.ma.stop(),CS(r))}))),r.ma}function ca(r){return r.fa||(r.fa=(function(n,a,o){const u=be(n);return u.sa(),new bD(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:PD.bind(null,r),r_:kD.bind(null,r),ta:LD.bind(null,r),na:UD.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Zh(r)):(await r.fa.stop(),r.Ta.length>0&&(ue(ns,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const f=Date.now()+a,m=new jp(e,n,f,o,u);return m.start(a),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bp(r,e){if(cr("AsyncQueue",`${e}: ${r}`),wo(r))return new le(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{static emptySet(e){return new oo(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||pe.comparator(n.key,a.key):(n,a)=>pe.comparator(n.key,a.key),this.keyedMap=kl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,a)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof oo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new oo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(){this.ga=new ut(pe.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,a)=>{e.push(a)})),e}}class go{constructor(e,n,a,o,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,a,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new go(e,n,oo.emptySet(n),f,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class BD{constructor(){this.queries=eT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const o=be(n),u=o.queries;o.queries=eT(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(a)}))})(this,new le(J.ABORTED,"Firestore shutting down"))}}function eT(){return new rs((r=>J0(r)),Gh)}async function OS(r,e){const n=be(r);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(a=2):(u=new jD,a=e.Da()?0:1);try{switch(a){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Bp(f,`Initialization of query '${eo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&qp(n)}async function VS(r,e){const n=be(r),a=e.query;let o=3;const u=n.queries.get(a);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function qD(r,e){const n=be(r);let a=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(a=!0);f.wa=o}}a&&qp(n)}function HD(r,e,n){const a=be(r),o=a.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);a.queries.delete(e)}function qp(r){r.Ca.forEach((e=>{e.next()}))}var Xm,tT;(tT=Xm||(Xm={})).Ma="default",tT.Cache="cache";class MS{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new go(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Xm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e){this.key=e}}class PS{constructor(e){this.key=e}}class FD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=Z0(e),this.tu=new oo(this.eu)}get nu(){return this.Ya}ru(e,n){const a=n?n.iu:new WE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const w=o.get(E),P=Qh(this.query,T)?T:null,G=!!w&&this.mutatedKeys.has(w.key),$=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let Q=!1;w&&P?w.data.isEqual(P.data)?G!==$&&(a.track({type:3,doc:P}),Q=!0):this.su(w,P)||(a.track({type:2,doc:P}),Q=!0,(p&&this.eu(P,p)>0||y&&this.eu(P,y)<0)&&(m=!0)):!w&&P?(a.track({type:0,doc:P}),Q=!0):w&&!P&&(a.track({type:1,doc:w}),Q=!0,(p||y)&&(m=!0)),Q&&(P?(f=f.add(P),u=$?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),a.track({type:1,doc:E})}return{tu:f,iu:a,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,T)=>(function(P,G){const $=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:Q})}};return $(P)-$(G)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(a),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,f.length!==0||y?{snapshot:new go(this.query,e.tu,u,f,e.mutatedKeys,p===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new WE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const n=[];return e.forEach((a=>{this.Xa.has(a)||n.push(new PS(a))})),this.Xa.forEach((a=>{e.has(a)||n.push(new xS(a))})),n}cu(e){this.Ya=e.Qs,this.Xa=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return go.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Hp="SyncEngine";class GD{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class QD{constructor(e){this.key=e,this.hu=!1}}class KD{constructor(e,n,a,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new rs((m=>J0(m)),Gh),this.Iu=new Map,this.Eu=new Set,this.du=new ut(pe.comparator),this.Au=new Map,this.Ru=new Vp,this.Vu={},this.mu=new Map,this.fu=po.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function YD(r,e,n=!0){const a=BS(r);let o;const u=a.Tu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await LS(a,e,n,!0),o}async function XD(r,e){const n=BS(r);await LS(n,e,!0,!1)}async function LS(r,e,n,a){const o=await pD(r.localStore,Vi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return a&&(m=await $D(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&wS(r.remoteStore,o),m}async function $D(r,e,n,a,o){r.pu=(T,w,P)=>(async function($,Q,te,ne){let ae=Q.view.ru(te);ae.Cs&&(ae=await KE($.localStore,Q.query,!1).then((({documents:I})=>Q.view.ru(I,ae))));const ie=ne&&ne.targetChanges.get(Q.targetId),de=ne&&ne.targetMismatches.get(Q.targetId)!=null,ye=Q.view.applyChanges(ae,$.isPrimaryClient,ie,de);return iT($,Q.targetId,ye.au),ye.snapshot})(r,T,w,P);const u=await KE(r.localStore,e,!0),f=new FD(e,u.Qs),m=f.ru(u.documents),p=mu.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);iT(r,n,y.au);const E=new GD(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function JD(r,e,n){const a=be(r),o=a.Tu.get(e),u=a.Iu.get(o.targetId);if(u.length>1)return a.Iu.set(o.targetId,u.filter((f=>!Gh(f,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Km(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),n&&Lp(a.remoteStore,o.targetId),$m(a,o.targetId)})).catch(bo)):($m(a,o.targetId),await Km(a.localStore,o.targetId,!0))}async function ZD(r,e){const n=be(r),a=n.Tu.get(e),o=n.Iu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Lp(n.remoteStore,a.targetId))}async function WD(r,e,n){const a=sO(r);try{const o=await(function(f,m){const p=be(f),y=it.now(),E=m.reduce(((P,G)=>P.add(G.key)),Pe());let T,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let G=hr(),$=Pe();return p.Ns.getEntries(P,E).next((Q=>{G=Q,G.forEach(((te,ne)=>{ne.isValidDocument()||($=$.add(te))}))})).next((()=>p.localDocuments.getOverlayedDocuments(P,G))).next((Q=>{T=Q;const te=[];for(const ne of m){const ae=m2(ne,T.get(ne.key).overlayedDocument);ae!=null&&te.push(new ga(ne.key,ae,H0(ae.value.mapValue),zn.exists(!0)))}return p.mutationQueue.addMutationBatch(P,y,te,m)})).next((Q=>{w=Q;const te=Q.applyToLocalDocumentSet(T,$);return p.documentOverlayCache.saveOverlays(P,Q.batchId,te)}))})).then((()=>({batchId:w.batchId,changes:eS(T)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let y=f.Vu[f.currentUser.toKey()];y||(y=new ut(xe)),y=y.insert(m,p),f.Vu[f.currentUser.toKey()]=y})(a,o.batchId,n),await gu(a,o.changes),await Zh(a.remoteStore)}catch(o){const u=Bp(o,"Failed to persist write");n.reject(u)}}async function US(r,e){const n=be(r);try{const a=await fD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Fe(f.hu,14607):o.removedDocuments.size>0&&(Fe(f.hu,42227),f.hu=!1))})),await gu(n,a,e)}catch(a){await bo(a)}}function nT(r,e,n){const a=be(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=be(f);p.onlineState=m;let y=!1;p.queries.forEach(((E,T)=>{for(const w of T.Sa)w.va(m)&&(y=!0)})),y&&qp(p)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function eO(r,e,n){const a=be(r);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Au.get(e),u=o&&o.key;if(u){let f=new ut(pe.comparator);f=f.insert(u,Zt.newNoDocument(u,Se.min()));const m=Pe().add(u),p=new Xh(Se.min(),new Map,new ut(xe),f,m);await US(a,p),a.du=a.du.remove(u),a.Au.delete(e),Fp(a)}else await Km(a.localStore,e,!1).then((()=>$m(a,e,n))).catch(bo)}async function tO(r,e){const n=be(r),a=e.batch.batchId;try{const o=await hD(n.localStore,e);zS(n,a,null),kS(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await gu(n,o)}catch(o){await bo(o)}}async function nO(r,e,n){const a=be(r);try{const o=await(function(f,m){const p=be(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next((T=>(Fe(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(y,T)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>p.localDocuments.getDocuments(y,E)))}))})(a.localStore,e);zS(a,e,n),kS(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await gu(a,o)}catch(o){await bo(o)}}function kS(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function zS(r,e,n){const a=be(r);let o=a.Vu[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function $m(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),n&&r.Pu.yu(a,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||jS(r,a)}))}function jS(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Lp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Fp(r))}function iT(r,e,n){for(const a of n)a instanceof xS?(r.Ru.addReference(a.key,e),iO(r,a)):a instanceof PS?(ue(Hp,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||jS(r,a.key)):Ee(19791,{wu:a})}function iO(r,e){const n=e.key,a=n.path.canonicalString();r.du.get(n)||r.Eu.has(a)||(ue(Hp,"New document in limbo: "+n),r.Eu.add(a),Fp(r))}function Fp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new pe(et.fromString(e)),a=r.fu.next();r.Au.set(a,new QD(n)),r.du=r.du.insert(n,a),wS(r.remoteStore,new ea(Vi(Rp(n.path)),a,"TargetPurposeLimboResolution",qh.ce))}}async function gu(r,e,n){const a=be(r),o=[],u=[],f=[];a.Tu.isEmpty()||(a.Tu.forEach(((m,p)=>{f.push(a.pu(p,e,n).then((y=>{if((y||n)&&a.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;a.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){o.push(y);const E=xp.As(p.targetId,y);u.push(E)}})))})),await Promise.all(f),a.Pu.H_(o),await(async function(p,y){const E=be(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ee.forEach(y,(w=>ee.forEach(w.Es,(P=>E.persistence.referenceDelegate.addReference(T,w.targetId,P))).next((()=>ee.forEach(w.ds,(P=>E.persistence.referenceDelegate.removeReference(T,w.targetId,P)))))))))}catch(T){if(!wo(T))throw T;ue(Pp,"Failed to update sequence numbers: "+T)}for(const T of y){const w=T.targetId;if(!T.fromCache){const P=E.Ms.get(w),G=P.snapshotVersion,$=P.withLastLimboFreeSnapshotVersion(G);E.Ms=E.Ms.insert(w,$)}}})(a.localStore,u))}async function rO(r,e){const n=be(r);if(!n.currentUser.isEqual(e)){ue(Hp,"User change. New user:",e.toKey());const a=await TS(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new le(J.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await gu(n,a.Ls)}}function aO(r,e){const n=be(r),a=n.Au.get(e);if(a&&a.hu)return Pe().add(a.key);{let o=Pe();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function BS(r){const e=be(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=US.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eO.bind(null,e),e.Pu.H_=qD.bind(null,e.eventManager),e.Pu.yu=HD.bind(null,e.eventManager),e}function sO(r){const e=be(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nO.bind(null,e),e}class Mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$h(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return cD(this.persistence,new oD,e.initialUser,this.serializer)}Cu(e){return new ES(Mp.mi,this.serializer)}Du(e){return new yD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mh.provider={build:()=>new Mh};class oO extends Mh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof Oh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Q2(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new ES((a=>Oh.mi(a,n)),this.serializer)}}class Jm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>nT(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=rO.bind(null,this.syncEngine),await zD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new BD})()}createDatastore(e){const n=$h(e.databaseInfo.databaseId),a=(function(u){return new SD(u)})(e.databaseInfo);return(function(u,f,m,p){return new RD(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return(function(a,o,u,f,m){return new ID(a,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>nT(this.syncEngine,n,0)),(function(){return $E.v()?new $E:new _D})())}createSyncEngine(e,n){return(function(o,u,f,m,p,y,E){const T=new KD(o,u,f,m,p,y);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const a=be(n);ue(ns,"RemoteStore shutting down."),a.Ea.add(5),await pu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Jm.provider={build:()=>new Jm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):cr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="FirestoreClient";class lO{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=Ep.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async f=>{ue(ha,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(a,(f=>(ue(ha,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=Bp(n,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Am(r,e){r.asyncQueue.verifyOperationInProgress(),ue(ha,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let a=n.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await TS(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function rT(r,e){r.asyncQueue.verifyOperationInProgress();const n=await uO(r);ue(ha,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((a=>ZE(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>ZE(e.remoteStore,o))),r._onlineComponents=e}async function uO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(ha,"Using user provided OfflineComponentProvider");try{await Am(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;co("Error using user provided cache. Falling back to memory cache: "+n),await Am(r,new Mh)}}else ue(ha,"Using default OfflineComponentProvider"),await Am(r,new oO(void 0));return r._offlineComponents}async function HS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(ha,"Using user provided OnlineComponentProvider"),await rT(r,r._uninitializedComponentsProvider._online)):(ue(ha,"Using default OnlineComponentProvider"),await rT(r,new Jm))),r._onlineComponents}function cO(r){return HS(r).then((e=>e.syncEngine))}async function FS(r){const e=await HS(r),n=e.eventManager;return n.onListen=YD.bind(null,e.syncEngine),n.onUnlisten=JD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=XD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ZD.bind(null,e.syncEngine),n}function hO(r,e,n={}){const a=new sr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const E=new qS({next:w=>{E.Nu(),f.enqueueAndForget((()=>VS(u,T)));const P=w.docs.has(m);!P&&w.fromCache?y.reject(new le(J.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&w.fromCache&&p&&p.source==="server"?y.reject(new le(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(w)},error:w=>y.reject(w)}),T=new MS(Rp(m.path),E,{includeMetadataChanges:!0,qa:!0});return OS(u,T)})(await FS(r),r.asyncQueue,e,n,a))),a.promise}function fO(r,e,n={}){const a=new sr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const E=new qS({next:w=>{E.Nu(),f.enqueueAndForget((()=>VS(u,T))),w.fromCache&&p.source==="server"?y.reject(new le(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),T=new MS(m,E,{includeMetadataChanges:!0,qa:!0});return OS(u,T)})(await FS(r),r.asyncQueue,e,n,a))),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="firestore.googleapis.com",sT=!0;class oT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QS,this.ssl=sT}else this.host=e.host,this.ssl=e.ssl??sT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<F2)throw new le(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}IN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GS(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wh{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new _N;switch(a.type){case"firstParty":return new SN(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new le(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=aT.get(n);a&&(ue("ComponentProvider","Removing Datastore"),aT.delete(n),a.terminate())})(this),Promise.resolve()}}function dO(r,e,n,a={}){r=ti(r,Wh);const o=Eo(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(LT(`https://${m}`),UT("Firestore",!0)),u.host!==QS&&u.host!==m&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:a};if(!Ja(p,f)&&(r._setSettings(p),a.mockUserToken)){let y,E;if(typeof a.mockUserToken=="string")y=a.mockUserToken,E=Jt.MOCK_USER;else{y=D1(a.mockUserToken,r._app?.options.projectId);const T=a.mockUserToken.sub||a.mockUserToken.user_id;if(!T)throw new le(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Jt(T)}r._authCredentials=new vN(new O0(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new ss(this.firestore,e,this._query)}}class yt{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new aa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}toJSON(){return{type:yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(fu(n,yt._jsonSchema))return new yt(e,a||null,new pe(et.fromString(n.referencePath)))}}yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:Nt("string",yt._jsonSchemaVersion),referencePath:Nt("string")};class aa extends ss{constructor(e,n,a){super(e,n,Rp(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new pe(e))}withConverter(e){return new aa(this.firestore,e,this._path)}}function fa(r,e,...n){if(r=zt(r),V0("collection","path",e),r instanceof Wh){const a=et.fromString(e,...n);return EE(a),new aa(r,null,a)}{if(!(r instanceof yt||r instanceof aa))throw new le(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(et.fromString(e,...n));return EE(a),new aa(r.firestore,null,a)}}function fr(r,e,...n){if(r=zt(r),arguments.length===1&&(e=Ep.newId()),V0("doc","path",e),r instanceof Wh){const a=et.fromString(e,...n);return vE(a),new yt(r,null,new pe(a))}{if(!(r instanceof yt||r instanceof aa))throw new le(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(et.fromString(e,...n));return vE(a),new yt(r.firestore,r instanceof aa?r.converter:null,new pe(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="AsyncQueue";class uT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new AS(this,"async_queue_retry"),this._c=()=>{const a=Sm();a&&ue(lT,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=Sm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Sm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new sr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!wo(e))throw e;ue(lT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,cr("INTERNAL UNHANDLED ERROR: ",cT(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=jp.createAndSchedule(this,e,n,a,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:cT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function cT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class os extends Wh{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new uT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uT(e),this._firestoreClient=void 0,await e}}}function mO(r,e){const n=typeof r=="object"?r:BT(),a=typeof r=="string"?r:wh,o=cp(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=I1("firestore");u&&dO(o,...u)}return o}function Gp(r){if(r._terminated)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||pO(r),r._firestoreClient}function pO(r){const e=r._freezeSettings(),n=(function(o,u,f,m){return new zN(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,GS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new lO(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kn(Yt.fromBase64String(e))}catch(n){throw new le(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new kn(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fu(e,kn._jsonSchema))return kn.fromBase64String(e.bytes)}}kn._jsonSchemaVersion="firestore/bytes/1.0",kn._jsonSchema={type:Nt("string",kn._jsonSchemaVersion),bytes:Nt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xi._jsonSchemaVersion}}static fromJSON(e){if(fu(e,xi._jsonSchema))return new xi(e.latitude,e.longitude)}}xi._jsonSchemaVersion="firestore/geoPoint/1.0",xi._jsonSchema={type:Nt("string",xi._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fu(e,Pi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Pi(e.vectorValues);throw new le(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pi._jsonSchemaVersion="firestore/vectorValue/1.0",Pi._jsonSchema={type:Nt("string",Pi._jsonSchemaVersion),vectorValues:Nt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=/^__.*__$/;class yO{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new ga(e,this.data,this.fieldMask,n,this.fieldTransforms):new du(e,this.data,n,this.fieldTransforms)}}class KS{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new ga(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function YS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:r})}}class Kp{constructor(e,n,a,o,u,f){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Kp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.gc(e),a}yc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return xh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(YS(this.Ac)&&gO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class _O{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||$h(e)}Cc(e,n,a,o=!1){return new Kp({Ac:e,methodName:n,Dc:a,path:Kt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tf(r){const e=r._freezeSettings(),n=$h(r._databaseId);return new _O(r._databaseId,!!e.ignoreUndefinedProperties,n)}function XS(r,e,n,a,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);Yp("Data must be an object, but it was:",f,a);const m=$S(a,f);let p,y;if(u.merge)p=new An(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const w=Zm(e,T,n);if(!f.contains(w))throw new le(J.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);ZS(E,w)||E.push(w)}p=new An(E),y=f.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,y=f.fieldTransforms;return new yO(new dn(m),p,y)}class nf extends Qp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nf}}function vO(r,e,n,a){const o=r.Cc(1,e,n);Yp("Data must be an object, but it was:",o,a);const u=[],f=dn.empty();pa(a,((p,y)=>{const E=Xp(e,p,n);y=zt(y);const T=o.yc(E);if(y instanceof nf)u.push(E);else{const w=yu(y,T);w!=null&&(u.push(E),f.set(E,w))}}));const m=new An(u);return new KS(f,m,o.fieldTransforms)}function EO(r,e,n,a,o,u){const f=r.Cc(1,e,n),m=[Zm(e,a,n)],p=[o];if(u.length%2!=0)throw new le(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(Zm(e,u[w])),p.push(u[w+1]);const y=[],E=dn.empty();for(let w=m.length-1;w>=0;--w)if(!ZS(y,m[w])){const P=m[w];let G=p[w];G=zt(G);const $=f.yc(P);if(G instanceof nf)y.push(P);else{const Q=yu(G,$);Q!=null&&(y.push(P),E.set(P,Q))}}const T=new An(y);return new KS(E,T,f.fieldTransforms)}function TO(r,e,n,a=!1){return yu(n,r.Cc(a?4:3,e))}function yu(r,e){if(JS(r=zt(r)))return Yp("Unsupported field value:",e,r),$S(r,e);if(r instanceof Qp)return(function(a,o){if(!YS(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const u=[];let f=0;for(const m of a){let p=yu(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(a,o){if((a=zt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return l2(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=it.fromDate(a);return{timestampValue:Dh(o.serializer,u)}}if(a instanceof it){const u=new it(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Dh(o.serializer,u)}}if(a instanceof xi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof kn)return{bytesValue:fS(o.serializer,a._byteString)};if(a instanceof yt){const u=o.databaseId,f=a.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Op(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Pi)return(function(f,m){return{mapValue:{fields:{[B0]:{stringValue:q0},[Rh]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return Cp(m.serializer,y)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Bh(a)}`)})(r,e)}function $S(r,e){const n={};return P0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pa(r,((a,o)=>{const u=yu(o,e.mc(a));u!=null&&(n[a]=u)})),{mapValue:{fields:n}}}function JS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof it||r instanceof xi||r instanceof kn||r instanceof yt||r instanceof Qp||r instanceof Pi)}function Yp(r,e,n){if(!JS(n)||!M0(n)){const a=Bh(n);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function Zm(r,e,n){if((e=zt(e))instanceof ef)return e._internalPath;if(typeof e=="string")return Xp(r,e);throw xh("Field path arguments must be of type string or ",r,!1,void 0,n)}const SO=new RegExp("[~\\*/\\[\\]]");function Xp(r,e,n){if(e.search(SO)>=0)throw xh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new ef(...e.split("."))._internalPath}catch{throw xh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function xh(r,e,n,a,o){const u=a&&!a.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${a}`),f&&(p+=` in document ${o}`),p+=")"),new le(J.INVALID_ARGUMENT,m+r+p)}function ZS(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field($p("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class AO extends WS{data(){return super.data()}}function $p(r,e){return typeof e=="string"?Xp(r,e):e instanceof ef?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jp{}class eA extends Jp{}function tA(r,e,...n){let a=[];e instanceof Jp&&a.push(e),a=a.concat(n),(function(u){const f=u.filter((p=>p instanceof Wp)).length,m=u.filter((p=>p instanceof Zp)).length;if(f>1||f>0&&m>0)throw new le(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)r=o._apply(r);return r}class Zp extends eA{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new Zp(e,n,a)}_apply(e){const n=this._parse(e);return nA(e._query,n),new ss(e.firestore,e.converter,Bm(e._query,n))}_parse(e){const n=tf(e.firestore);return(function(u,f,m,p,y,E,T){let w;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new le(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){fT(T,E);const G=[];for(const $ of T)G.push(hT(p,u,$));w={arrayValue:{values:G}}}else w=hT(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||fT(T,E),w=TO(m,f,T,E==="in"||E==="not-in");return It.create(y,E,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Wp extends Jp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Wp(e,n)}_parse(e){const n=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:ni.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)nA(f,p),f=Bm(f,p)})(e._query,n),new ss(e.firestore,e.converter,Bm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class eg extends eA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new eg(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new le(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new tu(u,f)})(e._query,this._field,this._direction);return new ss(e.firestore,e.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new Ro(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function wO(r,e="asc"){const n=e,a=$p("orderBy",r);return eg._create(a,n)}function hT(r,e,n){if(typeof(n=zt(n))=="string"){if(n==="")throw new le(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$0(e)&&n.indexOf("/")!==-1)throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(et.fromString(n));if(!pe.isDocumentKey(a))throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return IE(r,new pe(a))}if(n instanceof yt)return IE(r,n._key);throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bh(n)}.`)}function fT(r,e){if(!Array.isArray(r)||r.length===0)throw new le(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nA(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class RO{convertValue(e,n="none"){switch(ua(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(la(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return pa(e,((o,u)=>{a[o]=this.convertValue(u,n)})),a}convertVectorValue(e){const n=e.fields?.[Rh].arrayValue?.values?.map((a=>gt(a.doubleValue)));return new Pi(n)}convertGeoPoint(e){return new xi(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const a=Fh(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Zl(e));default:return null}}convertTimestamp(e){const n=oa(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=et.fromString(e);Fe(_S(a),9688,{name:e});const o=new Wl(a.get(1),a.get(3)),u=new pe(a.popFirst(5));return o.isEqual(n)||cr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(r,e,n){let a;return a=r?r.toFirestore(e):e,a}class jl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $a extends WS{constructor(e,n,a,o,u,f){super(e,n,a,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new mh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field($p("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=$a._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}$a._jsonSchemaVersion="firestore/documentSnapshot/1.0",$a._jsonSchema={type:Nt("string",$a._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class mh extends $a{data(e={}){return super.data(e)}}class lo{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new jl(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((a=>{e.call(n,new mh(this._firestore,this._userDataWriter,a.key,a,new jl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new mh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new jl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new mh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new jl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:CO(m.type),doc:p,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=lo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ep.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function CO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(r){r=ti(r,yt);const e=ti(r.firestore,os);return hO(Gp(e),r._key).then((n=>NO(e,r,n)))}lo._jsonSchemaVersion="firestore/querySnapshot/1.0",lo._jsonSchema={type:Nt("string",lo._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class aA extends RO{constructor(e){super(),this.firestore=e}convertBytes(e){return new kn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,n)}}function _u(r){r=ti(r,ss);const e=ti(r.firestore,os),n=Gp(e),a=new aA(e);return bO(r._query),fO(n,r._query).then((o=>new lo(e,a,r,o)))}function IO(r,e,n){r=ti(r,yt);const a=ti(r.firestore,os),o=iA(r.converter,e);return rf(a,[XS(tf(a),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,zn.none())])}function tg(r,e,n,...a){r=ti(r,yt);const o=ti(r.firestore,os),u=tf(o);let f;return f=typeof(e=zt(e))=="string"||e instanceof ef?EO(u,"updateDoc",r._key,e,n,a):vO(u,"updateDoc",r._key,e),rf(o,[f.toMutation(r._key,zn.exists(!0))])}function sA(r){return rf(ti(r.firestore,os),[new Ip(r._key,zn.none())])}function ng(r,e){const n=ti(r.firestore,os),a=fr(r),o=iA(r.converter,e);return rf(n,[XS(tf(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,zn.exists(!1))]).then((()=>a))}function rf(r,e){return(function(a,o){const u=new sr;return a.asyncQueue.enqueueAndForget((async()=>WD(await cO(a),o,u))),u.promise})(Gp(r),e)}function NO(r,e,n){const a=n.docs.get(e._key),o=new aA(r);return new $a(r,o,e._key,a,new jl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Ao=o})(To),uo(new Za("firestore",((a,{instanceIdentifier:o,options:u})=>{const f=a.getProvider("app").getImmediate(),m=new os(new EN(a.getProvider("auth-internal")),new AN(f,a.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new le(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(y.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ia(pE,gE,e),ia(pE,gE,"esm2020")})();var DO="firebase",OO="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ia(DO,OO,"app");const VO={apiKey:"AIzaSyDjgrbzsCeCeEzFLP0OMNSnfSqNyYzoRB8",authDomain:"proyectonoticiasikerharnisch.firebaseapp.com",projectId:"proyectonoticiasikerharnisch",storageBucket:"proyectonoticiasikerharnisch.firebasestorage.app",messagingSenderId:"519230577591",appId:"1:519230577591:web:6c026333d68465ba31e632"},oA=jT(VO),th=gN(oA),en=mO(oA),lA=B.createContext(),ls=()=>{const r=B.useContext(lA);if(!r)throw new Error("useAuth debe usarse dentro de un AuthProvider");return r},MO=({children:r})=>{const[e,n]=B.useState(null),[a,o]=B.useState(!0),u=async(E,T,w,P)=>{try{const G=await eI(th,E,T);return await IO(fr(en,"usuarios",G.user.uid),{nombre:w,email:E,rol:P,fechaCreacion:new Date().toISOString()}),G}catch(G){throw console.error("Error al registrar usuario:",G),G}},f=async(E,T)=>{try{return await tI(th,E,T)}catch(w){throw console.error("Error al iniciar sesin:",w),w}},m=async()=>{try{return await aI(th)}catch(E){throw console.error("Error al cerrar sesin:",E),E}},p=async E=>{try{const T=fr(en,"usuarios",E),w=await rA(T);return w.exists()?w.data():null}catch(T){return console.error("Error al obtener datos del usuario:",T),null}};B.useEffect(()=>rI(th,async T=>{if(T){const w=await p(T.uid);n({uid:T.uid,email:T.email,...w})}else n(null);o(!1)}),[]);const y={usuario:e,registrar:u,iniciarSesion:f,cerrarSesion:m,cargando:a};return C.jsx(lA.Provider,{value:y,children:!a&&r})},nh=({children:r})=>{const{usuario:e}=ls();return e?r:C.jsx(bT,{to:"/login"})},xO=[{nombre:"Informativo",descripcion:"Noticias y comunicados informativos"},{nombre:"Nacional",descripcion:"Noticias a nivel nacional"},{nombre:"Entretenimiento",descripcion:"Noticias de entretenimiento y cultura"},{nombre:"Deportes",descripcion:"Noticias deportivas"},{nombre:"Tecnologa",descripcion:"Noticias de tecnologa e innovacin"},{nombre:"Negocios",descripcion:"Noticias de negocios y economa"}],PO=async()=>{try{const r=tA(fa(en,"secciones"));if((await _u(r)).size>0){console.log(" Las categoras ya existen en Firestore");return}console.log(" Agregando categoras iniciales...");for(const n of xO)await ng(fa(en,"secciones"),{...n,fechaCreacion:new Date().toISOString()});console.log(" Categoras iniciales agregadas correctamente")}catch(r){console.error(" Error al inicializar categoras:",r)}},uA={cloudName:"dzlcu9jt6",uploadPreset:"cms-noticias"},LO=`https://api.cloudinary.com/v1_1/${uA.cloudName}/image/upload`,UO=async(r,e,n,a)=>{try{let o="";e&&(o=await hA(e));const u={...r,imagenUrl:o,autorId:n,autorNombre:a,estado:"Edicin",fechaCreacion:new Date().toISOString(),fechaActualizacion:new Date().toISOString()};return{id:(await ng(fa(en,"noticias"),u)).id,...u}}catch(o){throw console.error("Error al crear noticia:",o),o}},kO=async(r,e,n=null)=>{try{let a=e.imagenUrl;n&&(a=await hA(n));const o={...e,imagenUrl:a,fechaActualizacion:new Date().toISOString()},u=fr(en,"noticias",r);return await tg(u,o),{id:r,...o}}catch(a){throw console.error("Error al actualizar noticia:",a),a}},zO=async(r,e)=>{try{await sA(fr(en,"noticias",r))}catch(n){throw console.error("Error al eliminar noticia:",n),n}},Wm=async r=>{try{const e=fr(en,"noticias",r),n=await rA(e);return n.exists()?{id:n.id,...n.data()}:null}catch(e){throw console.error("Error al obtener noticia:",e),e}},jO=async()=>{try{return(await _u(fa(en,"noticias"))).docs.map(n=>({id:n.id,...n.data()})).sort((n,a)=>new Date(a.fechaCreacion)-new Date(n.fechaCreacion))}catch(r){throw console.error("Error al obtener noticias:",r),r}},BO=async r=>{try{return(await _u(fa(en,"noticias"))).docs.map(a=>({id:a.id,...a.data()})).filter(a=>a.autorId===r).sort((a,o)=>new Date(o.fechaCreacion)-new Date(a.fechaCreacion))}catch(e){throw console.error("Error al obtener noticias por autor:",e),e}},cA=async(r=null)=>{try{let n=(await _u(fa(en,"noticias"))).docs.map(a=>({id:a.id,...a.data()})).filter(a=>a.estado==="Publicado");return r&&(n=n.filter(a=>a.categoria===r)),n.sort((a,o)=>new Date(o.fechaActualizacion)-new Date(a.fechaActualizacion))}catch(e){throw console.error("Error al obtener noticias publicadas:",e),e}},qO=async(r,e)=>{try{const n=fr(en,"noticias",r);await tg(n,{estado:e,fechaActualizacion:new Date().toISOString()})}catch(n){throw console.error("Error al cambiar estado de noticia:",n),n}},hA=async r=>{try{const e=new FormData;e.append("file",r),e.append("upload_preset",uA.uploadPreset);const n=await fetch(LO,{method:"POST",body:e});if(!n.ok)throw new Error("Error al subir la imagen a Cloudinary");return(await n.json()).secure_url}catch(e){throw console.error("Error al subir imagen a Cloudinary:",e),e}},HO=async r=>{try{const e={...r,fechaCreacion:new Date().toISOString()};return{id:(await ng(fa(en,"secciones"),e)).id,...e}}catch(e){throw console.error("Error al crear seccin:",e),e}},FO=async(r,e)=>{try{const n=fr(en,"secciones",r);return await tg(n,e),{id:r,...e}}catch(n){throw console.error("Error al actualizar seccin:",n),n}},GO=async r=>{try{await sA(fr(en,"secciones",r))}catch(e){throw console.error("Error al eliminar seccin:",e),e}},af=async()=>{try{const r=tA(fa(en,"secciones"),wO("nombre","asc"));return(await _u(r)).docs.map(n=>({id:n.id,...n.data()}))}catch(r){throw console.error("Error al obtener secciones:",r),r}},QO=()=>{const{usuario:r}=ls(),e=mr(),[n,a]=B.useState([]),[o,u]=B.useState([]),[f,m]=B.useState(null),[p,y]=B.useState(!0);B.useEffect(()=>{E()},[f]);const E=async()=>{try{y(!0);const[w,P]=await Promise.all([cA(f),af()]);a(w),u(P)}catch(w){console.error("Error al cargar datos:",w)}finally{y(!1)}},T=w=>new Date(w).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"});return C.jsxs("div",{className:"home",children:[C.jsx("header",{className:"home-header",children:C.jsxs("div",{className:"header-content",children:[C.jsx("h1",{children:"Portal de Noticias"}),C.jsx("nav",{className:"header-nav",children:r?C.jsx("button",{onClick:()=>e("/dashboard"),className:"btn-primary",children:"Ir al Panel de Administracin"}):C.jsxs(C.Fragment,{children:[C.jsx(Ni,{to:"/login",className:"btn-secondary",children:"Iniciar Sesin"}),C.jsx(Ni,{to:"/registro",className:"btn-primary",children:"Registrarse"})]})})]})}),C.jsx("section",{className:"categorias-section",children:C.jsxs("div",{className:"categorias-container",children:[C.jsx("button",{className:`categoria-btn ${f?"":"active"}`,onClick:()=>m(null),children:"Todas"}),o.map(w=>C.jsx("button",{className:`categoria-btn ${f===w.nombre?"active":""}`,onClick:()=>m(w.nombre),children:w.nombre},w.id))]})}),C.jsx("main",{className:"home-main",children:C.jsx("div",{className:"noticias-container",children:p?C.jsx("div",{className:"loading",children:"Cargando noticias..."}):n.length===0?C.jsxs("div",{className:"empty-state",children:[C.jsx("h2",{children:"No hay noticias publicadas"}),C.jsx("p",{children:"Vuelve pronto para ver las ltimas novedades"})]}):C.jsx("div",{className:"noticias-publicas-grid",children:n.map(w=>C.jsx("article",{className:"noticia-publica-card",children:C.jsxs(Ni,{to:`/noticia/${w.id}`,className:"noticia-link",children:[w.imagenUrl&&C.jsx("div",{className:"noticia-imagen-container",children:C.jsx("img",{src:w.imagenUrl,alt:w.titulo,className:"noticia-imagen"})}),C.jsxs("div",{className:"noticia-info",children:[C.jsx("span",{className:"noticia-categoria",children:w.categoria}),C.jsx("h2",{className:"noticia-titulo",children:w.titulo}),C.jsx("p",{className:"noticia-subtitulo",children:w.subtitulo}),C.jsxs("div",{className:"noticia-footer",children:[C.jsxs("span",{className:"noticia-autor",children:["Por ",w.autorNombre]}),C.jsx("span",{className:"noticia-fecha",children:T(w.fechaActualizacion)})]})]})]})},w.id))})})}),C.jsx("footer",{className:"home-footer",children:C.jsx("p",{children:"Iker A. Harnisch Narvaez - Haciendo uso de Firebase y Cloudinary"})})]})},KO=()=>{const{id:r}=TT(),e=mr(),[n,a]=B.useState(null),[o,u]=B.useState(!0),[f,m]=B.useState("");B.useEffect(()=>{p()},[r]);const p=async()=>{try{u(!0);const E=await Wm(r);E?E.estado!=="Publicado"?m("Esta noticia no est disponible pblicamente"):a(E):m("Noticia no encontrada")}catch(E){console.error("Error al cargar noticia:",E),m("Error al cargar la noticia")}finally{u(!1)}},y=E=>new Date(E).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return o?C.jsx("div",{className:"detalle-noticia",children:C.jsx("div",{className:"loading",children:"Cargando noticia..."})}):f||!n?C.jsx("div",{className:"detalle-noticia",children:C.jsxs("div",{className:"error-container",children:[C.jsx("h2",{children:f||"Noticia no encontrada"}),C.jsx(Ni,{to:"/",className:"btn-primary",children:"Volver al Inicio"})]})}):C.jsxs("div",{className:"detalle-noticia",children:[C.jsx("header",{className:"detalle-header",children:C.jsxs("div",{className:"header-content",children:[C.jsx("button",{onClick:()=>e("/"),className:"btn-back",children:" Volver"}),C.jsx(Ni,{to:"/",className:"logo-link",children:"Portal de Noticias"})]})}),C.jsx("article",{className:"noticia-detalle",children:C.jsxs("div",{className:"noticia-detalle-container",children:[C.jsx("div",{className:"noticia-categoria-tag",children:n.categoria}),C.jsx("h1",{className:"noticia-detalle-titulo",children:n.titulo}),C.jsx("h2",{className:"noticia-detalle-subtitulo",children:n.subtitulo}),C.jsx("div",{className:"noticia-detalle-meta",children:C.jsxs("div",{className:"meta-info",children:[C.jsxs("span",{className:"autor",children:["Por ",C.jsx("strong",{children:n.autorNombre})]}),C.jsx("span",{className:"separador",children:""}),C.jsx("span",{className:"fecha",children:y(n.fechaActualizacion)})]})}),n.imagenUrl&&C.jsx("div",{className:"noticia-detalle-imagen",children:C.jsx("img",{src:n.imagenUrl,alt:n.titulo})}),C.jsx("div",{className:"noticia-detalle-contenido",children:n.contenido.split(`
`).map((E,T)=>E.trim()&&C.jsx("p",{children:E},T))}),C.jsx("div",{className:"noticia-detalle-footer",children:C.jsx("button",{onClick:()=>e("/"),className:"btn-primary",children:"Ver ms noticias"})})]})})]})},YO=()=>{const[r,e]=B.useState(""),[n,a]=B.useState(""),[o,u]=B.useState(""),[f,m]=B.useState(!1),{iniciarSesion:p}=ls(),y=mr(),E=async T=>{if(T.preventDefault(),!r||!n){u("Por favor completa todos los campos");return}try{u(""),m(!0),await p(r,n),y("/dashboard")}catch(w){console.error(w),u("Error al iniciar sesin. Verifica tus credenciales.")}finally{m(!1)}};return C.jsx("div",{className:"login-container",children:C.jsxs("div",{className:"login-card",children:[C.jsx("h1",{children:"Iniciar Sesin"}),C.jsx("p",{className:"subtitle",children:"Sistema de Gestin de Noticias"}),o&&C.jsx("div",{className:"error-message",children:o}),C.jsxs("form",{onSubmit:E,children:[C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"email",children:"Correo Electrnico"}),C.jsx("input",{type:"email",id:"email",value:r,onChange:T=>e(T.target.value),placeholder:"tu@email.com",disabled:f})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"password",children:"Contrasea"}),C.jsx("input",{type:"password",id:"password",value:n,onChange:T=>a(T.target.value),placeholder:"",disabled:f})]}),C.jsx("button",{type:"submit",className:"btn-primary",disabled:f,children:f?"Iniciando sesin...":"Iniciar Sesin"})]}),C.jsxs("p",{className:"link-text",children:["No tienes cuenta? ",C.jsx(Ni,{to:"/registro",children:"Regstrate aqu"})]})]})})},XO=()=>{const[r,e]=B.useState({nombre:"",email:"",password:"",confirmPassword:"",rol:"Reportero"}),[n,a]=B.useState(""),[o,u]=B.useState(!1),{registrar:f}=ls(),m=mr(),p=E=>{const{name:T,value:w}=E.target;e(P=>({...P,[T]:w}))},y=async E=>{if(E.preventDefault(),!r.nombre||!r.email||!r.password||!r.confirmPassword){a("Por favor completa todos los campos");return}if(r.password!==r.confirmPassword){a("Las contraseas no coinciden");return}if(r.password.length<6){a("La contrasea debe tener al menos 6 caracteres");return}try{a(""),u(!0),await f(r.email,r.password,r.nombre,r.rol),m("/dashboard")}catch(T){console.error(T),T.code==="auth/email-already-in-use"?a("Este correo electrnico ya est registrado"):a("Error al registrar usuario. Intenta nuevamente.")}finally{u(!1)}};return C.jsx("div",{className:"login-container",children:C.jsxs("div",{className:"login-card",children:[C.jsx("h1",{children:"Registro de Usuario"}),C.jsx("p",{className:"subtitle",children:"Sistema de Gestin de Noticias"}),n&&C.jsx("div",{className:"error-message",children:n}),C.jsxs("form",{onSubmit:y,children:[C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"nombre",children:"Nombre Completo"}),C.jsx("input",{type:"text",id:"nombre",name:"nombre",value:r.nombre,onChange:p,placeholder:"Juan Prez",disabled:o})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"email",children:"Correo Electrnico"}),C.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:p,placeholder:"tu@email.com",disabled:o})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"password",children:"Contrasea"}),C.jsx("input",{type:"password",id:"password",name:"password",value:r.password,onChange:p,placeholder:"",disabled:o})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"confirmPassword",children:"Confirmar Contrasea"}),C.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:r.confirmPassword,onChange:p,placeholder:"",disabled:o})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"rol",children:"Rol"}),C.jsxs("select",{id:"rol",name:"rol",value:r.rol,onChange:p,disabled:o,children:[C.jsx("option",{value:"Reportero",children:"Reportero"}),C.jsx("option",{value:"Editor",children:"Editor"})]})]}),C.jsx("button",{type:"submit",className:"btn-primary",disabled:o,children:o?"Registrando...":"Registrarse"})]}),C.jsxs("p",{className:"link-text",children:["Ya tienes cuenta? ",C.jsx(Ni,{to:"/login",children:"Inicia sesin aqu"})]})]})})},$O=()=>{const{usuario:r,cerrarSesion:e}=ls(),n=mr(),a=dr(),[o,u]=B.useState([]),[f,m]=B.useState([]),[p,y]=B.useState([]),[E,T]=B.useState(null),[w,P]=B.useState(!0),[G,$]=B.useState(""),[Q,te]=B.useState(0);B.useEffect(()=>{r&&r.uid&&(ne(),ae())},[r,Q,a.pathname,E]);const ne=async()=>{try{P(!0),$("");let b;r.rol==="Editor"?b=await jO():b=await BO(r.uid),u(b)}catch(b){console.error("Error al cargar noticias:",b),$("Error al cargar las noticias")}finally{P(!1)}},ae=async()=>{try{const[b,M]=await Promise.all([cA(E),af()]);m(b),y(M)}catch(b){console.error("Error al cargar noticias publicadas:",b)}},ie=b=>new Date(b).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}),de=async()=>{try{await e(),n("/login")}catch(b){console.error("Error al cerrar sesin:",b)}},ye=async(b,M)=>{try{await qO(b,M),await ne()}catch(O){console.error("Error al cambiar estado:",O),alert("Error al cambiar el estado de la noticia")}},I=async(b,M)=>{if(window.confirm("Ests seguro de eliminar esta noticia?"))try{await zO(b,M),await ne()}catch(O){console.error("Error al eliminar noticia:",O),alert("Error al eliminar la noticia")}},R=b=>({Edicin:"estado-edicion",Terminado:"estado-terminado",Publicado:"estado-publicado",Desactivado:"estado-desactivado"})[b]||"";return C.jsxs("div",{className:"dashboard",children:[C.jsx("header",{className:"dashboard-header",children:C.jsxs("div",{className:"header-content",children:[C.jsx("h1",{children:"Panel de Administracin"}),C.jsxs("div",{className:"user-info",children:[C.jsxs("span",{children:[r.nombre," (",r.rol,")"]}),C.jsx("button",{onClick:de,className:"btn-secondary",children:"Cerrar Sesin"})]})]})}),C.jsxs("nav",{className:"dashboard-nav",children:[C.jsx("button",{onClick:()=>n("/dashboard"),className:"nav-link active",children:"Mis Noticias"}),r.rol==="Reportero"&&C.jsx("button",{onClick:()=>n("/dashboard/nueva-noticia"),className:"nav-link",children:"Nueva Noticia"}),r.rol==="Editor"&&C.jsx("button",{onClick:()=>n("/dashboard/secciones"),className:"nav-link",children:"Gestionar Secciones"}),C.jsx("button",{onClick:()=>n("/"),className:"nav-link",children:"Ver Sitio Pblico"})]}),C.jsxs("main",{className:"dashboard-main",children:[C.jsxs("div",{className:"dashboard-content",children:[C.jsx("h2",{children:r.rol==="Editor"?"Todas las Noticias":"Mis Noticias"}),G&&C.jsx("div",{className:"error-message",children:G}),w?C.jsx("div",{className:"loading",children:"Cargando noticias..."}):o.length===0?C.jsxs("div",{className:"empty-state",children:[C.jsx("p",{children:"No hay noticias disponibles."}),C.jsx("button",{onClick:()=>n("/dashboard/nueva-noticia"),className:"btn-primary",children:"Crear Primera Noticia"})]}):C.jsx("div",{className:"noticias-grid",children:o.map(b=>C.jsxs("div",{className:"noticia-card",children:[b.imagenUrl&&C.jsx("img",{src:b.imagenUrl,alt:b.titulo,className:"noticia-imagen"}),C.jsxs("div",{className:"noticia-content",children:[C.jsx("h3",{children:b.titulo}),C.jsx("p",{className:"noticia-subtitulo",children:b.subtitulo}),C.jsxs("div",{className:"noticia-meta",children:[C.jsx("span",{className:"categoria",children:b.categoria}),C.jsx("span",{className:`estado ${R(b.estado)}`,children:b.estado})]}),C.jsxs("p",{className:"noticia-autor",children:["Por: ",b.autorNombre]}),C.jsxs("div",{className:"noticia-actions",children:[C.jsx("button",{onClick:()=>n(`/dashboard/editar-noticia/${b.id}`),className:"btn-edit",children:"Editar"}),r.rol==="Reportero"&&b.estado==="Edicin"&&C.jsx("button",{onClick:()=>ye(b.id,"Terminado"),className:"btn-success",children:"Marcar como Terminado"}),r.rol==="Editor"&&C.jsxs(C.Fragment,{children:[b.estado==="Terminado"&&C.jsx("button",{onClick:()=>ye(b.id,"Publicado"),className:"btn-success",children:"Publicar"}),b.estado==="Publicado"&&C.jsx("button",{onClick:()=>ye(b.id,"Desactivado"),className:"btn-warning",children:"Desactivar"}),b.estado==="Desactivado"&&C.jsx("button",{onClick:()=>ye(b.id,"Publicado"),className:"btn-success",children:"Reactivar"})]}),C.jsx("button",{onClick:()=>I(b.id,b.imagenUrl),className:"btn-delete",children:"Eliminar"})]})]})]},b.id))})]}),C.jsxs("div",{className:"dashboard-published-section",children:[C.jsx("h2",{children:"Noticias Publicadas"}),C.jsx("section",{className:"categorias-section",children:C.jsxs("div",{className:"categorias-container",children:[C.jsx("button",{className:`categoria-btn ${E?"":"active"}`,onClick:()=>T(null),children:"Todas"}),p.map(b=>C.jsx("button",{className:`categoria-btn ${E===b.nombre?"active":""}`,onClick:()=>T(b.nombre),children:b.nombre},b.id))]})}),f.length===0?C.jsx("div",{className:"empty-state",children:C.jsx("p",{children:"No hay noticias publicadas en esta categora"})}):C.jsx("div",{className:"noticias-publicas-grid",children:f.map(b=>C.jsx("article",{className:"noticia-publica-card",children:C.jsxs(Ni,{to:`/noticia/${b.id}`,className:"noticia-link",children:[b.imagenUrl&&C.jsx("div",{className:"noticia-imagen-container",children:C.jsx("img",{src:b.imagenUrl,alt:b.titulo,className:"noticia-imagen"})}),C.jsxs("div",{className:"noticia-info",children:[C.jsx("span",{className:"noticia-categoria",children:b.categoria}),C.jsx("h3",{className:"noticia-titulo",children:b.titulo}),C.jsx("p",{className:"noticia-subtitulo",children:b.subtitulo}),C.jsxs("div",{className:"noticia-footer",children:[C.jsxs("span",{className:"noticia-autor",children:["Por ",b.autorNombre]}),C.jsx("span",{className:"noticia-fecha",children:ie(b.fechaActualizacion)})]})]})]})},b.id))})]})]})]})},dT=()=>{const{id:r}=TT(),{usuario:e}=ls(),n=mr(),[a,o]=B.useState({titulo:"",subtitulo:"",contenido:"",categoria:""}),[u,f]=B.useState(null),[m,p]=B.useState(""),[y,E]=B.useState([]),[T,w]=B.useState(!1),[P,G]=B.useState("");B.useEffect(()=>{$(),r&&Q()},[r]);const $=async()=>{try{const ie=await af();E(ie),ie.length>0&&!a.categoria&&o(de=>({...de,categoria:ie[0].nombre}))}catch(ie){console.error("Error al cargar secciones:",ie)}},Q=async()=>{try{const ie=await Wm(r);ie&&(o({titulo:ie.titulo,subtitulo:ie.subtitulo,contenido:ie.contenido,categoria:ie.categoria}),p(ie.imagenUrl))}catch(ie){console.error("Error al cargar noticia:",ie),G("Error al cargar la noticia")}},te=ie=>{const{name:de,value:ye}=ie.target;o(I=>({...I,[de]:ye}))},ne=ie=>{const de=ie.target.files[0];if(de){f(de);const ye=new FileReader;ye.onloadend=()=>{p(ye.result)},ye.readAsDataURL(de)}},ae=async ie=>{if(ie.preventDefault(),!a.titulo||!a.subtitulo||!a.contenido||!a.categoria){G("Por favor completa todos los campos obligatorios");return}try{if(w(!0),G(""),r){const de=await Wm(r);await kO(r,{...a,imagenUrl:de.imagenUrl},u)}else await UO(a,u,e.uid,e.nombre);n("/dashboard")}catch(de){console.error("Error al guardar noticia:",de),G("Error al guardar la noticia. Intenta nuevamente.")}finally{w(!1)}};return C.jsxs("div",{className:"formulario-container",children:[C.jsxs("div",{className:"formulario-header",children:[C.jsx("h1",{children:r?"Editar Noticia":"Nueva Noticia"}),C.jsx("button",{onClick:()=>n("/dashboard"),className:"btn-secondary",children:"Volver"})]}),P&&C.jsx("div",{className:"error-message",children:P}),C.jsxs("form",{onSubmit:ae,className:"formulario-noticia",children:[C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"titulo",children:"Ttulo *"}),C.jsx("input",{type:"text",id:"titulo",name:"titulo",value:a.titulo,onChange:te,placeholder:"Ttulo de la noticia",disabled:T,required:!0})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"subtitulo",children:"Subttulo *"}),C.jsx("input",{type:"text",id:"subtitulo",name:"subtitulo",value:a.subtitulo,onChange:te,placeholder:"Subttulo o bajante",disabled:T,required:!0})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"categoria",children:"Categora *"}),C.jsxs("select",{id:"categoria",name:"categoria",value:a.categoria,onChange:te,disabled:T,required:!0,children:[C.jsx("option",{value:"",children:"Selecciona una categora"}),y.map(ie=>C.jsx("option",{value:ie.nombre,children:ie.nombre},ie.id))]})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"contenido",children:"Contenido *"}),C.jsx("textarea",{id:"contenido",name:"contenido",value:a.contenido,onChange:te,placeholder:"Escribe el contenido de la noticia...",rows:"10",disabled:T,required:!0})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"imagen",children:"Imagen (Opcional)"}),C.jsx("input",{type:"file",id:"imagen",accept:"image/*",onChange:ne,disabled:T}),m&&C.jsx("div",{className:"imagen-preview",children:C.jsx("img",{src:m,alt:"Preview"})})]}),C.jsxs("div",{className:"form-actions",children:[C.jsx("button",{type:"submit",className:"btn-primary",disabled:T,children:T?"Guardando...":r?"Actualizar Noticia":"Crear Noticia"}),C.jsx("button",{type:"button",onClick:()=>n("/dashboard"),className:"btn-secondary",disabled:T,children:"Cancelar"})]})]})]})},JO=()=>{const{usuario:r}=ls(),e=mr(),[n,a]=B.useState([]),[o,u]=B.useState(!1),[f,m]=B.useState(null),[p,y]=B.useState({nombre:"",descripcion:""}),[E,T]=B.useState(!1),[w,P]=B.useState("");B.useEffect(()=>{r.rol!=="Editor"&&e("/dashboard"),G()},[r,e]);const G=async()=>{try{const ie=await af();a(ie)}catch(ie){console.error("Error al cargar secciones:",ie),P("Error al cargar las secciones")}},$=ie=>{const{name:de,value:ye}=ie.target;y(I=>({...I,[de]:ye}))},Q=async ie=>{if(ie.preventDefault(),!p.nombre){P("El nombre de la seccin es obligatorio");return}try{T(!0),P(""),f?await FO(f.id,p):await HO(p),y({nombre:"",descripcion:""}),m(null),u(!1),await G()}catch(de){console.error("Error al guardar seccin:",de),P("Error al guardar la seccin")}finally{T(!1)}},te=ie=>{m(ie),y({nombre:ie.nombre,descripcion:ie.descripcion||""}),u(!0)},ne=async ie=>{if(window.confirm("Ests seguro de eliminar esta seccin?"))try{await GO(ie),await G()}catch(de){console.error("Error al eliminar seccin:",de),alert("Error al eliminar la seccin")}},ae=()=>{y({nombre:"",descripcion:""}),m(null),u(!1),P("")};return C.jsxs("div",{className:"gestion-secciones",children:[C.jsxs("div",{className:"formulario-header",children:[C.jsx("h1",{children:"Gestin de Secciones"}),C.jsx("button",{onClick:()=>e("/dashboard"),className:"btn-secondary",children:"Volver al Dashboard"})]}),w&&C.jsx("div",{className:"error-message",children:w}),o?C.jsxs("div",{className:"formulario-seccion",children:[C.jsx("h2",{children:f?"Editar Seccin":"Nueva Seccin"}),C.jsxs("form",{onSubmit:Q,children:[C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"nombre",children:"Nombre *"}),C.jsx("input",{type:"text",id:"nombre",name:"nombre",value:p.nombre,onChange:$,placeholder:"Ej: Tecnologa, Deportes, Poltica",disabled:E,required:!0})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"descripcion",children:"Descripcin"}),C.jsx("textarea",{id:"descripcion",name:"descripcion",value:p.descripcion,onChange:$,placeholder:"Descripcin opcional de la seccin",rows:"3",disabled:E})]}),C.jsxs("div",{className:"form-actions",children:[C.jsx("button",{type:"submit",className:"btn-primary",disabled:E,children:E?"Guardando...":f?"Actualizar":"Crear"}),C.jsx("button",{type:"button",onClick:ae,className:"btn-secondary",disabled:E,children:"Cancelar"})]})]})]}):C.jsx("button",{onClick:()=>u(!0),className:"btn-primary",children:"Nueva Seccin"}),C.jsxs("div",{className:"secciones-lista",children:[C.jsx("h2",{children:"Secciones Existentes"}),n.length===0?C.jsx("p",{children:"No hay secciones creadas an."}):C.jsx("div",{className:"secciones-grid",children:n.map(ie=>C.jsxs("div",{className:"seccion-card",children:[C.jsx("h3",{children:ie.nombre}),ie.descripcion&&C.jsx("p",{className:"seccion-descripcion",children:ie.descripcion}),C.jsxs("div",{className:"seccion-actions",children:[C.jsx("button",{onClick:()=>te(ie),className:"btn-edit",children:"Editar"}),C.jsx("button",{onClick:()=>ne(ie.id),className:"btn-delete",children:"Eliminar"})]})]},ie.id))})]})]})};function ZO(){return C.jsx(MO,{children:C.jsx(WO,{})})}function WO(){return B.useEffect(()=>{PO()},[]),C.jsx(c1,{children:C.jsxs(Bw,{children:[C.jsx(Ci,{path:"/",element:C.jsx(QO,{})}),C.jsx(Ci,{path:"/noticia/:id",element:C.jsx(KO,{})}),C.jsx(Ci,{path:"/login",element:C.jsx(YO,{})}),C.jsx(Ci,{path:"/registro",element:C.jsx(XO,{})}),C.jsx(Ci,{path:"/dashboard",element:C.jsx(nh,{children:C.jsx($O,{})})}),C.jsx(Ci,{path:"/dashboard/nueva-noticia",element:C.jsx(nh,{children:C.jsx(dT,{})})}),C.jsx(Ci,{path:"/dashboard/editar-noticia/:id",element:C.jsx(nh,{children:C.jsx(dT,{})})}),C.jsx(Ci,{path:"/dashboard/secciones",element:C.jsx(nh,{children:C.jsx(JO,{})})}),C.jsx(Ci,{path:"*",element:C.jsx(bT,{to:"/"})})]})})}Jb.createRoot(document.getElementById("root")).render(C.jsx(B.StrictMode,{children:C.jsx(ZO,{})}));
